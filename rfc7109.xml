<?xml version="1.0" encoding="US-ASCII"?>
<?xml-stylesheet type='text/xsl'
href='http://xml.resource.org/authoring/rfc2629.xslt' ?>

<!-- used v2 -->

<!DOCTYPE rfc SYSTEM "rfc2629.dtd">

<?rfc toc="yes" ?>
<?rfc symrefs="yes" ?>
<?rfc rfcedstyle="yes"?>
<?rfc compact="yes"?>  
<?rfc subcompact="no"?>
<?rfc sortrefs="yes"?>

<rfc number="7109" category="exp" submissionType="independent"
     ipr="trust200902">
  <front>

    <title abbrev="HA-Initiated Flow Binding for MIPv6">
Flow Bindings Initiated by Home Agents for Mobile IPv6
</title>


    <author fullname="Hidetoshi Yokota" initials="H.Y." surname="Yokota">
      <organization>KDDI Lab</organization>

      <address>
        <postal>
          <street>2-1-15 Ohara</street>

          <city>Fujimino</city>

          <region>Saitama</region>

          <country>Japan</country>

          <code>356-8502</code>
        </postal>


        <email>yokota@kddilabs.jp</email>
      </address>
    </author>

    <author fullname="Dae-Sun Kim" initials="D.K." surname="Kim">
      <organization>JEJU Technopark</organization>

      <address>
        <postal>
          <street>217, Jungang-ro (St)</street>

          <city>Jejusi</city>

          <region>Jeju Special Self-Governing Province</region>

          <country>Korea</country>

          <code>690-787</code>
        </postal>

        <email>dskim@jejutp.or.kr</email>
      </address>
    </author>

    <author fullname="Behcet Sarikaya" initials="B.S." surname="Sarikaya">
      <organization abbrev="Huawei">Huawei USA</organization>

      <address>
        <postal>
          <street>5340 Legacy Drive, Building 3</street>

          <street/>

          <city>Plano</city>

          <region>TX</region>

          <code>75024</code>
<country>US</country>

        </postal>

        <phone>+1 469-277-5839</phone>

        <email>sarikaya@ieee.org</email>
      </address>
    </author>

    <author fullname="Frank Xia" initials="F.X." surname="Xia">
      <organization abbrev="Huawei">Huawei Technologies Co., Ltd.</organization>

      <address>
        <postal>
          <street>101 Software Avenue, Yuhua District</street>

          <street/>

          <city>Nanjing</city>

          <region>Jiangsu</region>

          <code>210012</code>
<country>China</country>
        </postal>

        <phone>+86-25-56625443</phone>

        <email>xiayangsong@huawei.com</email>
      </address>
    </author>

    <date month="February" year="2014"/>

    <workgroup/>


    <abstract>
      <t>There are scenarios in which the home agent needs to trigger flow
      binding operations towards the mobile node, such as moving a flow from
      one access network to another based on network resource
      availability. In order for the home agent to be able to initiate
      interactions for flow bindings with the mobile node, this document
      defines new signaling messages and sub-options for Mobile IPv6. Flow
bindings initiated by a home
      agent are supported for mobile nodes enabled by
      both IPv4 and IPv6.</t>
    </abstract>
  </front>


  <middle>
    <section title="Introduction">
      <t><xref target="RFC6089"/> allows a mobile node (MN) to bind a particular
      flow to a care-of address (CoA) without affecting other flows using the same
      home address. 
BU/BA (Binding Update / Binding Acknowledgement) messages are
   extended for the mobile node to add, delete, modify, move, refresh,
   and revoke flow bindings in a home agent (HA).
The operations are always initiated by the
      mobile node.</t>

      <t>While the mobile node manipulates flow bindings by, e.g., the user
      interaction or the change of the attached link condition, these
      operations are also required for network-related reasons such as dynamic
      QoS control in the network, load balancing, or maintenance in mobility
      agent nodes. For the latter case, the mobile node is not very aware of
      the transport network condition away from it or of the policy and charging
      status controlled by the operator; thus, the network needs to request that the
      mobile node handle proper flow bindings.</t>

      <t>This document defines a new Mobility Header and messages in order for
      the home agent to request that the mobile node initiate flow bindings in a
      timely manner. Flow mobility is also supported for mobile nodes with an IPv4
home address
      and an IPv4 address of the home agent, as described in <xref
      target="RFC5555"/>.</t>
    </section>

    <section title="Terminology">
      <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <xref
      target="RFC2119"/>.</t>

      <t>The terminology in this document is based on the definitions in <xref
      target="RFC6275"/> and <xref target="RFC6089"/>.</t>
    </section>



    <section title="Use Cases">

      <section title="QoS Provisioning">
        <t>When the user launches a video chat application and starts sending
        voice and video to the other end, the network may need to provide
        different QoS treatments to these media based on the operator's
        policy. In such a case, the network needs to request the user or
        mobile node to establish separate flows for voice and video.</t>
      </section>

      <section title="Traffic Offload from Congested Network">
        <t>The 3G operator may want to move traffic flows from the 3G access network
        to another network (e.g., Wi-Fi network) due to instantaneous traffic increases
        in the 3G access network. Fine-grained traffic offload is desirable.
        For example, Voice over IP (VoIP) flows based on IP Multimedia Subsystems
(IMS) must stay in the mobile core network
        while video-streaming flows provided by servers on the Internet could
        bypass the mobile core network via Wi-Fi access. Since the network
        knows more about its conditions and has access to the policy server,
        more timely and well-controlled traffic offloading is possible. The
        home agent sends an updated flow descriptor to be offloaded to the
        mobile node.</t>
      </section>

      <section title="Flow Movement or Deletion in an Emergency Situation">
        <t>In an emergency situation caused by a natural disaster, it is
        necessary to accept as many voice calls as possible for inquiries
        to confirm the safety status of family and friends, while non-critical
        services such as gaming would be considered lower priority. In order to save
        the 3G / Long Term Evolution (LTE) radio resources for
        emergency services, non-critical
        services may need to be moved to another access network or closed down. The
        home agent requests that the mobile node use Wi-Fi access for
        non-critical application flows or terminate them gracefully, e.g.,
        by letting it notify the user of possible QoS degradation or ask
        him/her to finish the corresponding applications before taking any
        action.</t>
      </section>


      <section title="Service-Specific Data Cap">
        <t>The mobile operator offers a mobile broadband service with a flat
        rate subscription limited to 5 GB per month. Once the allotment is
        used up, the service is downgraded to 64 kbits/s.&nbsp; This
        limitation, however, is not applied to IMS-based services (e.g.,
        Voice over LTE (VoLTE)), while video conversations over the Internet will be affected.
        The operator can indicate this to the user by sending modified flow
        descriptors as a proposal to adjust the communication data rate or
        change access for an ongoing session.</t>

      </section>


    </section>



    <section anchor="ProtocolOper" title="Protocol Operation">
      <t><xref target="RFC6089"/> makes use of BU/BA signaling to forward,
      i.e., register or discard, a
      flow binding in a home agent. Flow binding operations are always
      initiated from the mobile node. The basic principle of
      this specification is that the home agent prompts the mobile node to
      perform flow binding operations. For this purpose, a new Mobility Header
      and two new messages, that is, Flow Binding Indication (FBI) and Flow
      Binding Acknowledgement (FBA), are defined. An FBI is used by the home agent
      to request flow binding operations to the mobile node, and an FBA is used
      for acknowledging an FBI. In order for the flow binding operation to be
      complete, a BU/BA exchange MUST be initiated by the mobile node after
      an FBI/FBA exchange.</t>

      <t>It is assumed that the home agent has already created binding cache
      entries for the mobile node before launching flow binding
      operations.</t>

      <t>Due to access-network change on the mobile-node side, some interfaces
      that used to be active may not be valid at the time of the flow binding
      operation by the home agent, in which case, even if the HA sends the FBI
      to the MN, the FBA will not return. After retransmitting the FBIs for
      MAX_FBI_RETRIES times and not receiving the FBA, the HA determines that
      the target interface is not available.</t>

      <t>If the mobile node does not support the FBI message, it responds with
      a Binding Error message with status set to 2 (unrecognized Mobility
      Header (MH) type value) as described in <xref target="RFC6275"/>. When
      the Binding Error message with status set to 2 is received in response
      to an FBI message, the home agent MUST NOT use an FBI message with that
      mobile node again.</t>

      <section anchor="Adding" title="Adding Flow Bindings">
        <t>Adding the flow binding implies associating a particular flow with
        one of the care-of addresses on the mobile node. The care-of address
        concerned with the flow binding is present in the destination address
        of the packet or the alternate care-of address option. Alternatively,
        the care-of address may be indicated by the Target Care-of Address
        sub-option defined in <xref target="tcoa"/>.</t>

        <t>When adding a new flow binding, the home agent sends an FBI with a
        Flow Identification Mobility option to the mobile node. In <xref
        target="cf_add"/>, which is shown as an example for this operation,
        the mobile node exchanges both voice and video over 
        FID#1 (Flow Identifier #1). Based on the operator's policy, the network
determines if it needs to
        provide separate QoS for the video flow, and the home agent sends the
        FBI to the mobile node. The Flow Identification Mobility option
        defined in <xref target="RFC6089"/> includes the current FID and the Traffic Selector
        (TS) to specify the video flow. The Flow Binding Action sub-option
        MUST indicate the Add operation defined in <xref target="attribute_1"/>.
        The mobile node returns the FBA to the home agent with the same
        options. The BU/BA exchange follows afterwards to perform the actual
        flow binding as defined in <xref target="RFC6088"/>, and the video traffic is exchanged
        over FID#2.
</t>

        <figure anchor="cf_add"
                title="Example Call Flow for Adding a Flow Binding">
          <artwork align="center" xml:space="preserve">
+----+                           +----+
| MN |                           | HA |
+----+                           +----+
  |       FID#1(voice+video)       |
  |/==============================\|
  |\==============================/|
  |                                |
  |    FBI(add,FID#1,TS[video])    |
  |&lt;-------------------------------|
  |      FBA(FID#1,TS[video])      |
  |-------------------------------&gt;|
  |       BU(FID#2,TS[video])      |
  |-------------------------------&gt;|
  |       BA(FID#2,TS[video])      |
  |&lt;-------------------------------|
  |                                |
  |         FID#1(voice)           |
  |&lt;==============================&gt;|
  |         FID#2(video)           |
  |&lt;==============================&gt;|
</artwork>
        </figure>
      </section>



      <section anchor="Deleting" title="Deleting Flow Bindings">
        <t>When removing a flow binding, the home agent sends an FBI with a
        Flow Identification Mobility option in which the Flow Binding Action
        sub-option indicates the Delete operation. The Flow Identification
        Mobility option includes a unique FID for the mobile node to locate
        the flow binding and remove it.</t>

      </section>



      <section anchor="Modifying" title="Modifying Flow Bindings">
        <t>When modifying a flow binding (e.g., changing QoS attributes of the
        flow as defined in <xref target="PMIP6-QOS"/>) is
        needed, the home agent sends the mobile node an FBI message with the Flow
        Identification Mobility option. The option includes the FID to be
        modified. A Traffic Selector sub-option MAY come with the Flow
        Identification Mobility option and contain new attributes, e.g., the in
        Quality of Service option.
        </t>
      </section>

      <section anchor="Refreshing" title="Refreshing Flow Bindings">
        <t>A flow binding is refreshed by simply including the Flow
        Identification Mobility option with the Refresh Action field in the FBI
        message. The message should be sent before the expiration of the flow
        binding. The message updates existing bindings with new information.
        Hence, all information previously sent in the last refreshing message
        need to be resent; otherwise, such information will be lost.</t>
      </section>


      <section anchor="Moving" title="Moving Flow Bindings">
        <t>The home agent can request to move a flow associated with one
        interface of the multi-interfaced mobile node to another by sending an
        FBI message to the mobile node. The Action field of the Flow Binding
        Action sub-option is set to Move, and the address of the target
        interface is also included in the Target Care-of Address sub-option. After
        the FBA is returned to the home agent, the flow mobility is performed
        by the mobile node. <xref target="cf_move"/> shows the movement of a
        flow label as FID from the interface with sCoA to that with tCoA,
        which is stored in the Binding Identity Mobility option.</t>

        <figure anchor="cf_move"
                title="Example Call Flow for Moving a Flow Binding">
          <artwork align="center" xml:space="preserve">
+----+                           +----+
| MN |                           | HA |
+----+                           +----+
 |&lt;=sCoA                           |
 | |&lt;=tCoA                         |
 | |         FBI(FID,tCoA)         |
 |&lt;--------------------------------|
 | |         FBA(FID,tCoA)         |
 |--------------------------------&gt;|
 | |                               |
 | |        BU(BID[tCoA],FID)      |
 | |------------------------------&gt;|
 | |        BA(BID[tCoA],FID)      |
 | |&lt;------------------------------|
 | |                               |
</artwork>
        </figure>

      </section>



      <section anchor="revoking" title="Revoking Flow Bindings">
        <t>When the home agent or the network attached to it is overloaded,
        the home agent can revoke a flow binding registered by the mobile
        node. The home agent sends the mobile node an FBI message with a Flow
        Identification Mobility option in which the Flow Binding Action
        sub-option indicates the Revoke operation. When the MN receives the FBI
        message with the Revoke operation, it decides whether the flow should be
        removed (de-registration) or moved to another interface and returns
        the FBA with an appropriate status code. The mobile node SHOULD take
        an action by sending a new BU, for example, to deregister the
        flow.</t>

        <t>The difference between revoking and deleting flow bindings (<xref
        target="Deleting"/>) is that the target flow may be revoked by the network with the
        procedures defined in <xref target="RFC5846"/> even if the mobile node
        does not take any action.</t>
      </section>
    </section>

    <section anchor="flowlist" title="Handling of the Flow Bindings List">
      <t>The flow bindings list defined in <xref target="RFC6089"/> needs to be
      updated as follows after each protocol operation defined above is performed:

</t>

      <t>If an FBI contains a flow binding Add operation and if the corresponding
      FBA has a status code equal to zero, the home agent MUST add a new entry to
      the flow bindings list. The FID, Flow Descriptor, FID-PRI, and Action fields
      are taken from the Flow Identification Mobility option. The binding
identifier (BID) is copied
      from the Binding Reference sub-option. The Active/Inactive Flag is set to
      Active. Note that if BID is not available, it may be replaced by
      Target Care-of Address.</t>

      <t>If an FBI contains a flow binding Delete operation and if the
      corresponding FBA has a status code equal to zero, the home agent MUST
      locate the list entry corresponding to this flow and then delete the
      entry.</t>

      <t>If the home agent sends a Binding Revocation Indication message with
      the Flow Identification Mobility option with the action field set to Revoke and if the
      corresponding Binding Revocation Acknowledgement message indicates
      acceptance, the home agent MUST locate the list entry corresponding to this
      flow and then delete the entry.</t>

      <t>If an FBI contains a flow binding Modify operation and if the
      corresponding FBA has a status code equal to zero, the home agent MUST
      delete the list entry corresponding to this flow and then add a new
      entry, setting the values as defined in the Flow Identification Mobility
      option.</t>

      <t>If an FBI contains a flow binding Refresh operation and if the
      corresponding FBA has a status code equal to zero, the home agent MUST
      locate the list entry corresponding to this flow and then set the
      Active/Inactive Flag to Active.</t>

      <t>If an FBI contains a flow binding Move operation and if the
      corresponding FBA has a status code equal to zero, the home agent MUST
      locate the list entry corresponding to this flow and then change the BID
      value to the care-of address in the Flow Identification Mobility
      option.</t>

      <t>If an FBI contains a flow binding Revoke operation and if the
      corresponding FBA has a status code equal to zero, the home agent MUST
      locate the list entry corresponding to this flow and then delete the
      entry.

</t>

      <t>Flow binding operations apply equally to IPv4 packets and IPv6
      packets as per Dual-Stack Mobile IPv6 <xref target="RFC5555"/>. In order
      to support the situation where there is a NAT/firewall between the mobile
      node and home agent, NAT detection and NAT keepalive mechanisms defined
      in <xref target="RFC5555"/> MUST be used. When the mobile node and home
      agent are in IPv6-only and IPv4-only networks respectively and NAT64
      <xref target="RFC6146"/> resides in between, each node would behave as
      if the other node was in the same network domain. Even though this
      scenario is not fully described in <xref target="RFC5555"/>, the initial
      mobility binding is always performed by the mobile node, and the binding
      cache is created in the home agent. The destination address of the FBI
      SHALL be the mobile node's IPv4 care-of address in the binding cache
      entry.</t>
    </section>



    <section title="Flow Binding Messages and Options">
      <section title="Mobility Header" anchor="mh">
        <t>The messages described below follow the Mobility Header format
        specified in Section 6.1 of <xref target="RFC6275"/>.</t>

        <section anchor="FBI" title="Flow Binding Indication">
          <t>Flow Binding Indication messages are used by the home agent
          to initiate flow binding operations to the mobile node. Flow
          Binding Indication messages use the MH Type value (21) for 
          Flow Binding messages and a Flow Binding Type value of 1, and the
          format of the Message Data field in the Mobility Header is as
          follows:</t>

          <figure anchor="Dedicack"
                  title="Flow Binding Indication Mobility Header Format">
            <artwork align="center" xml:space="preserve">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
                                +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                                |      Flow Binding Type = 1    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|          Sequence #           |   Trigger     |A|  Reserved   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
.                                                               .
.                        Mobility options                       .
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</artwork>
          </figure>

          <t><list style="hanging">
              <t hangText="Sequence #"><vspace blankLines="0"/> A 16-bit
              unsigned integer used by the home agent to match a returned Flow
              Binding Acknowledgement with the Flow Binding Indication. It
              could be a random number.</t>

              <t hangText="Trigger"><vspace blankLines="0"/> 8-bit unsigned
              integer indicating the event that triggered the home agent to
              send the Flow Binding Indication message. The following Trigger
              values are currently defined:<list
                  hangIndent="10" style="hanging">
                  <t hangText="0  Reserved"/>

                  <t hangText="1  Unspecified"/>

                  <t hangText="2  Administrative Reason"/>

                  <t hangText="3  Possible Out-of-Sync BCE State"/>

                  <t hangText="250-255 Reserved for Testing Purposes Only"/>

                  <t hangText="All other values are unassigned.">
                  </t>
                </list></t>

              <t hangText="Acknowledge (A)"><vspace blankLines="0"/> The
              Acknowledge (A) bit is set by the home agent to request that a Flow
              Binding Acknowledgement be returned upon receipt of the Flow
              Binding Indication.</t>

              <t hangText="Reserved"><vspace blankLines="0"/> These fields are
              unused. They MUST be initialized to zero by the sender and MUST
              be ignored by the receiver.</t>


              <t hangText="Mobility options"><vspace blankLines="0"/>
              Variable-length field of such length that the complete Mobility
              Header is an integer multiple of 8 octets long. Flow
              Identification Mobility options are included in this
              field.</t>
            </list></t>
        </section>


        <section anchor="FBA" title="Flow Binding Acknowledgement">
          <t>The Flow Binding Acknowledgement is used to acknowledge receipt
          of a Flow Binding Indication. The mobile node sends an FBA message to
          acknowledge the reception of an FBI to add, delete, modify, refresh,
          move, or revoke a flow binding. On receiving messages with Flow
          Identification Mobility option(s), the mobile node should copy each
          Flow Identification Mobility option to the Acknowledgement message.
          The Flow Binding Acknowledgement has the MH Type value (21)
          for Flow Binding messages and a Flow Binding Type value of 2. When
          this value is indicated in the MH Type field, the format of the
          Message Data field in the Mobility Header is as follows:</t>

          <figure anchor="Dedicack2"
                  title="Flow Binding Acknowledgement Mobility Header Format">
            <artwork align="center" xml:space="preserve">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
                                +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                                |       Flow Binding Type = 2   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|          Sequence #           |   Status      |    Reserved   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
.                                                               .
.                        Mobility options                       .
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</artwork>
          </figure>

          <t><list style="hanging">
              <t hangText="Sequence #"><vspace blankLines="0"/> The sequence
              number in the Flow Binding Acknowledgement is copied from the
              Sequence Number field in the Flow Binding Indication.
              </t>

              <t hangText="Status"><vspace blankLines="0"/> 8-bit unsigned
              integer indicating the result of processing the Flow Binding
              Indication message by the receiving mobile node. Values less than
128 in the
              Status field indicate that the Flow Binding
              Indication was processed successfully by the receiving node.
              Values greater than or equal to 128 indicate that the Flow
              Binding Indication was rejected by the receiving node. The
              following status values are currently defined:
              <list hangIndent="10" style="hanging">
                  <t hangText="0  Success"/>

                  <t hangText="128  Binding (target CoA) Does NOT Exist"/>

                  <t hangText="129  Action NOT Authorized"/>

                  <t hangText="All other values are unassigned."/>
                </list></t>

              <t hangText="Mobility options"><vspace blankLines="0"/>
              Variable-length field of such length that the complete Mobility
              Header is an integer multiple of 8 octets long. This field
              contains zero or more TLV-encoded mobility options. Flow
              Identification Mobility options are included in this field.</t>
            </list></t>
        </section>



        <section anchor="revocationext"
                 title="Flow Binding Revocation Extensions">
          <t>This specification enables Binding Revocation Indication and
          Binding Revocation Acknowledgement messages to carry Flow
          Identification Mobility options as defined in <xref
          target="RFC6089"/> with the extensions defined in this document.</t>

          <t/>
        </section>
      </section>


      <section title="New Options">

        <t>This document defines new Flow Identification sub-options that are
        included in the Flow Identification Mobility option specified in <xref
        target="RFC6089"/>.</t>

        <section anchor="attribute_1" title="Flow Binding Action Sub-Option">
          <t>This section defines a new sub-option for flow binding actions,
          which MUST be included in the Flow Identification Mobility option
           when it is sent from the home agent to the mobile node via the FBI
          message. The format of this sub-option is shown in <xref
          target="fig_action"/>.</t>

          <figure anchor="fig_action" title="Flow Binding Action Sub-Option">
            <artwork align="center" xml:space="preserve">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|Sub-opt Type   |Sub-opt Length |  Reserved   |     Action      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</artwork>
          </figure>

          <t><list style="hanging">
              <t hangText="Sub-opt Type"><vspace blankLines="0"/>4</t>

              <t hangText="Sub-opt Length"><vspace blankLines="0"/> Length of
              the sub-option in octets, excluding the Sub-opt Type and Sub-opt
              Length fields.</t>

              <t hangText="Action"><vspace blankLines="0"/> This is a 8-bit
              field that describes the required processing for the option. It
              can be assigned one of the following new values:
              <list hangIndent="10" style="hanging">

                  <t hangText="11  Add a flow binding "/>

                  <t hangText="12  Delete a flow binding "/>

                  <t hangText="13  Modify a flow binding "/>

                  <t hangText="14  Refresh a flow binding"/>

                  <t hangText="15  Move a flow binding"/>

                  <t hangText="16  Revoke a flow binding"/>

                  <t hangText="All other values are unassigned."/>
                </list></t>
            </list></t>
        </section>



        <section anchor="tcoa" title="Target Care-of Address Sub-Option">
          <t>This section introduces the Target Care-of Address sub-option,
          which may be included in the Flow Identification Mobility option.
   This
   sub-option is used to indicate to the mobile node that a flow
   binding is to be moved from one interface to another.
</t>

          <figure anchor="fig_tcoa" title="Target Care-of Address Sub-Option">
            <artwork align="center" xml:space="preserve">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|Sub-opt Type   |Sub-opt Length |          Reserved             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                 Target Care-of Address                        |
.                                                               .
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</artwork>
          </figure>

          <t><list style="hanging">
              <t hangText="Sub-opt Type"><vspace blankLines="0"/>5</t>

              <t hangText="Sub-opt Length"><vspace blankLines="0"/> Length of
              the sub-option in octets, excluding the Sub-opt Type and Sub-opt
              Length fields.</t>

              <t hangText="Reserved"><vspace blankLines="0"/> This field is
              unused. It MUST be initialized to zero by the sender and MUST be
              ignored by the receiver.</t>

              <t hangText="Target Care-of Address"><vspace blankLines="0"/>
              The address of an interface that the flow is moved to. This
              address could be an IPv4 or IPv6 address. This sub-option MUST be
              included when the action taken is "15 Move a flow
              binding".</t>
            </list></t>
        </section>

      </section>

    </section>


    <section title="Security Considerations">
      <t>Security issues for this document follow those of <xref
      target="RFC6088"/>, <xref target="RFC6089"/>, and <xref
      target="RFC5846"/>. This specification allows the home agent to
      manipulate only the binding of a flow(s) that is currently registered
      with it, which is the same principle described in <xref
      target="RFC5846"/>. No additional security issue specific to this
      document is identified.</t>
    </section>


    <section title="Protocol Constants">
      <t><list style="hanging">
          <t hangText="Maximum FBI retries (MAX_FBI_RETRIES)"><vspace/>This
          variable specifies the maximum number of times the HA MAY retransmit
          a Flow Binding Indication message when the FBA is not returned within
          the time period specified by MAX_FBA_TIMEOUT. The default value for
          this parameter is 3.</t>

          <t hangText="Maximum FBA timeout (MAX_FBA_TIMEOUT)"><vspace/>This
          variable specifies the maximum time in seconds the HA MUST wait
          before retransmitting another FBI message. The default for this
          parameter is 3 seconds.<vspace/></t>
        </list></t>
    </section>

    <section title="IANA Considerations">
      <t>IANA has taken the actions described below.</t>

      <t><list style="hanging">
          <t hangText="Action-1"><vspace/>This specification defines a new
          Mobility Header Type, "Flow Binding Message". This Mobility Header
          message is described in <xref target="mh"/>, and the type value for this
          messages is 21, which has been assigned in the "Mobility Header
Types - for the MH Type field in the Mobility Header" registry.
          </t>

          <t hangText="Action-2"><vspace/>This specification defines "Flow
          Binding Type".  IANA has created a new sub-registry within
          the "Mobile IPv6 parameters" registry. Flow Binding Type is
          described in Sections <xref target="FBI" format="counter"/> and <xref target="FBA" format="counter"/>, which reserve the following
          values:

          <figure>
              <artwork align="center">
+-------+------------------------------+--------------+
| Value |          Description         |   Reference  |
+-------+------------------------------+--------------+
|   0   |          Unassigned          |              |
+-------+------------------------------+--------------+
|   1   |   Flow Binding Indication    |   [RFC7109]  |
+-------+------------------------------+--------------+
|   2   | Flow Binding Acknowledgement |   [RFC7109]  |
+-------+------------------------------+--------------+
| 3-255 |          Unassigned          |              |
+--------------------------------------+--------------+</artwork>
            </figure>Future assignments in the "Flow
          Binding Type" registry are to be made through RFC Required <xref
          target="RFC5226"/>.</t>

          <t hangText="Action-3"><vspace/>This specification defines "Flow
          Binding Indication Triggers".  IANA has created a new
          sub-registry within the "Mobile IPv6 parameters" registry. The
          trigger values are described in <xref target="FBI"/>, which reserves the
          following values:

          <figure>
              <artwork align="center">
+---------+------------------------------------+--------------+
|  Value  |             Description            |   Reference  |
+---------+------------------------------------+--------------+
|    0    |             Reserved               |   [RFC7109]  |
+---------+------------------------------------+--------------+
|    1    |            Unspecified             |   [RFC7109]  |
+---------+------------------------------------+--------------+
|    2    |      Administrative Reason         |   [RFC7109]  |
+---------+------------------------------------+--------------+
|    3    |   Possible Out-of-Sync BCE State   |   [RFC7109]  |
+---------+------------------------------------+--------------+
|  4-249  |             Unassigned             |              |
+---------+------------------------------------+--------------+
| 250-255 | Reserved for Testing Purposes Only |   [RFC7109]  |
+----------------------------------------------+--------------+</artwork>
            </figure>Future assignments in the "Flow
          Binding Indication Triggers" registry are to be made through RFC Required
          <xref target="RFC5226"/>.</t>

          <t hangText="Action-4"><vspace/>This specification defines "Flow
          Binding Acknowledgement Status Codes". IANA has created a new
          sub-registry within the "Mobile IPv6 parameters" registry. The
          status codes are described in <xref target="FBA"/>, which reserves the
          following values:

          <figure>
              <artwork align="center">
+---------+-------------------------------------+--------------+
|  Value  |             Description             |   Reference  |
+---------+-------------------------------------+--------------+
|    0    |              Success                |   [RFC7109]  |
+---------+-------------------------------------+--------------+
|  1-127  |             Unassigned              |              |
+---------+-------------------------------------+--------------+           
|   128   | Binding (target CoA) Does NOT Exist |   [RFC7109]  |
+---------+-------------------------------------+--------------+
|   129   |       Action NOT Authorized         |   [RFC7109]  |
+---------+-------------------------------------+--------------+
| 130-255 |             Unassigned              |              |
+---------+-------------------------------------+--------------+</artwork>
            </figure>Future assignments in the "Flow
          Binding Acknowledgement Status Codes" are to be made through RFC
          Required <xref target="RFC5226"/>.</t>

          <t hangText="Action-5"><vspace/>This specification defines two new
          Flow Identification sub-options: the "Flow Binding Action" sub-option
          and "Target Care-of Address" sub-option. These sub-options are
          described in Sections <xref target="attribute_1" format="counter"/> and <xref
target="tcoa" format="counter"/>, and the sub-option values are
          4 and 5, respectively, as assigned in
          the "Flow Identification Sub-options" registry.
          </t>

          <t hangText="Action-6"><vspace/>This specification defines "Flow
          Binding Action Values". IANA has created a new sub-registry
          within the "Mobile IPv6 parameters" registry. The action values are
          described in <xref target="attribute_1"/>, which reserves the following
          values:

          <figure>
              <artwork align="center">
+--------+-------------------------------------+--------------+
|  Value |             Description             |   Reference  |
+--------+-------------------------------------+--------------+
|  0-10  |              Unassigned             |              |
+--------+-------------------------------------+--------------+
|   11   |           Add a flow binding        |   [RFC7109]  |
+--------+-------------------------------------+--------------+
|   12   |         Delete a flow binding       |   [RFC7109]  |
+--------+-------------------------------------+--------------+           
|   13   |         Modify a flow binding       |   [RFC7109]  |
+--------+-------------------------------------+--------------+
|   14   |       Refresh a flow binding        |   [RFC7109]  |
+--------+-------------------------------------+--------------+
|   15   |          Move a flow binding        |   [RFC7109]  |
+--------+-------------------------------------+--------------+
|   16   |        Revoke a flow binding        |   [RFC7109]  |
+--------+-------------------------------------+--------------+
| 17-255 |             Unassigned              |              |
+--------+-------------------------------------+--------------+</artwork>
            </figure>Future assignments in the "Flow
          Binding Action Values" registry are to be made through RFC Required <xref
          target="RFC5226"/>.</t>
        </list></t>
    </section>

  </middle>

  <back>

    <references title="Normative References">
      <?rfc include='reference.RFC.2119'?>

      <?rfc include='reference.RFC.5555'?>

      <?rfc include='reference.RFC.6275'?>

      <?rfc include='reference.RFC.6146'?>

      <?rfc include='reference.RFC.5846'?>

      <?rfc include='reference.RFC.6088'?>

      <?rfc include='reference.RFC.6089'?>

      <?rfc include='reference.RFC.5226'?>
    </references>

    <references title="Informative References">

<!--  draft-ietf-netext-pmip6-qos  I-D Exists -->


<reference anchor='PMIP6-QOS'>
<front>
<title>Quality of Service Option for Proxy Mobile IPv6</title>

<author initials='M' surname='Liebsch' fullname='Marco Liebsch'>
    <organization />
</author>

<author initials='P' surname='Seite' fullname='Pierrick Seite'>
    <organization />
</author>

<author initials='H' surname='Yokota' fullname='Hidetoshi Yokota'>
    <organization />
</author>

<author initials='J' surname='Korhonen' fullname='Jouni Korhonen'>
    <organization />
</author>

<author initials='S' surname='Gundavelli' fullname='Sri Gundavelli'>
    <organization />
</author>

<date month='December' day='21' year='2013' />

</front>

<seriesInfo name='Work in' value='Progress' />
</reference>

    </references>

  </back>
</rfc>
