<?xml version="1.0" encoding="US-ASCII"?>

<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [

<!ENTITY RFC3189 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3189.xml">
<!ENTITY RFC3550 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3550.xml">
<!ENTITY RFC3551 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3551.xml">
<!ENTITY RFC2119 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml">
<!ENTITY RFC3190 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3190.xml">
<!ENTITY RFC4288 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4288.xml">
<!ENTITY RFC4566 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4566.xml">
<!ENTITY RFC4855 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4855.xml">
<!ENTITY RFC2250 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2250.xml">
<!ENTITY RFC3376 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3376.xml">
<!ENTITY RFC3810 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3810.xml">
<!ENTITY RFC4607 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4607.xml">
<!ENTITY RFC3264 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3264.xml">
<!ENTITY RFC5888 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.5888.xml">
<!ENTITY RFC5790 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.5790.xml">
]>

<?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>

<?rfc toc="yes"?>
<?rfc tocdepth="4"?>
<?rfc symrefs="yes"?>
<?rfc sortrefs="yes" ?>
<?rfc compact="yes" ?>
<?rfc subcompact="no" ?>
<?rfc rfcedstyle="yes"?>

<rfc number="6469" category="std" submissionType="IETF" consensus="yes" ipr="pre5378Trust200902" obsoletes="3189">

  <front>

    <title abbrev="RTP Payload Format for DV Video">
      RTP Payload Format for DV (IEC 61834) Video
    </title>



    <author fullname="Katsushi Kobayashi" initials="K.K." surname="Kobayashi">
      <organization abbrev="AICS, RIKEN">
        Advanced Institute for Computational Science, RIKEN
      </organization>
      <address>
        <postal>
          <street>7-1-26 Minatojima-minami</street>

          <city>Chuo-ku, Kobe</city>
          <region>Hyogo</region>
          <code>760-0045</code>
          <country>Japan</country>
        </postal>
        <email>ikob@riken.jp</email>

      </address>
    </author>

    <author fullname="Kazuhiro Mishima" initials="K.M." surname="Mishima">
      <organization abbrev="Keio University">
        Keio University
      </organization>
      <address>
        <postal>
          <street>5322 Endo</street>
          <city>Fujisawa</city>
          <region>Kanagawa</region>
          <code>252-8520</code>
          <country>Japan</country>
        </postal>
        <email>three@sfc.wide.ad.jp</email>
      </address>
    </author>

    <author fullname="Stephen L. Casner" initials="S.C." surname="Casner">
      <organization abbrev="Packet Design">
        Packet Design
      </organization>
      <address>
        <postal>
          <street>2455 Augustine Drive</street>
          <city>Santa Clara</city>
          <region>CA</region>
          <code>95054</code>
          <country>United States</country>
        </postal>
        <email>casner@acm.org</email>
      </address>
    </author>

    <author fullname="Carsten Bormann" initials="C.B." surname="Bormann">
      <organization abbrev="Universitaet Bremen TZI">
        Universitaet Bremen TZI
      </organization>
      <address>
        <postal>
          <street>Postfach 330440</street>
          <city>D-28334</city>
          <region>Bremen</region>
          <code></code>
          <country>Germany</country>
        </postal>
        <phone>+49 421 218 63921</phone>
        <facsimile>+49 421 218 7000</facsimile>
        <email>cabo@tzi.org</email>
      </address>
    </author>

    <date month="December" year="2011">
</date>

    <area>General</area>

    <workgroup>Network Working Group</workgroup>


    <keyword>DV/RTP</keyword>


    <abstract>
      <t>This document specifies the packetization scheme for encapsulating
         the compressed digital video data streams commonly known as "DV" into
         a payload format for the Real-Time Transport Protocol (RTP).  This
         document obsoletes RFC 3189.</t>
    </abstract>

  </front>


  <middle>

    <section title="Introduction">
      <t>This document specifies payload formats for encapsulating both
      consumer- and professional-use Digital Video (DV) format data streams
      into the Real-Time Transport Protocol (RTP) <xref target="RFC3550"/>.
      DV compression audio and video formats were designed for a recording
      format on helical-scan magnetic tape media.  The DV standards for
      consumer-market devices, the IEC 61883 and 61834 series, cover many
      aspects of consumer-use digital video, including mechanical specifications
      of a cassette, magnetic recording format, error correction on the magnetic
      tape, Discrete Cosine Transform (DCT) video encoding format, and audio
      encoding format <xref target="IEC61834"/>.
      The digital interface part of IEC 61883 defines an interface on the IEEE 1394
      system <xref target="IEC61883"/><xref target="IEEE1394"/>.
      This specification set supports several video formats: SD-VCR (Standard
      Definition), HD-VCR (High Definition), SDL-VCR (Standard Definition - Long),
      PALPlus, DVB (Digital Video Broadcast), and ATV (Advanced Television).
      North American formats are indicated with a number of lines and "/60",
      while European formats use "/50".  DV standards extended for professional use
      were published by the Society of Motion Picture and Television Engineers (SMPTE) as 314M and 370M, for different sampling systems,
      higher color resolution, and higher bit rates <xref target="SMPTE314M"/><xref target="SMPTE370M"/>.</t>

      <t>In summary, there are two kinds of DV, one for consumer use and the other for
      professional.  The original "DV" specification designed for consumer-use
      digital VCRs is approved as the IEC 61834 standard set.  The
      specifications for professional DV are published as SMPTE 314M and
      370M.&nbsp;&nbsp;Both encoding formats are based on consumer DV and used in
      SMPTE D-7, D-9, and D-12 video systems.  The RTP payload format
      specified in this document supports IEC 61834 consumer DV and
      professional SMPTE 314M and 370M (DV-based) formats.</t>

      <t>IEC 61834 also includes magnetic tape recording for digital TV
      broadcasting systems (such as DVB and ATV) that use MPEG2 encoding.
      The payload format for encapsulating MPEG2 into RTP has already been
      defined in RFC 2250 <xref target="RFC2250"/> and elsewhere.</t>



      <t>Consequently, the payload specified in this document will support six
      video formats of the IEC standard: SD-VCR (525/60, 625/50), HD-VCR
      (1125/60, 1250/50), and SDL-VCR (525/60, 625/50).  It also supports eight of the
      SMPTE standards: 314M 25 Mbit/s (525/60, 625/50), 314M 50 Mbit/s (525/60,
      625/50), and 370M 100 Mbit/s (1080/60i, 1080/50i, 720/60p, and 720/50p).
      In the future, it can be extended into other video formats managed by the
      80-byte DV Digital Interface Format (DIF) block.</t>


      <t>Throughout this specification, we make
      extensive use of the terminology of IEC and SMPTE standards.  The reader
      should consult the original references for definitions of these terms.</t>

      <section title="Terminology">
        <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
        "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
        document are to be interpreted as described in RFC 2119 <xref target="RFC2119"/>.</t>
      </section>
    </section>

    <section title="RTP Payload Format">

      <section title="The DV Format Encoding">

        <t>The DV format only uses the DCT compression technique within each
        frame, contrasted with the interframe compression of the MPEG video
        standards <xref target="ISO/IEC11172"/><xref target="ISO/IEC13818"/>.
        All video data, including audio and other system
        data, is managed within the picture frame unit of video.</t>

        <t>The DV video encoding is composed of a three-level hierarchical
        structure, i.e., DCT super block, DCT macro block, and DCT block.  

A
        picture frame is divided into rectangle- or clipped-rectangle-shaped
        DCT super blocks.  DCT super blocks are divided into 27 rectangle- or
        square-shaped DCT macro blocks, and each DCT macro block consists of
        a number of DCT blocks.  Each DCT block consists of 8x8 pixels and
represents a rectangle region
        for each color, Y, Cb, and Cr.</t>

        <t>Audio data is encoded in Pulse Code Modulation (PCM) format.
        The sampling frequency is 32 kHz, 44.1 kHz, or 48 kHz and the quantization
        is 12-bit non-linear, 16-bit linear, or 20-bit linear.  The number of
        channels may be up to 8. Only certain combinations of these parameters are
        allowed, depending upon the video format; the restrictions are specified in
        each document <xref target="IEC61834"/><xref target="SMPTE314M"/> <xref target="SMPTE370M"/>.</t>


        <t>A frame of data in the DV format stream is divided into several "DIF
        sequences".  A DIF sequence is composed of an integral number of
80-byte 
DIF blocks.  A DIF block is the primitive unit for all treatment
        of DV streams.  Each DIF block contains a 3-byte ID header that
        specifies the type of the DIF block and its position in the DIF
        sequence.  Five types of DIF blocks are defined: DIF sequence header,
        Subcode, Video Auxiliary (VAUX) information, Audio, and Video.  Audio
        DIF blocks are composed of 5 bytes of Audio Auxiliary (AAUX) data and
        72 bytes of audio data.</t>

        <t>Each RTP packet starts with the RTP header as defined in RFC 3550
        <xref target="RFC3550"/>. No additional payload-format-specific header 
        is required for this payload format.</t>
      </section>

      <section title="RTP Header Usage">

        <t>The RTP header fields that have a meaning specific to the DV format
        are described as follows:</t>

        <t>Payload type (PT): The payload type is dynamically assigned by means
        outside the scope of this document.  If multiple DV encoding formats
        are to be used within one RTP session, then multiple dynamic payload
        types MUST be assigned, one for each DV encoding format.  The sender
        MUST change to the corresponding payload type whenever the encoding
        format is changed.</t>

        <t>Timestamp: 32-bit 90 kHz timestamp representing the time at which the
        first data in the frame was sampled.  All RTP packets within the same
        video frame MUST have the same timestamp.  The timestamp SHOULD
        increment by a multiple of the nominal interval for one DV frame time,
        as given in the following table:</t>

        <texttable>
          <ttcol align='center'>Mode</ttcol>
          <ttcol align='center'>Frame rate (Hz)</ttcol>
          <ttcol align='center'>Increase of 90 kHz timestamp per DV frame</ttcol>

          <c>525-60</c>   <c>29.97</c> <c>3003</c>
          <c>625-50</c>   <c>25</c>    <c>3600</c>
          <c>1125-60</c>  <c>30</c>    <c>3000</c>
          <c>1250-50</c>  <c>25</c>    <c>3600</c>
          <c>1080-60i</c> <c>29.97</c> <c>3003</c>
          <c>1080-50i</c> <c>25</c>    <c>3600</c>
          <c>720-60p</c>  <c>59.94</c> <c>3003(*)</c>
          <c>720-50p</c>  <c>50</c>    <c>3600(*)</c>
        </texttable>

        <t>(*) Note that even in the 720-line DV system, the data in two video frames
        shall be processed within one DV frame duration of the 1080-line system.
        Audio data and subcode data in the 720-line system are processed in the
        same way as the 1080-line system. Therefore, in the 720-line system,
        the timestamp increase given in the third column corresponds to
        two video frames time.</t>

        <t>Marker bit (M): The marker bit of the RTP fixed header is set
        to one on the last packet of a video frame; on other packets, it 
        MUST be zero. The M bit allows the receiver to know that
        it has received the last packet of a frame so it can display
        the image without waiting for the first packet of the next frame
        to arrive to detect the frame change. However, detection of a frame
        change MUST NOT rely on the marker bit since the last packet of
        the frame might be lost.  Detection of a frame change MUST be
        based on a difference in the RTP timestamp.</t>
      </section>

      <section title="Payload Structures">

        <t>Integral DIF blocks are placed into the RTP payload beginning
        immediately after the RTP header.  Any number of DIF blocks may be
        packed into one RTP packet, but all DIF blocks in one RTP
        packet MUST be from the same video frame.  DIF blocks from the next
        video frame MUST NOT be packed into the same RTP packet even if more
        payload space remains.  This requirement stems from the fact that the
        transition from one video frame to the next is indicated by a change
        in the RTP timestamp.  It also reduces the processing complexity on
        the receiver.  Since the RTP payload contains an integral number of
        DIF blocks, the length of the RTP payload will be a multiple of 80
        bytes.</t>

        <t>Audio and video data may be transmitted as one bundled RTP stream or
        in separate RTP streams (unbundled).  The choice MUST be indicated as
        part of the assignment of the dynamic payload type and MUST remain
        unchanged for the duration of the RTP session to avoid complicated
        procedures of sequence number synchronization.  The RTP sender could
        omit the DIF sequence header and subcode DIF blocks from a stream 
        when the information either is known from out-of-band sources or is not
        required for the application.  Note that time code in DIF blocks is
        mandatory for professional video applications. When unbundled audio
        and video streams are sent, any DIF sequence header and subcode DIF
        blocks MUST be included and sent in the video stream.</t>

        <t>DV streams include "source" and "source control" packs that carry
        information indispensable for proper decoding, such as video signal
        type, frame rate, aspect ratio, picture position, quantization of
        audio sampling, number of audio samples in a frame, number of audio
        channels, audio channel assignment, and language of the audio.
        However, describing all of these attributes with a signaling protocol
        would require large descriptions to enumerate all the combinations.
        Therefore, no Session Description Protocol (SDP)
        <xref target="RFC4566"/> parameters for these attributes are defined
        in this document. Instead, the RTP sender MUST transmit at least
        those VAUX (Video Auxiliary) DIF blocks and/or audio DIF blocks with
        AAUX (Audio Auxiliary) information bytes that include "source" and
        "source control" packs containing the indispensable information for
        decoding.</t>

        <t>In the case of one bundled stream, DIF blocks for both audio and
        video are packed into RTP packets in the same order as they were
        encoded.</t>

        <t>In the case of an unbundled stream, only the header, subcode, video,
        and VAUX DIF blocks are sent within the video stream.  Audio is sent
        in a different stream if desired, using a different RTP payload type.
        It is also possible to send audio duplicated in a separate
        stream, in addition to bundling it in with the video stream.</t>

        <t>When using unbundled mode, it is RECOMMENDED that the audio stream
        data be extracted from the DIF blocks and repackaged into the
        corresponding RTP payload format for the audio encoding (DAT12, L16,
        L20) <xref target="RFC3551"/><xref target="RFC3190"/> in order to
        maximize interoperability with non-DV-capable receivers while
        maintaining the original source quality.</t>


        <t>In the case of unbundled transmission that is
        compelled to use both audio and video in the DV format, the same
        timestamp SHOULD be used for both
        audio and video data within the same frame to simplify the lip
        synchronization effort on the receiver.  Lip synchronization may also
        be achieved using reference timestamps passed in RTP Control Protocol (RTCP) as described in
        <xref target="RFC3550"/>. In this case, the audio stream uses the 90 kHz clock
        rate, and the timestamp uses the same clock rate as the video.</t>

        <t>The sender MAY reduce the video frame rate by discarding the video
        data and VAUX DIF blocks for some of the video frames.  The RTP
        timestamp MUST still be incremented to account for the discarded
        frames.  The sender MAY alternatively reduce bandwidth by discarding
        video data DIF blocks for portions of the image that are unchanged
        from the previous image.  To enable this bandwidth reduction,
        receivers SHOULD implement an error-concealment strategy to
        accommodate lost or missing DIF blocks, e.g., repeating the
        corresponding DIF block from the previous image.</t>
      </section>

    </section>

    <section title="Payload Format Parameters">

      <t>This section specifies the parameters that MAY be used to select
      optional features of the payload format and certain features of the
      bitstream.  The parameters are specified here as part of the media
      type registration for the DV encoding.  A mapping of the parameters
      into the Session Description Protocol (SDP) <xref target="RFC4566"/> is also
      provided for applications that use SDP.  Equivalent parameters could
      be defined elsewhere for use with control protocols that do not use
      SDP.</t>

      <section title="Media Type Registration" anchor="reg_form">

      <t>This registration is done using the template defined in RFC 4288
      <xref target="RFC4288"/> and following RFC 4855 <xref target="RFC4855"/>.</t>

        <section title="Media Type Registration for DV Video">
          <t>
            <list style='hanging'>
              <t hangText="Type name:">video</t>
              <t hangText="Subtype name:">DV</t>
              <t hangText="Required parameters:">
                <list style='hanging'>
                  <t hangText="encode:">type of DV format.  Permissible values
for encode are:<vspace />
                    SD-VCR/525-60<vspace />
                    SD-VCR/625-50<vspace />
                    HD-VCR/1125-60<vspace />
                    HD-VCR/1250-50<vspace />
                    SDL-VCR/525-60<vspace />
                    SDL-VCR/625-50<vspace />
                    314M-25/525-60<vspace />
                    314M-25/625-50<vspace />
                    314M-50/525-60<vspace />
                    314M-50/625-50<vspace />
                    370M/1080-60i<vspace />
                    370M/1080-50i<vspace />
                    370M/720-60p<vspace />
                    370M/720-50p<vspace />
                    306M/525-60 (for backward compatibility)<vspace />
                    306M/625-50 (for backward compatibility)</t>
                </list>
              </t>
              <t hangText="Optional parameters:">
                <list style='hanging'>
                  <t hangText="audio:">whether the DV stream includes audio data or not.
                  Permissible values for audio are bundled and none. Defaults to
                  none.</t>
                </list>
              </t>
              <t hangText="Encoding considerations:">
                <list style='empty'>
                  <t>DV video can be transmitted with RTP as specified in RFC 6469 (this
                  document).
                  Other transport methods are not specified.</t>
                </list>
              </t>
              <t hangText="Security considerations:">
                <list style='empty'>
                  <t>See <xref target="sec_cons"/> of RFC 6469 (this document).</t>
                </list>
              </t>
              <t hangText="Interoperability considerations:">Interoperability
with previous implementations is discussed in <xref target="sec_interop"/>.</t>

              <t hangText="Public specifications:">
                <list style='empty'>
                  <t>IEC 61834 Standard<vspace />
                  SMPTE 314M<vspace />
                  SMPTE 370M<vspace />
                  RFC 6469 (this document)<vspace />
                  SMPTE 306M (for backward compatibility)</t>
                </list>
              </t>
              <t hangText="Applications that use this media type:">
                  Audio and video streaming and conferencing tools.</t>
              <t hangText="Additional information:">NONE</t>
              <t hangText="Person &amp; email address to contact for further information:">
                <list style='empty'>
                  <t>Katsushi Kobayashi<vspace />
                  ikob@riken.jp</t>
                </list>
              </t>
              <t hangText="Intended usage:">COMMON</t>
              <t hangText="Restrictions on usage:">
                  This media type depends on RTP framing and hence is only
                  defined for transfer via RTP <xref target="RFC3550"/>.  Transfer within
                  other framing protocols is not defined at this time.</t>
              <t hangText="Author:">
                <list style='empty'>
                  <t>Katsushi Kobayashi</t>
                </list>
              </t>
              <t hangText="Change controller:">
                <list style='empty'>
                  <t>IETF Audio/Video Transport working group delegated from the IESG</t>
                </list>
              </t>
            </list>
          </t>
        </section>

        <section title="Media Type Registration for DV Audio">
          <t>
            <list style='hanging'>
              <t hangText="Type name:">audio</t>
              <t hangText="Subtype name:">DV</t>
              <t hangText="Required parameters:">
                <list style='hanging'>
                  <t hangText="encode:">type of DV format.  Permissible values
for encode are:<vspace />
                  SD-VCR/525-60<vspace />
                  SD-VCR/625-50<vspace />
                  HD-VCR/1125-60<vspace />
                  HD-VCR/1250-50<vspace />
                  SDL-VCR/525-60<vspace />
                  SDL-VCR/625-50<vspace />
                  314M-25/525-60<vspace />
                  314M-25/625-50<vspace />
                  314M-50/525-60<vspace />
                  314M-50/625-50<vspace />
                  370M/1080-60i<vspace />
                  370M/1080-50i<vspace />
                  370M/720-60p<vspace />
                  370M/720-50p<vspace />
                  306M/525-60 (for backward compatibility)<vspace />
                  306M/625-50 (for backward compatibility)</t>
                </list>
              </t>
              <t hangText="Optional parameters:">
                <list style='hanging'>
                  <t hangText="audio:">whether the DV stream includes audio data or not.
                  Permissible values for audio are bundled and none. Defaults to
                  none.</t>
                </list>
              </t>
              <t hangText="Encoding considerations:">
                <list style='empty'>
                  <t>DV audio can be transmitted with RTP as specified in RFC 6469 (this
                  document).
                  Other transport methods are not specified.</t>
                </list>
              </t>
              <t hangText="Security considerations:">
                <list style='empty'>
                  <t>See <xref target="sec_cons"/> of RFC 6469 (this document).</t>
                </list>
              </t>
              <t hangText="Interoperability considerations:">Interoperability
with previous implementations is discussed in <xref target="sec_interop"/>.</t>

              <t hangText="Published specifications:">
                <list style='empty'>
                  <t>IEC 61834 Standard<vspace />
                  SMPTE 314M<vspace />
                  SMPTE 370M<vspace />
                  RFC 6469 (this document)<vspace />
                  SMPTE 306M (for backward compatibility).</t>
                </list>
              </t>
              <t hangText="Applications that use this media type:">
                  Audio and video streaming and conferencing tools.</t>
              <t hangText="Additional information:">NONE</t>
              <t hangText="Person &amp; email address to contact for further information:">
                <list style='empty'>
                  <t>Katsushi Kobayashi<vspace />
                  ikob@riken.jp</t>
                </list>
              </t>
              <t hangText="Intended usage:">COMMON</t>
              <t hangText="Restrictions on usage:">
                  This media type depends on RTP framing and hence is only
                  defined for transfer via RTP <xref target="RFC3550"/>.  Transfer within
                  other framing protocols is not defined at this time.</t>
              <t hangText="Author:">
                <list style='empty'>
                  <t>Katsushi Kobayashi</t>
                </list>
              </t>
              <t hangText="Change controller:">
                <list style='empty'>
                  <t>IETF Audio/Video Transport working group delegated from the IESG</t>
                </list>
              </t>
            </list>
          </t>
        </section>
      </section>

      <section title="SDP Parameters">

        <section title="Mapping of Payload Type Parameters to SDP">
        
          <t>The information carried in the media type specification has a
          specific mapping to fields in the Session Description Protocol (SDP),
          which is commonly used to describe RTP sessions.  When SDP is
          used to specify sessions employing the DV encoding, the mapping is
          as follows:</t>

          <t>
            <list style='symbols'>
              <t>The media type ("video") goes in SDP "m=" as the media name.</t>
              <t>The media subtype ("DV") goes in SDP "a=rtpmap" as the encoding
              name.  The RTP clock rate in "a=rtpmap" MUST be 90000, which for 
              the payload format defined in this document is a 90 kHz clock.</t>
              <t>Any remaining parameters go in the SDP "a=fmtp" attribute by
              copying them directly from the media type string as a
semicolon-separated
list of parameter=value pairs.</t>
            </list>
          </t>

          <t>In the DV video payload format, the "a=fmtp" line will be used to show
          the encoding type within the DV video and will be used as below:</t>

          <t>
            <list style='empty'>
            <t>a=fmtp:&lt;payload type&gt; encode=&lt;DV-video encoding&gt;</t>
            </list>
          </t>

          <t>The required parameter "encode" specifies which type of DV
          format is used.  The DV format name will be one of the following values:</t>

          <t>
            <list style='empty'>
            <t>SD-VCR/525-60<vspace />
            SD-VCR/625-50<vspace />
            HD-VCR/1125-60<vspace />
            HD-VCR/1250-50<vspace />
            SDL-VCR/525-60<vspace />
            SDL-VCR/625-50<vspace />
            314M-25/525-60<vspace />
            314M-25/625-50<vspace />
            314M-50/525-60<vspace />
            314M-50/625-50<vspace />
            370M/1080-60i<vspace />
            370M/1080-50i<vspace />
            370M/720-60p<vspace />
            370M/720-50p<vspace />
            306M/525-60 (for backward compatibility)<vspace />
            306M/625-50 (for backward compatibility)</t>
            </list>
          </t>

          <t>In order to show whether or not the audio data is bundled into the
DV stream, a format-specific parameter is defined:</t>


          <t>
            <list style='empty'>
            <t>a=fmtp:&lt;payload type&gt; encode=&lt;DV-video encoding&gt; audio=&lt;audio bundled&gt;</t>
            </list>
          </t>

          <t>The optional parameter "audio" will be one of the following values:</t>

          <t>
            <list style='empty'>
            <t>bundled<vspace />
            none (default)</t>
            </list>
          </t>

          <t>If the fmtp "audio" parameter is not present, then audio data MUST NOT
          be bundled into the DV video stream.</t>

        </section>

        <section title="Usage with the SDP Offer/Answer Model">
          <t>The following considerations apply when using SDP offer/answer
          procedures <xref target="RFC3264"/> to negotiate the use of the DV
payload in RTP:</t>


          <t>
            <list style='symbols'>
              <t>The "encode" parameter can be used for sendrecv, 
                sendonly, and recvonly streams. Each encode type 
                MUST use a separate payload type number.</t>

              <t>Any unknown parameter in an offer MUST be ignored by the receiver
              and MUST NOT be included in the answer.</t>
            </list>
          </t>
          
          <t>In an offer for unbundled streams, the group attribute as defined in the
          Session Description Protocol (SDP) Grouping Framework
          <xref target="RFC5888"/> can be used in order to associate the
          related audio and video. The example usage of SDP grouping is detailed in <xref target="RFC5888"/>.</t>

        </section>
      </section>

      <section title="Examples">

        <t>Some example SDP session descriptions utilizing DV encoding formats
        follow.</t>

        <section title="Example for Unbundled Streams">
          <t>When using unbundled mode, the RTP streams for video and audio will
          be sent separately to different ports or different multicast groups.
          When unbundled audio and video streams are sent, SDP carries several
"m=" lines, one for each media
          type of the session (see <xref target="RFC4566"/>).</t>

          <figure>
            <preamble>An example SDP description using these attributes is:</preamble>
            <artwork><![CDATA[
  v=0
  o=ikob 2890844526 2890842807 IN IP4 192.0.2.1
  s=POI Seminar
  i=A Seminar on how to make Presentations on the Internet
  u=http://www.example.net/~ikob/POI/index.html
  e=ikob@example.net (Katsushi Kobayashi)
  c=IN IP4 233.252.0.1/127
  t=2873397496 2873404696
  m=audio 49170 RTP/AVP 112
  a=rtpmap:112 L16/32000/2
  m=video 50000 RTP/AVP 113
  a=rtpmap:113 DV/90000
  a=fmtp:113 encode=SD-VCR/525-60 audio=none
            ]]></artwork>
            <postamble>
            This describes a session where audio and video streams are sent
            separately.  The session is sent to a multicast group 233.252.0.1.
            The audio is sent using L16 format, and the video is sent using SD-VCR 525/60 format, which corresponds to NTSC format in consumer DV.
            </postamble>
          </figure>
        </section>

        <section title="Example for Bundled Streams">
          <t>When sending a bundled stream, all the DIF blocks including system
          data will be sent through a single RTP stream.</t>




          <figure>
            <preamble>An example SDP description for a bundled DV stream is:</preamble>
            <artwork><![CDATA[
  v=0
  o=ikob 2890844526 2890842807 IN IP4 192.0.2.1
  s=POI Seminar
  i=A Seminar on how to make Presentations on the Internet
  u=http://www.example.net/~ikob/POI/index.html
  e=ikob@example.net (Katsushi Kobayashi)
  c=IN IP4 233.252.0.1/127
  t=2873397496 2873404696
  m=video 49170 RTP/AVP 112 113
  a=rtpmap:112 DV/90000
  a=fmtp:112 encode=SD-VCR/525-60 audio=bundled
  a=fmtp:113 encode=314M-50/525-60 audio=bundled
            ]]></artwork>
            <postamble>
            This SDP record describes a session where audio and video streams are
            sent bundled.  The session is sent to a multicast group 233.252.0.1.
            The video is sent using both 525/60 consumer DV and SMPTE standard
            314M 50 Mbit/s formats, when the payload type is 112 and 113,
            respectively.
            </postamble>
          </figure>
        </section>
      </section>
    </section>

    <section title="Security Considerations" anchor="sec_cons">
      <t>RTP packets using the payload format defined in this specification
      are subject to the security considerations discussed in the RTP
      specification <xref target="RFC3550"/> and any appropriate RTP profile.
      This implies that confidentiality of the media streams is achieved by
      encryption. Because the data compression used with this payload format
      is applied end-to-end, encryption may be performed after compression
      so there is no conflict between the two operations.</t>

      <t>A potential denial-of-service threat exists for data encodings using
      compression techniques that have non-uniform receiver-end
      computational load.  The attacker can inject pathological datagrams
      into the stream that are complex to decode and cause the receiver to
      be overloaded.  However, this encoding does not exhibit any
      significant non-uniformity.</t>

      <t>As with any IP-based protocol, in some circumstances, a receiver may
      be overloaded simply by the receipt of too many packets, either
      desired or undesired.  Network-layer authentication may be used to
      discard packets from undesired sources, but the processing cost of
      the authentication itself may be too high.  In a multicast
      environment, mechanisms for joining and pruning of specific sources are
      specified in IGMPv3, Multicast Listener Discovery Version 2 (MLDv2) <xref
target="RFC3376"/><xref target="RFC3810"/> or Lightweight-IGMPv3 (LW-IGMPv3), LW-MLDv2 <xref
target="RFC5790"/> and in multicast routing
      protocols to allow a receiver to select which sources are allowed to
      reach it <xref target="RFC4607"/>.</t>
    </section>

    <section title="Congestion Control">
      <t>The general congestion control considerations for transporting RTP
      data apply; see RTP <xref target="RFC3550"/> and any applicable RTP
profile like Audio-Visual Profile (AVP)
      <xref target="RFC3551"/>.</t>
    </section>

    <section title="IANA Considerations">
      <t>This document obsoletes <xref target="RFC3189"/>, and 
      some registration forms have been updated by this document. 
      The registration forms (based on the RFC 4855 <xref target="RFC4855"/> definition)
      for the media types for both video and audio are shown in <xref target="reg_form"/>.</t>
    </section>

    <section title="Major Changes from RFC 3189">
      <t>The changes from <xref target="RFC3189"/> are:</t>
      
      <t>
        <list style='format %d.'>
          <t>Specified that support for SMPTE 306M is only for backward interoperability, since it is covered by SMPTE 314M format.</t>
          <t>Added SMPTE 370M 100 Mbit/s High Definition Television (HDTV) (1080/60i, 1080/50i, 720/60p, and
          720/50p) format.</t>
          <t>Incorporated the Source-Specific Multicast (SSM) specification for avoiding
          overloaded traffic source in multicast usage. Added a reference to
          the Source-Specific Multicast (SSM) specification as a way to
          reduce unwanted traffic in a multicast application.</t>
          <t>Clarified the case where a sender omits subcode DIF block data
          from the stream.</t>
          <t>Added considerations for the offer/answer model.</t>
          <t>Revised media types registration form based on new registration
          rule <xref target="RFC4855"/>.</t>
        </list>
      </t>
    </section>

    <section title="Interoperability with Previous Implementations" anchor="sec_interop">
      <t>In this section, we discuss interoperability with implementations
      based on <xref target="RFC3189"/>, which is obsoleted by this document.</t>

      <t><xref target="RFC3189"/> regards SMPTE 306M <xref target="SMPTE306M"/> and
      SMPTE 314M <xref target="SMPTE314M"/> as different encoding formats, although the format
      of SMPTE 306M is already covered by SMPTE 314M.&nbsp;&nbsp;Therefore,
      this document recommends that the definition depending on
      SMPTE 306M SHOULD NOT be used, and SMPTE 314M SHOULD be used instead.
      An RTP application could handle a stream identified in SMPTE 306M
      encoding as SMPTE 314M encoding instead.</t>
      
      <t>An offer MAY include SMPTE 306M encoding coming from a legacy 
      system, and receivers SHOULD support this value.</t>
      
      <t>If an initial offer that did not include SMPTE 306M was rejected,
      the offerer MAY try a new offer with SMPTE 306M.&nbsp;&nbsp;For this case,
      an RTP application MAY handle a stream identified in SMPTE 306M
      encoding as SMPTE 314M encoding instead.</t>

      <t>In addition, the SDP examples in <xref target="RFC3189"/> provide incorrect SDP "a=fmtp" attribute usage.</t>

    </section>
    
    <section title="Acknowledgment">
      <t>Thanks to Akimichi Ogawa, a former author of this document.</t>
    </section>
    
  </middle>



  <back>

    <references title="Normative References">

      &RFC3550;
      &RFC3551;
      &RFC2119;
      &RFC3190;
      &RFC3264;
      &RFC4288;
      &RFC4566;
      &RFC4855;
      &RFC5888;

      <reference anchor="IEC61834">
        <front>
          <title>
         IEC 61834, Helical-scan digital video cassette recording system
         using 6,35 mm magnetic tape for consumer use (525-60, 625-50,
         1125-60 and 1250-50 systems)
          </title>
          <author>
            <organization>IEC</organization>
          </author>
        </front>
      </reference>

      <reference anchor="SMPTE306M">
        <front>
          <title>
         SMPTE 306M, 6.35-mm Type D-7 Component Format - Video
         Compression at 25Mb/s - 525/60 and 625/50
          </title>
          <author>
            <organization>SMPTE</organization>
          </author>
        </front>
      </reference>

      <reference anchor="SMPTE314M">
        <front>
          <title>
         SMPTE 314M, Data Structure for DV-Based Audio and Compressed
         Video - 25 and 50Mb/s
          </title>
          <author>
            <organization>SMPTE</organization>
          </author>
        </front>
      </reference>

      <reference anchor="SMPTE370M">
        <front>
          <title>
         SMPTE 370M,  Data Structure for DV-Based Audio, Data and
         Compressed Video at 100 Mb/s 1080/60i, 1080/50i, 720/60p,
         and 720/50p
          </title>
          <author>
            <organization>SMPTE</organization>
          </author>
        </front>
      </reference>

    </references>

    <references title="Informative References">

      &RFC2250;
      &RFC3189;
      &RFC3376;
      &RFC3810;
      &RFC4607;
      &RFC5790;

      <reference anchor="ISO/IEC11172">
        <front>
          <title>
         ISO/IEC 11172, Coding of moving pictures and associated audio
         for digital storage media up to about 1,5 Mbit/s
          </title>
          <author>
            <organization>ISO/IEC</organization>
          </author>
        </front>
      </reference>

      <reference anchor="IEC61883">
        <front>
          <title>
         IEC 61883, Consumer audio/video equipment - Digital interface
          </title>
          <author>
            <organization>IEC</organization>
          </author>
        </front>
      </reference>

      <reference anchor="IEEE1394">
        <front>
          <title>
         IEEE Std 1394-1995, Standard for a High Performance Serial Bus
          </title>
          <author>
            <organization>IEEE</organization>
          </author>
        </front>
      </reference>

      <reference anchor="ISO/IEC13818">
        <front>
          <title>
         ISO/IEC 13818, Generic coding of moving pictures and associated
         audio information
          </title>
          <author>
            <organization>ISO/IEC</organization>
          </author>
        </front>
      </reference>

    </references>
  </back>

</rfc>
