<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd">
<?rfc text-list-symbols="o*+-"?>
<?rfc toc="yes" ?>
<?rfc symrefs="yes" ?>
<?rfc sortrefs="yes"?>
<?rfc compact="yes" ?>
<?rfc subcompact="no" ?>
<rfc category="info" consensus="yes" ipr="trust200902" number="7594"
     submissionType="IETF">
  <front>
    <title abbrev="LMAP Framework">A Framework for Large-Scale Measurement of
    Broadband Performance (LMAP)</title>

    <author fullname="Philip Eardley" initials="P." surname="Eardley">
      <organization abbrev="BT">BT</organization>

      <address>
        <postal>
          <street>Adastral Park, Martlesham Heath</street>

          <city>Ipswich</city>

          <country>England</country>
        </postal>

        <email>philip.eardley@bt.com</email>
      </address>
    </author>

    <author fullname="Al Morton" initials="A." surname="Morton">
      <organization abbrev="AT&amp;T Labs">AT&amp;T Labs</organization>

      <address>
        <postal>
          <street>200 Laurel Avenue South</street>

          <city>Middletown, NJ</city>

          <country>United States</country>
        </postal>

        <email>acmorton@att.com</email>
      </address>
    </author>

    <author fullname="Marcelo Bagnulo" initials="M." surname="Bagnulo">
      <organization abbrev="UC3M">Universidad Carlos III de
      Madrid</organization>

      <address>
        <postal>
          <street>Av. Universidad 30</street>

          <city>Leganes</city>

          <region>Madrid</region>

          <code>28911</code>

          <country>Spain</country>
        </postal>

        <phone>34 91 6249500</phone>

        <email>marcelo@it.uc3m.es</email>

        <uri>http://www.it.uc3m.es</uri>
      </address>
    </author>

    <author fullname="Trevor Burbridge" initials="T." surname="Burbridge">
      <organization abbrev="BT">BT</organization>

      <address>
        <postal>
          <street>Adastral Park, Martlesham Heath</street>

          <city>Ipswich</city>

          <country>England</country>
        </postal>

        <email>trevor.burbridge@bt.com</email>
      </address>
    </author>

    <author fullname="Paul Aitken" initials="P." surname="Aitken">
      <organization abbrev="Brocade">Brocade Communications Systems, 
      Inc.</organization>

      <address>
        <postal>
          <street>19a Canning Street, Level 3</street>

          <city>Edinburgh</city>

          <region>Scotland</region>

          <code>EH3 8EG</code>

          <country>United Kingdom</country>
        </postal>

        <email>paitken@brocade.com</email>
      </address>
    </author>

    <author fullname="Aamer Akhter" initials="A." surname="Akhter">
      <organization abbrev="">Consultant</organization>

      <address>
        <postal>
          <street>118 Timber Hitch</street>

          <city>Cary</city>

          <region>NC</region>

          <code/>

          <country>United States</country>
        </postal>

        <email>aakhter@gmail.com</email>
      </address>
    </author>

    <date month="September" year="2015"/>

    <keyword>example</keyword>

    <abstract>
      <t>Measuring broadband service on a large scale requires a description
      of the logical architecture and standardisation of the key protocols
      that coordinate interactions between the components. This document
      presents an overall framework for large-scale measurements. It also
      defines terminology for LMAP (Large-Scale Measurement of Broadband
      Performance).</t>
    </abstract>
  </front>

  <middle>
    <section title="Introduction">
      <t>There is a desire to be able to coordinate the execution of broadband
      measurements and the collection of measurement results across a large
      scale set of Measurement Agents (MAs). These MAs could be software&nbhy;based
      agents on PCs, embedded agents in consumer devices (such as TVs or
      gaming consoles), embedded in service-provider-controlled devices such
      as set-top boxes and home gateways, or simply dedicated probes. MAs may
      also be embedded on a device that is part of an ISP's network, such as a
      DSLAM (Digital Subscriber Line Access Multiplexer), router, Carrier
      Grade NAT (Network Address Translator), or ISP Gateway. It is expected
      that a measurement system could easily encompass a few hundred thousand
      or even millions of such MAs. Such a scale presents unique problems in
      coordination, execution, and measurement result collection. Several use
      cases have been proposed for large-scale measurements including:</t>

      <t><list style="symbols">
          <t>Operators: to help plan their network and identify faults</t>

          <t>Regulators: to benchmark several network operators and support
          public policy development</t>
        </list>Further details of the use cases can be found in <xref
      target="RFC7536"/>. The LMAP framework should be useful for these, as
      well as other use cases, such as to help end users run diagnostic checks
      like a network speed test.</t>

      <t>The LMAP framework has three basic elements: Measurement Agents,
      Controllers, and Collectors.</t>

      <t>Measurement Agents (MAs) initiate the actual measurements, which are
      called Measurement Tasks in the LMAP terminology. In principle, there
      are no restrictions on the type of device in which the MA function
      resides.</t>

      <t>The Controller instructs one or more MAs and communicates the set of
      Measurement Tasks an MA should perform and when. For example, it may
      instruct an MA at a home gateway: "Measure the 'UDP latency' with
      www.example.org; repeat every hour at xx.05". The Controller also
      manages an MA by instructing it on how to report the Measurement
      Results, for example: "Report results once a day in a batch at 4am". We
      refer to these as the Measurement Schedule and Report Schedule.</t>

      <t>The Collector accepts Reports from the MAs with the Results from
      their Measurement Tasks. Therefore, the MA is a device that gets
      Instructions from the Controller, initiates the Measurement Tasks, and
      reports to the Collector. The communications between these three LMAP
      functions are structured according to a Control Protocol and a Report
      Protocol.</t>

      <t>The design goals are the following large-scale Measurement System
      features:</t>

      <t>
        <list style="symbols">
          <t>Standardised - in terms of the Measurement Tasks that they
          perform, the components, the data models, and the protocols for
          transferring information between the components. Amongst other
          things, standardisation enables meaningful comparisons of
          measurements made of the same Metric at different times and places,
          and provides the operator of a Measurement System with criteria for
          evaluation of the different solutions that can be used for various
          purposes including buying decisions (such as buying the various
          components from different vendors). Today's systems are proprietary
          in some or all of these aspects.</t>

          <t>Large-scale - <xref target="RFC7536"/> envisages Measurement
          Agents in every home gateway and edge device such as set-top boxes
          and tablet computers, and located throughout the Internet as well
          <xref target="RFC7398"/>. It is expected that a Measurement System
          could easily encompass a few hundred thousand or even millions of
          Measurement Agents. Existing systems have up to a few thousand MAs
          (without judging how much further they could scale).</t>

          <t>Diversity - a Measurement System should handle Measurement Agents
          from different vendors that are in wired and wireless networks, can
          execute different sorts of Measurement Tasks, are on devices with
          IPv4 or IPv6 addresses, and so on.</t>

          <t>Privacy Respecting - the protocols and procedures should respect
          the sensitive information of all those involved in measurements.</t>
        </list>
      </t>
    </section>

    <section anchor="outline"
             title="Outline of an LMAP-Based Measurement System">
      <t>In this section, we provide an overview of the whole Measurement
      System. New LMAP-specific terms are capitalised; <xref target="terms"/>
      provides a terminology section with a compilation of all the LMAP terms
      and their definitions. <xref target="constraints"/> onwards considers
      the LMAP components in more detail.</t>

      <t>Other LMAP specifications will define an Information Model, the
      associated Data Models, and select/extend one or more protocols for the
      secure communication: firstly, a Control Protocol, for a Controller to
      instruct Measurement Agents regarding which performance Metrics to
      measure, when to measure them, and how/when to report the measurement
      results to a Collector; secondly, a Report Protocol, for a Measurement
      Agent to report the results to the Collector.</t>

      <t><xref target="schematic"/> shows the main components of a Measurement
      System, and the interactions of those components. Some of the components
      are outside the scope of initial LMAP work.</t>

      <t>The MA performs Measurement Tasks. One possibility is that the MA
      observes existing traffic. Another possibility is for the MA to generate
      (or receive) traffic specially created for the purpose and measure some
      Metric associated with its transfer. <xref target="schematic"/> includes
      both possibilities (in practice, it may be more usual for an MA to do
      one) whilst <xref target="DE"/> shows some examples of possible
      arrangements of the components.</t>

      <t>The MAs are pieces of code that can be executed in specialised
      hardware (hardware probe) or on a general-purpose device (like a PC or
      mobile phone). A device with a Measurement Agent may have multiple
      physical interfaces (Wi-Fi, Ethernet, DSL (Digital Subscriber Line); and
      non&nbhy;physical interfaces such as PPPoE (Point&nbhy;to-Point Protocol over
      Ethernet) or IPsec) and the Measurement Tasks may specify any one of
      these.</t>

      <t>The Controller manages an MA through use of the Control Protocol,
      which transfers the Instruction to the MA. This describes the
      Measurement Tasks the MA should perform and when. For example the
      Controller may instruct an MA at a home gateway: "Count the number of
      TCP SYN packets observed in a 1 minute interval; repeat every hour at
      xx.05 + Unif[0,180] seconds". The Measurement Schedule determines when
      the Measurement Tasks are executed. The Controller also manages an MA by
      instructing it on how to report the Measurement Results, for example:
      "Report results once a day in a batch at 4am + Unif[0,180] seconds; if
      the end user is active then delay the report 5 minutes." The Report
      Schedule determines when the Reports are uploaded to the Collector. The
      Measurement Schedule and Report Schedule can define one-off
      (non-recurring) actions (for example, "Do measurement now", "Report as
      soon as possible"), as well as recurring ones.</t>

      <t>The Collector accepts a Report from an MA with the Measurement
      Results from its Measurement Tasks. It then provides the Results to a
      repository.</t>

      <t>A Measurement Method defines how to measure a Metric of interest. It
      is very useful to standardise Measurement Methods, so that it is
      meaningful to compare measurements of the same Metric made at different
      times and places. It is also useful to define a registry for commonly
      used Metrics <xref target="IPPM-REG"/> so that a Metric and its
      associated Measurement Method can be referred to simply by its
      identifier in the registry. The registry will hopefully be referenced by
      other standards organisations. The Measurement Methods may be defined by
      the IETF, locally, or by some other standards body.</t>

      <t>Broadly speaking there are two types of Measurement Methods. In both
      types, a Measurement Agent measures a particular Observed Traffic Flow.
      It may involve a single MA simply observing existing traffic -- for
      example, the Measurement Agent could count bytes or calculate the
      average loss for a particular flow. On the other hand, a Measurement
      Method may observe traffic created specifically for the purpose of
      measurement. This requires multiple network entities, which perform
      different roles. For example, to measure the round trip delay one
      possible Measurement Method would consist of an MA sending an ICMP
      (Internet Control Message Protocol) ECHO request ("ping") to a responder
      in the Internet. In LMAP terms, the responder is termed a Measurement
      Peer (MP), meaning that it helps the MA but is not managed by the
      Controller. Other Measurement Methods involve a second MA, with the
      Controller instructing the MAs in a coordinated manner. Traffic
      generated specifically as part of the Measurement Method is termed
      Measurement Traffic; in the ping example, it is the ICMP ECHO Requests
      and Replies. The protocols used for the Measurement Traffic are out of
      the scope of initial LMAP work and fall within the scope of other IETF
      WGs such as IPPM (IP Performance Metrics).</t>

      <t>A Measurement Task is the action performed by a particular MA at a
      particular time, as the specific instance of its role in a Measurement
      Method. LMAP is mainly concerned with Measurement Tasks, for instance in
      terms of its Information Model and Protocols.</t>

      <t>For Measurement Results to be truly comparable, as might be required
      by a regulator, not only do the same Measurement Methods need to be used
      to assess Metrics, but also the set of Measurement Tasks should follow a
      similar Measurement Schedule and be of similar number. The details of
      such a characterisation plan are beyond the scope of IETF work, although
      it is certainly facilitated by the IETF's work.</t>

      <t>Both control and report messages are transferred over a secure
      Channel. A Control Channel is between the Controller and an MA; the
      Control Protocol delivers Instruction Messages to the MA and
      Capabilities, Failure, and Logging Information in the reverse direction.
      A Report Channel is between an MA and Collector, and the Report Protocol
      delivers Reports to the Collector.</t>

      <t>Finally, we introduce several components that are outside the scope
      of initial LMAP work that will be provided through existing protocols or
      applications. They affect how the Measurement System uses the
      Measurement Results and how it decides what set of Measurement Tasks to
      perform. As shown in <xref target="schematic"/>, these components are:
      the bootstrapper, Subscriber parameter database, data analysis tools,
      and Results repository.</t>

      <t>The MA needs to be bootstrapped with initial details about its
      Controller, including authentication credentials. The LMAP work
      considers the Bootstrap process, since it affects the Information Model.
      However, LMAP does not define a Bootstrap protocol, since it is likely
      to be technology specific and could be defined by the Broadband Forum,
      CableLabs, or IEEE depending on the device. Possible protocols are SNMP
      (Simple Network Management Protocol), NETCONF (Network Configuration
      Protocol), or (for Home Gateways) CPE WAN Management Protocol (CWMP)
      from the Auto Configuration Server (ACS) (as specified in TR-069 <xref
      target="TR-069"/>).</t>

      <t>A Subscriber parameter database contains information about the line,
      such as the customer's broadband contract (perhaps 2, 40, or 80
      Mb/&wj;s), the line technology (DSL or fibre), the time zone in which
      the MA is located, and the type of home gateway and MA. These parameters
      are already gathered and stored by existing operations systems. They may
      affect the choice of what Measurement Tasks to run and how to interpret
      the Measurement Results. For example, a download test suitable for a
      line with an 80 Mb/s contract may overwhelm a 2 Mb/s line.</t>

      <t>A Results repository records all Measurement Results in an equivalent
      form, for example an SQL (Structured Query Language) database, so that
      they can easily be accessed by the data analysis tools.</t>

      <t>The data analysis tools receive the results from the Collector or via
      the Results repository. They might visualise the data or identify which
      component or link is likely to be the cause of a fault or degradation.
      This information could help the Controller decide what follow-up
      Measurement Task to perform in order to diagnose a fault. The data
      analysis tools also need to understand the Subscriber's service
      information, for example, the broadband contract.</t>

      <t/>

      <figure anchor="schematic"
              title="Schematic of main elements of an LMAP-based Measurement System (showing the elements in and out of the scope of initial LMAP work)">
        <artwork><![CDATA[
   +--------+      +-----------+              +-----------+      ^
   |End user|      |           |   Observed   | End user  |      |
   |        |<-----|-----------|---Traffic--->|           |      |
   |        |      |           |   Flow       |           |      |
   |        |      |           |              |           |   Non-LMAP
   |        |      |           | Measurement  |           |    Scope
   |        |      |           |<--Traffic--->|           |      |
   +--------+      |           |              +-----------+      |
   ................|...........|.................................V
      <MP>         |Measurement|                  <MP>           ^
                   |Agent:     |                                 |
                   |LMAP       |                                 |
      +----------->|interface  |                                 |
      |            +-----------+                                 |
      |                ^    |                                   LMAP
      |    Instruction |    |  Report                          Scope
      |  (over Control |    | (over Report Channel)              |
      |     Channel)   |    +-----------------------+            |
      |                |                            |            |
      |                |                            |            |
      |                |                            v            |
      |          +------------+               +------------+     |
      |          | Controller |               |  Collector |     |
      |          +------------+               +------------+     v
      |                ^      ^                     |            ^
      |                |      |                     |            |
      |                |      +--------+            |            |
      |                |               |            v            |
   +------------+   +----------+    +--------+    +----------+   |
   |Bootstrapper|   |Subscriber|--->|  data  |<---| Results  |  Non-
   +------------+   |parameter |    |analysis|    |repository|  LMAP
                    |database  |    | tools  |    +----------+ Scope
                    +----------+    +--------+                   |
                                                                 |
                                                                 v

   MP: Measurement Peer
]]></artwork>
      </figure>
    </section>

    <section anchor="terms" title="Terminology">
      <t>This section defines terminology for LMAP. Please note that defined
      terms are capitalised throughout.</t>

      <t>Bootstrap: A process that integrates a Measurement Agent into a
      Measurement System.</t>

      <t>Capabilities: Information about the performance measurement
      capabilities of the MA, in particular the Measurement Method roles and
      measurement protocol roles that it can perform, and the device hosting
      the MA, for example its interface type and speed, but not dynamic
      information.</t>

      <t>Channel: A bidirectional logical connection that is defined by a
      specific Controller and MA, or Collector and MA, plus associated
      security.</t>

      <t>Collector: A function that receives a Report from an MA.</t>

      <t>Configuration: A process for informing the MA about its MA-ID,
      (optional) Group-ID, and Control Channel.</t>

      <t>Controller: A function that provides a Measurement Agent with its
      Instruction.</t>

      <t>Control Channel: A Channel between a Controller and an MA over which
      Instruction Messages and Capabilities, Failure, and Logging Information
      are sent.</t>

      <t>Control Protocol: The protocol delivering Instruction(s) from a
      Controller to a Measurement Agent. It also delivers Capabilities,
      Failure, and Logging Information from the Measurement Agent to the
      Controller. It can also be used to update the MA's Configuration. It
      runs over the Control Channel.</t>

      <t>Cycle-ID: A tag that is sent by the Controller in an Instruction and
      echoed by the MA in its Report. The same Cycle-ID is used by several MAs
      that use the same Measurement Method for a Metric with the same Input
      Parameters. Hence, the Cycle-ID allows the Collector to easily identify
      Measurement Results that should be comparable.</t>

      <t>Data Model: The implementation of an Information Model in a
      particular data modelling language <xref target="RFC3444"/>.</t>

      <t>Environmental Constraint: A parameter that is measured as part of the
      Measurement Task, its value determining whether the rest of the
      Measurement Task proceeds.</t>

      <t>Failure Information: Information about the MA's failure to take
      action or execute an Instruction, whether concerning Measurement Tasks
      or Reporting.</t>

      <t>Group-ID: An identifier of a group of MAs.</t>

      <t>Information Model: The protocol-neutral definition of the semantics
      of the Instructions, the Report, the status of the different elements of
      the Measurement System, as well of the events in the system <xref
      target="RFC3444"/>.</t>

      <t>Input Parameter: A parameter whose value is left open by the Metric
      and its Measurement Method and is set to a specific value in a
      Measurement Task. Altering the value of an Input Parameter does not
      change the fundamental nature of the Measurement Task.</t>

      <t>Instruction: The description of Measurement Tasks for an MA to
      perform and the details of the Report for it to send. It is the
      collective description of the Measurement Task configurations, the
      configuration of the Measurement Schedules, the configuration of the
      Report Channel(s), the configuration of Report Schedule(s), and the
      details of any Suppression.</t>

      <t>Instruction Message: The message that carries an Instruction from a
      Controller to a Measurement Agent.</t>

      <t>Logging Information: Information about the operation of the
      Measurement Agent, which may be useful for debugging.</t>

      <t>Measurement Agent (MA): The function that receives Instruction
      Messages from a Controller and operates the Instruction by executing
      Measurement Tasks (using protocols outside the scope of the initial LMAP
      work and perhaps in concert with one or more other Measurement Agents or
      Measurement Peers) and (if part of the Instruction) by reporting
      Measurement Results to a Collector or Collectors.</t>

      <t>Measurement Agent Identifier (MA-ID): a Universally Unique IDentifier
      <xref target="RFC4122"/> that identifies a particular MA and is
      configured as part of the Bootstrapping process.</t>

      <t>Measurement Method: The process for assessing the value of a Metric;
      the process of measuring some performance or reliability Metric
      associated with the transfer of traffic.</t>

      <t>Measurement Peer (MP): The function that assists a Measurement Agent
      with Measurement Tasks and does not have an interface to the Controller
      or Collector.</t>

      <t>Measurement Result: The output of a single Measurement Task (the
      value obtained for the Metric).</t>

      <t>Measurement Schedule: The schedule for performing Measurement
      Tasks.</t>

      <t>Measurement System: The set of LMAP-defined and related components
      that are operated by a single organisation, for the purpose of measuring
      performance aspects of the network.</t>

      <t>Measurement Task: The action performed by a particular Measurement
      Agent that consists of the single assessment of a Metric through
      operation of a Measurement Method role at a particular time, with all of
      the role's Input Parameters set to specific values.</t>

      <t>Measurement Traffic: the packet(s) generated by some types of
      Measurement Method that involve measuring some parameter associated with
      the transfer of the packet(s).</t>

      <t>Metric: The quantity related to the performance and reliability of
      the network that we'd like to know the value of.</t>

      <!-- quoted text from RFC 7011 -->

      <t>Observed Traffic Flow: In RFC 7011 <xref target="RFC7011"/>, a
      Traffic Flow (or Flow) is defined as "a set of packets or frames passing
      an Observation Point in the network during a certain time interval. All
      packets belonging to a particular Flow have a set of common properties,"
      such as packet header fields, characteristics, and treatments. A Flow
      measured by the LMAP system is termed an Observed Traffic Flow. Its
      properties are summarised and tabulated in Measurement Results (as
      opposed to raw capture and export).</t>

      <t>Report: The set of Measurement Results and other associated
      information (as defined by the Instruction). The Report is sent by a
      Measurement Agent to a Collector.</t>

      <t>Report Channel: A Channel between a Collector and an MA over which
      Report messages are sent.</t>

      <t>Report Protocol: The protocol delivering Report(s) from a Measurement
      Agent to a Collector. It runs over the Report Channel.</t>

      <t>Report Schedule: The schedule for sending Reports to a Collector.</t>

      <t>Subscriber: An entity (associated with one or more users) that is
      engaged in a subscription with a service provider.</t>

      <t>Suppression: The temporary cessation of Measurement Tasks.</t>
    </section>

    <section anchor="constraints" title="Constraints">
      <t>The LMAP framework makes some important assumptions, which constrain
      the scope of the initial LMAP work.</t>

      <section title="The Measurement System Is Under the Direction of a Single Organisation">
        <t>In the LMAP framework, the Measurement System is under the
        direction of a single organisation that is responsible for any impact
        that its measurements have on a user's quality of experience and
        privacy. Clear responsibility is critical given that a misbehaving
        large-scale Measurement System could potentially harm user experience,
        user privacy, and network security.</t>

        <t>However, the components of an LMAP Measurement System can be
        deployed in administrative domains that are not owned by the measuring
        organisation. Thus, the system of functions deployed by a single
        organisation constitutes a single LMAP domain, which may span
        ownership or other administrative boundaries.</t>
      </section>

      <section anchor="single-contoller"
               title="Each MA May Only Have a Single Controller at Any Point in Time">
        <t>An MA is instructed by one Controller and is in one Measurement
        System. The constraint avoids different Controllers giving an MA
        conflicting instructions and so means that the MA does not have to
        manage contention between multiple Measurement (or Report) Schedules.
        This simplifies the design of MAs (critical for a large-scale
        infrastructure) and allows a Measurement Schedule to be tested on
        specific types of MAs before deployment to ensure that the end-user
        experience is not impacted (due to CPU, memory, or broadband-product
        constraints). However, a Measurement System may have several
        Controllers.</t>
      </section>
    </section>

    <section anchor="pm" title="Protocol Model">
      <t>A protocol model <xref target="RFC4101"/> presents an architectural
      model for how the protocol operates and needs to answer three basic
      questions:</t>

      <t>
        <list style="numbers">
          <t>What problem is the protocol trying to address?</t>

          <t>What messages are being transmitted and what do they mean?</t>

          <t>What are the important, but not obvious [sic], features of the
          protocol?</t>
        </list>
      </t>

      <t>An LMAP system goes through the following phases:</t>

      <t>
        <list style="symbols">
          <t>a Bootstrapping process before the MA can take part in the other
          three phases.</t>

          <t>a Control Protocol, which delivers Instruction Messages from a
          Controller to an MA (amongst other things).</t>

          <t>the actual Measurement Tasks, which measure some performance or
          reliability Metric(s) associated with the transfer of packets.</t>

          <t>a Report Protocol, which delivers Reports containing the
          Measurement Results from an MA to a Collector.</t>
        </list>
      </t>

      <t>The figures show the various LMAP messages and use the following
      conventions:</t>

      <t>
        <list style="symbols">
          <t>(optional): indicated by round brackets</t>

          <t>[potentially repeated]: indicated by square brackets</t>
        </list>
      </t>

      <t>The protocol model is closely related to the Information Model <xref
      target="LMAP-INFO"/>, which is the abstract definition of the
      information carried by the protocol. (If there is any difference between
      this document and the Information Model, the latter is definitive.) The
      purpose of both is to provide a protocol and device-independent view,
      which can be implemented via specific protocols. LMAP defines a specific
      Control Protocol and Report Protocol, but others could be defined by
      other standards bodies or be proprietary. However, it is important that
      they all implement the same Information Model and protocol model, in
      order to ease the definition, operation, and interoperability of
      large-scale Measurement Systems.</t>

      <t/>

      <section anchor="bootstrap" title="Bootstrapping Process">
        <t>The primary purpose of Bootstrapping is to enable an MA to be
        integrated into a Measurement System. The MA retrieves information
        about itself (like its identity in the Measurement System) and about
        the Controller, the Controller learns information about the MA, and
        they learn about security information to communicate (such as
        certificates and credentials).</t>

        <t>Whilst this memo considers the Bootstrapping process, it is beyond
        the scope of initial LMAP work to define a Bootstrap mechanism, as it
        depends on the type of device and access.</t>

        <t>As a result of the Bootstrapping process, the MA learns the
        following information (<xref target="LMAP-INFO"/> defines the
        consequent list of information elements):</t>

        <t><list style="symbols">
            <t>its identifier, either its MA-ID or a device identifier such as
            one of its Media Access Controls (MACs) addresses or both.</t>

            <t>(optionally) a Group-ID, shared by several MAs and could be
            useful for privacy reasons. For instance, reporting the Group-ID
            and not the MA-ID could hinder tracking of a mobile device.</t>

            <t>the Control Channel, which is defined by:<list style="symbols">
                <t>the address that identifies the Control Channel, such as
                the Controller's FQDN (Fully Qualified Domain Name) <xref
                target="RFC1035"/>).</t>

                <t>security information (for example, to enable the MA to
                decrypt the Instruction Message and encrypt messages sent to
                the Controller).</t>
              </list></t>
          </list>The details of the Bootstrapping process are device/access
        specific. For example, the information could be in the firmware,
        manually configured, or transferred via a protocol like that described
        in TR-069 <xref target="TR-069"/>. There may be a multi-stage process
        where the MA contacts a 'hard-coded' address, which replies with the
        Bootstrapping information.</t>

        <t>The MA must learn its MA-ID before getting an Instruction, either
        during Bootstrapping or via Configuration (<xref
        target="CP-config"/>).</t>

        <t/>
      </section>

      <section anchor="CP" title="Control Protocol">
        <t>The primary purpose of the Control Protocol is to allow the
        Controller to configure a Measurement Agent with an Instruction about
        what Measurement Tasks to do, when to do them, and how to report the
        Measurement Results (<xref target="CP-instruct"/>). The Measurement
        Agent then acts on the Instruction autonomously. The Control Protocol
        also enables the MA to inform the Controller about its Capabilities
        and any Failure and Logging Information (<xref target="CP-cfl"/>).
        Finally, the Control Protocol allows the Controller to update the MA's
        Configuration.</t>

        <t/>

        <section anchor="CP-config" title="Configuration">
          <t>Configuration allows the Controller to update the MA about some
          or all of the information that it obtained during the Bootstrapping
          process: the MA-ID, the (optional) Group-ID, and the Control
          Channel. <xref target="cp-configuration"/> outlines the
          Configuration process. The Measurement System might use
          Configuration for several reasons. For example, the Bootstrapping
          process could 'hard code' the MA with details of an initial
          Controller, and then the initial Controller could configure the MA
          with details about the Controller that sends Instruction Messages.
          (Note that an MA only has one Control Channel, so it is associated
          with only one Controller, at any moment.)</t>

          <t>Note that an implementation may choose to combine Configuration
          information and an Instruction Message into a single message.</t>

          <t>
            <figure anchor="cp-configuration" title="Outline of Configuration">
              <artwork><![CDATA[+-----------------+                                   +-------------+
|                 |                                   | Measurement |
|  Controller     |===================================|  Agent      |
+-----------------+                                   +-------------+

Configuration information:               ->
(MA-ID),
(Group-ID),
(Control Channel) 
                                         <-        Response(details)

MA: Measurement Agent
]]></artwork>
            </figure>
          </t>
        </section>

        <section anchor="CP-instruct" title="Instruction">
          <t>The Instruction is the description of the Measurement Tasks for a
          Measurement Agent to do and the details of the Measurement Reports
          for it to send. <xref target="cp-instruction"/> outlines the
          Instruction process. In order to update the Instruction, the
          Controller uses the Control Protocol to send an Instruction Message
          over the Control Channel.</t>

          <t/>

          <t>
            <figure anchor="cp-instruction" title="Outline of Instruction">
              <artwork><![CDATA[+-----------------+                                   +-------------+
|                 |                                   | Measurement |
|  Controller     |===================================|  Agent      |
+-----------------+                                   +-------------+ 

Instruction:                            ->
[(Measurement Task configuration
    URI of Metric(
   [Input Parameter], 
   (role)
   (interface),
   (Cycle-ID)
   (measurement point)),
 (Report Channel),
 (Schedule),
 (Suppression information)]
                                        <-         Response(details)
]]></artwork>
            </figure>
          </t>

          <t>The Instruction defines the following information (<xref
          target="LMAP-INFO"/> defines the consequent list of information
          elements):</t>

          <t>
            <list style="symbols">
              <t>the Measurement Task configurations, each of which
              needs:<list style="symbols">
                  <t>the Metric, specified as a URI to a registry entry; it
                  includes the specification of a Measurement Method. The
                  registry could be defined by a standards organisation or
                  locally by the operator of the Measurement System. Note
                  that, at the time of writing, the IETF is working on such a
                  registry specification <xref target="IPPM-REG"/>.</t>

                  <t>the Measurement Method role. For some Measurement
                  Methods, different parties play different roles; for
                  example, an iperf sender and receiver (see <xref
                  target="DE"/>). Each Metric and its associated Measurement
                  Method will describe all measurement roles involved in the
                  process.</t>

                  <t>a boolean flag (suppress or do-not-suppress) indicating
                  if such a Measurement Task is impacted by a Suppression
                  message (see <xref target="suppress"/>). Thus, the flag is
                  an Input Parameter.</t>

                  <t>any Input Parameters that need to be set for the Metric
                  and the Measurement Method. For example, the address of a
                  Measurement Peer (or other Measurement Agent) that may be
                  involved in a Measurement Task, or traffic filters
                  associated with the Observed Traffic Flow.</t>

                  <t>the interface to use (if not defined, then the default
                  interface is used), if the device with the MA has multiple
                  interfaces.</t>

                  <t>optionally, a Cycle-ID.</t>

                  <t>optionally, the measurement point designation <xref
                  target="RFC7398"/> of the MA and, if applicable, of the MP
                  or other MA. This can be useful for reporting.</t>
                </list></t>

              <t>configuration of the Schedules, each of which needs:<list
                  style="symbols">
                  <t>the timing of when the Measurement Tasks are to be
                  performed or the Measurement Reports are to be sent.
                  Possible types of timing are periodic, calendar-based
                  periodic, one-off immediate, and one-off at a future
                  time.</t>
                </list></t>

              <t>configuration of the Report Channel(s), each of which
              needs:<list style="symbols">
                  <t>the address of the Collector, for instance its URL.</t>

                  <t>security for this Report Channel, for example, the X.509
                  certificate.</t>
                </list></t>

              <t>Suppression information, if any (see <xref
              target="suppress"/>).</t>
            </list>
          </t>

          <t>A single Instruction Message may contain some or all of the above
          parts. The finest level of granularity possible in an Instruction
          Message is determined by the implementation and operation of the
          Control Protocol. For example, a single Instruction Message may add
          or update an individual Measurement Schedule -- or it may only
          update the complete set of Measurement Schedules; a single
          Instruction Message may update both Measurement Schedules and
          Measurement Task configurations -- or only one at a time; and so on.
          However, Suppression information always replaces (rather than adds
          to) any previous Suppression information.</t>

          <t>The MA informs the Controller that it has successfully understood
          the Instruction Message, or that it cannot take action on the
          Instruction -- for example, if it doesn't include a parameter that
          is mandatory for the requested Metric and Measurement Method, or if
          it is missing details of the target Collector.</t>

          <t>The Instruction Message instructs the MA; the Control Protocol
          does not allow the MA to negotiate, as this would add complexity to
          the MA, Controller, and Control Protocol for little benefit.</t>

          <t/>

          <section anchor="suppress" title="Suppression">
            <t>The Instruction may include Suppression information. The main
            motivation for Suppression is to enable the Measurement System to
            eliminate Measurement Traffic, because there is some unexpected
            network issue, for example. There may be other circumstances when
            Suppression is useful, for example, to eliminate inessential
            Reporting traffic (even if there is no Measurement Traffic). <xref
            target="suppression"/> outlines the Suppression process.</t>

            <t>The Suppression information may include any of the following
            optional fields:</t>

            <t>
              <list style="symbols">
                <t>a set of Measurement Tasks to suppress; the others are not
                suppressed. For example, this could be useful if a particular
                Measurement Task is overloading a Measurement Peer with
                Measurement Traffic.</t>

                <t>a set of Measurement Schedules to suppress; the others are
                not suppressed. For example, suppose the Measurement System
                has defined two Schedules, one with the most critical
                Measurement Tasks and the other with less critical ones that
                create a lot of Measurement Traffic, in which case it may only
                want to suppress the second.</t>

                <t>a set of Reporting Schedules to suppress; the others are
                not suppressed. This can be particularly useful in the case of
                a Measurement Method that doesn't generate Measurement
                Traffic; it may need to continue observing traffic flows but
                temporarily suppress Reports due to the network footprint of
                the Reports.</t>

                <t>if all the previous fields are included then the MA
                suppresses the union -- in other words, it suppresses the set
                of Measurement Tasks, the set of Measurement Schedules, and
                the set of Reporting Schedules.</t>

                <t>if the Suppression information includes neither a set of
                Measurement Tasks nor a set of Measurement Schedules, then the
                MA does not begin new Measurement Tasks that have the boolean
                flag set to suppress; however, the MA does begin new
                Measurement Tasks that have the flag set to
                do-not-suppress.</t>

                <t>a start time, at which Suppression begins. If absent, then
                Suppression begins immediately.</t>

                <t>an end time, at which Suppression ends. If absent, then
                Suppression continues until the MA receives an Un-suppress
                message.</t>

                <t>a demand that the MA immediately end on-going Measurement
                Task(s) that are tagged for Suppression. (Most likely it is
                appropriate to delete the associated partial Measurement
                Result(s).) This could be useful in the case of a network
                emergency so that the operator can eliminate all inessential
                traffic as rapidly as possible. If absent, the MA completes
                on-going Measurement Tasks.</t>
              </list>
            </t>

            <t>An Un-suppress message instructs the MA to no longer suppress,
            meaning that the MA once again begins new Measurement Tasks,
            according to its Measurement Schedule.</t>

            <t>Note that Suppression is not intended to permanently stop a
            Measurement Task (instead, the Controller should send a new
            Measurement Schedule), nor to permanently disable an MA (instead,
            some kind of management action is suggested).</t>

            <figure anchor="suppression" title="Outline of Suppression">
              <artwork><![CDATA[+-----------------+                              +-------------+
|                 |                              | Measurement |
|  Controller     |==============================|  Agent      |
+-----------------+                              +-------------+ 

Suppress:
[(Measurement Task),                  ->               
 (Measurement Schedule),
 (start time), 
 (end time),
 (on-going suppressed?)]
 
Un-suppress                           ->                                       
]]></artwork>
            </figure>
          </section>
        </section>

        <section anchor="CP-cfl"
                 title="Capabilities, Failure, and Logging Information">
          <t>The Control Protocol also enables the MA to inform the Controller
          about various information, such as its Capabilities and any
          Failures. <xref target="cp-cfl"/> outlines the process for
          Capabilities, Failure, and Logging Information. It is also possible
          to use a device-specific mechanism, which is beyond the scope of the
          initial LMAP work.</t>

          <t>Capabilities are information about the MA that the Controller
          needs to know in order to correctly instruct the MA, such as:</t>

          <t>
            <list style="symbols">
              <t>the Measurement Method (roles) that the MA supports.</t>

              <t>the measurement protocol types and roles that the MA
              supports.</t>

              <t>the interfaces that the MA has.</t>

              <t>the version of the MA.</t>

              <t>the version of the hardware, firmware, or software of the
              device with the MA.</t>

              <t>its Instruction (this could be useful if the Controller
              thinks something has gone wrong and wants to check what
              Instruction the MA is using).</t>

              <t>but not dynamic information like the currently unused CPU,
              memory, or battery life of the device with the MA.</t>
            </list>
          </t>

          <t>Failure Information concerns why the MA has been unable to
          execute a Measurement Task or deliver a Report, for example:</t>

          <t>
            <list style="symbols">
              <t>the Measurement Task failed to run properly because the MA
              (unexpectedly) has no spare CPU cycles.</t>

              <t>the MA failed to record the Measurement Results because it
              (unexpectedly) is out of spare memory.</t>

              <t>a Report failed to deliver Measurement Results because the
              Collector (unexpectedly) is not responding.</t>

              <t>but not if a Measurement Task correctly doesn't start. For
              example, the first step of some Measurement Methods is for the
              MA to check that there is no cross-traffic.</t>
            </list>
          </t>

          <t>Logging Information concerns how the MA is operating and may help
          debugging, for example:</t>

          <t>
            <list style="symbols">
              <t>the last time the MA ran a Measurement Task.</t>

              <t>the last time the MA sent a Measurement Report.</t>

              <t>the last time the MA received an Instruction Message.</t>

              <t>whether the MA is currently suppressing Measurement
              Tasks.</t>
            </list>
          </t>

          <t>Capabilities, Failure, and Logging Information are sent by the
          MA, either in response to a request from the Controller (for
          example, if the Controller forgets what the MA can do or otherwise
          wants to resynchronise what it knows about the MA), or on its own
          initiative (for example, when the MA first communicates with a
          Controller or if it becomes capable of a new Measurement Method).
          Another example of the latter case is if the device with the MA
          re-boots, then the MA should notify its Controller in case its
          Instruction needs to be updated; to avoid a "mass calling event"
          after a widespread power restoration affecting many MAs, it is
          sensible for an MA to pause for a random delay, perhaps in the range
          of one minute or so.</t>

          <t>
            <figure anchor="cp-cfl"
                    title="Outline of Capabilities, Failure, and Logging Information">
              <artwork><![CDATA[+-----------------+                                  +-------------+
|                 |                                  | Measurement |
|  Controller     |==================================|  Agent      |
+-----------------+                                  +-------------+ 

    (Request Capabilities),
    (Request Failure Information),
    (Request Logging Information),
    (Request Instruction)                ->
                                         <-           (Capabilities),
                                               (Failure Information),
                                               (Logging Information),
                                                       (Instruction)
]]></artwork>
            </figure>
          </t>

          <t/>
        </section>
      </section>

      <section anchor="op-MT" title="Operation of Measurement Tasks">
        <t>This LMAP framework is neutral to what the actual Measurement Task
        is. It does not define Metrics and Measurement Methods; these are
        defined elsewhere.</t>

        <t>The MA carries out the Measurement Tasks as instructed, unless it
        gets an updated Instruction. The MA acts autonomously, in terms of
        operation of the Measurement Tasks and reporting of the Results; it
        doesn't do a 'safety check' with the Controller to ask whether it
        should still continue with the requested Measurement Tasks.</t>

        <t>The MA may operate Measurement Tasks sequentially or in parallel
        (see <xref target="over-MT"/>).</t>

        <section anchor="start-stop"
                 title="Starting and Stopping Measurement Tasks">
          <t>This LMAP framework does not define a generic start and stop
          process, since the correct approach depends on the particular
          Measurement Task; the details are defined as part of each
          Measurement Method. This section provides some general hints. The MA
          does not inform the Controller about Measurement Tasks starting and
          stopping.</t>

          <t>Before beginning a Measurement Task, the MA may want to run a
          pre&nbhy;check. (The pre&nbhy;check could be defined as a separate, preceding
          Task or as the first part of a larger Task.)</t>

          <t>For Measurement Tasks that observe existing traffic, action could
          include:</t>

          <t>
            <list style="symbols">
              <t>checking that there is traffic of interest.</t>

              <t>checking that the device with the MA has enough resources to
              execute the Measurement Task reliably. Note that the designer of
              the Measurement System should ensure that the device's resources
              are normally sufficient to comfortably operate the Measurement
              Tasks.</t>
            </list>
          </t>

          <t>For Measurement Tasks that generate Measurement Traffic, a
          pre&nbhy;check could include:</t>

          <t><list style="symbols">
              <t>the MA checking that there is no cross-traffic. In other
              words, a check that the end-user isn't already sending
              traffic.</t>

              <t>the MA checking with the Measurement Peer (or other
              Measurement Agent) involved in the Measurement Task that it can
              handle a new Measurement Task. For example, the Measurement Peer
              may already be handling many Measurement Tasks with other
              MAs.</t>

              <t>sending traffic that probes the path to check it isn't
              overloaded.</t>

              <t>checking that the device with the MA has enough resources to
              execute the Measurement Task reliably.</t>
            </list>Similar checks may continue during the Measurement Task, in
          particular for a Measurement Task that is long-running and/or
          creates a lot of Measurement Traffic. If, for example, the check
          detects that the end-user has started sending traffic, then the
          Measurement Task can be abandoned. A Measurement Task could also be
          abandoned in response to a "suppress" message (see <xref
          target="suppress"/>). Action could include:</t>

          <t>
            <list style="symbols">
              <t>for 'upload' tests, the MA not sending traffic.</t>

              <t>for 'download' tests, the MA closing the TCP connection or
              sending a TWAMP (Two-Way Active Measurement Protocol)
              Stop-Sessions command <xref target="RFC5357"/>.</t>
            </list>
          </t>

          <t>The Controller may want an MA to run the same Measurement Task
          indefinitely (for example, "run the 'upload speed' Measurement Task
          once an hour until further notice"). To prevent the MA continuously
          generating traffic after a Controller has permanently failed (or
          communications with the Controller have failed), the MA can be
          configured with a time limit; if the MA doesn't hear from the
          Controller for this length of time, then it stops operating
          Measurement Tasks.</t>

          <t/>
        </section>

        <section anchor="over-MT" title="Overlapping Measurement Tasks">
          <t>An MA may start a new Measurement Task before another Measurement
          Task has completed. This may be intentional (the way that the
          Measurement System has designed the Measurement Schedules), but it
          could also be unintentional -- for instance, if a Measurement Task
          has a 'wait for X' step that pauses for an unexpectedly long time.
          This document makes no assumptions about the impact of one
          Measurement Task on another.</t>

          <t>The operator of the Measurement System can handle (or not)
          overlapping Measurement Tasks in any way they choose -- it is a
          policy or implementation issue and not the concern of LMAP. Some
          possible approaches are: to configure the MA to not begin the second
          Measurement Task; to start the second Measurement Task as usual; for
          the action to be an Input Parameter of the Measurement Task; and so
          on.</t>

          <t>It may be important for the Measurement Report to include the
          fact that the Measurement Tasks overlapped.</t>
        </section>
      </section>

      <section anchor="rp" title="Report Protocol">
        <t>The primary purpose of the Report Protocol is to allow a
        Measurement Agent to report its Measurement Results to a Collector,
        along with the context in which they were obtained. <xref
        target="report-protocol"/> outlines the Report process.</t>

        <t>
          <figure anchor="report-protocol" title="Outline of the Report">
            <artwork><![CDATA[+-----------------+                                  +-------------+
|                 |                                  | Measurement |
|   Collector     |==================================|  Agent      |
+-----------------+                                  +-------------+ 
                                                       
                                  <-    Report: 
                                               [MA-ID &/or Group-ID],
                                                [Measurement Result],
                                       [details of Measurement Task],
                                                          (Cycle-ID)
ACK                               ->

MA: Measurement Agent
]]></artwork>
          </figure>
        </t>

        <t>The Report contains:<list style="symbols">
            <t>the MA-ID or a Group-ID (to anonymise results).</t>

            <t>the actual Measurement Results, including the time they were
            measured. In general, the time is simply the MA's best estimate
            and there is no guarantee on the accuracy or granularity of the
            information. It is possible that some specific analysis of a
            particular Measurement Method's Results will impose timing
            requirements.</t>

            <t>the details of the Measurement Task (to avoid the Collector
            having to ask the Controller for this information later), for
            example, the interface used for the measurements.</t>

            <t>the Cycle-ID, if one was included in the Instruction.</t>

            <t>perhaps the Subscriber's service parameters (see <xref
            target="RP-servparam"/>).</t>

            <t>the measurement point designation of the MA and, if applicable,
            the MP or other MA, if the information was included in the
            Instruction. This numbering system is defined in <xref
            target="RFC7398"/> and allows a Measurement Report to describe the
            path measured abstractly (for example, "from a measurement agent
            at a home gateway to a measurement peer at a DSLAM"). Also, the MA
            can anonymise results by including measurement point designations
            instead of IP addresses (<xref target="anon"/>).</t>
          </list></t>

        <t>The MA sends Reports as defined by the Instruction. The Instruction
        may tell the MA to report the same Results to more than one Collector,
        or to report a different subset of Results to different Collectors.
        Also, a Measurement Task may create two (or more) Measurement Results,
        which could be reported differently (for example, one Result could be
        reported periodically, whilst the second Result could be an alarm that
        is created as soon as the measured value of the Metric crosses a
        threshold and that is reported immediately).</t>

        <t>Optionally, a Report is not sent when there are no Measurement
        Results.</t>

        <t>In the initial LMAP Information Model and Report Protocol, for
        simplicity we assume that all Measurement Results are reported as-is,
        but allow extensibility so that a Measurement System (or perhaps a
        second phase of LMAP) could allow an MA to:</t>

        <t>
          <list style="symbols">
            <t>label, or perhaps not include, Measurement Results impacted by,
            for instance, cross-traffic or a Measurement Peer (or other
            Measurement Agent) being busy.</t>

            <t>label Measurement Results obtained by a Measurement Task that
            overlapped with another.</t>

            <t>not report the Measurement Results if the MA believes that they
            are invalid.</t>

            <t>detail when Suppression started and ended.</t>
          </list>
        </t>

        <t>As discussed in <xref target="controller"/>, data analysis of the
        Results should carefully consider potential bias from any Measurement
        Results that are not reported, or from Measurement Results that are
        reported but may be invalid.</t>

        <section anchor="RP-servparam"
                 title="Reporting of the Subscriber's Service Parameters">
          <t>The Subscriber's service parameters are information about his/her
          broadband contract, line rate and so on. Such information is likely
          to be needed to help analyse the Measurement Results, for example to
          help decide whether the measured download speed is reasonable.</t>

          <t>The information could be transferred directly from the Subscriber
          parameter database to the data analysis tools. If the Subscriber's
          service parameters are available to the MAs, they could be reported
          with the Measurement Results in the Report Protocol. How (and if)
          the MA knows such information is likely to depend on the device
          type. The MA could either include the information in a Measurement
          Report or separately.</t>
        </section>
      </section>

      <section anchor="packet-trans"
               title="Operation of LMAP over the Underlying Packet Transfer Mechanism">
        <t>The above sections have described LMAP's protocol model. Other
        specifications will define the actual Control and Report Protocols,
        possibly operating over an existing protocol, such as REST-style <xref
        target="REST"/> HTTP(S). It is also possible that a different choice
        is made for the Control and Report Protocols, for example NETCONF-YANG
        <xref target="RFC6241"/> and IPFIX (Internet Protocol Flow Information
        Export) <xref target="RFC7011"/>, respectively.</t>

        <t>From an LMAP perspective, the Controller needs to know that the MA
        has received the Instruction Message, or at least that it needs to be
        re-sent as it may have failed to be delivered. Similarly the MA needs
        to know about the delivery of Capabilities, Failure, and Logging
        Information to the Controller and Reports to the Collector. How this
        is done depends on the design of the Control and Report Protocols and
        the underlying packet transfer mechanism.</t>

        <t>For the Control Protocol, the underlying packet transfer mechanism
        could be:</t>

        <t><list style="symbols">
            <t>a 'push' protocol (that is, from the Controller to the MA).</t>

            <t>a multicast protocol (from the Controller to a group of
            MAs).</t>

            <t>a 'pull' protocol. The MA periodically checks with Controller
            if the Instruction has changed and pulls a new Instruction if
            necessary. A pull protocol seems attractive for an MA behind a NAT
            or firewall (as is typical for an MA on an end-user's device) so
            that it can initiate the communications. It also seems attractive
            for an MA on a mobile device, where the Controller might not know
            how to reach the MA. A pull mechanism is likely to require that
            the MA be configured with how frequently it should check in with
            the Controller, and perhaps what it should do if the Controller is
            unreachable after a certain number of attempts.</t>

            <t>a hybrid protocol. In addition to a pull protocol, the
            Controller can also push an alert to the MA that it should
            immediately pull a new Instruction.</t>
          </list>For the Report Protocol, the underlying packet transfer
        mechanism could be:</t>

        <t>
          <list style="symbols">
            <t>a 'push' protocol (that is, from the MA to the Collector)</t>

            <t>perhaps supplemented by the ability for the Collector to 'pull'
            Measurement Results from an MA.</t>
          </list>
        </t>
      </section>

      <section title="Items beyond the Scope of the Initial LMAP Work">
        <t>There are several potential interactions between LMAP elements that
        are beyond the scope of the initial LMAP work, which are as
        follows:</t>

        <t>
          <list style="numbers">
            <t>It does not define a coordination process between MAs. Whilst a
            Measurement System may define coordinated Measurement Schedules
            across its various MAs, there is no direct coordination between
            MAs.</t>

            <t>It does not define interactions between the Collector and
            Controller. It is quite likely that there will be such
            interactions, optionally intermediated by the data analysis tools.
            For example, if there is an "interesting" Measurement Result, then
            the Measurement System may want to trigger extra Measurement Tasks
            that explore the potential cause in more detail; or if the
            Collector unexpectedly does not hear from an MA, then the
            Measurement System may want to trigger the Controller to send a
            fresh Instruction Message to the MA.</t>

            <t>It does not define coordination between different Measurement
            Systems. For example, it does not define the interaction of an MA
            in one Measurement System with a Controller or Collector in a
            different Measurement System. Whilst it is likely that the Control
            and Report Protocols could be re-used or adapted for this
            scenario, any form of coordination between different organisations
            involves difficult commercial and technical issues and so, given
            the novelty of large-scale measurement efforts, any form of
            inter-organisation coordination is outside the scope of the
            initial LMAP work. Note that a single MA is instructed by a single
            Controller and is only in one Measurement System.<list
                style="symbols">
                <t>An interesting scenario is where a home contains two
                independent MAs, for example one controlled by a regulator and
                one controlled by an ISP. Then the Measurement Traffic of one
                MA is treated by the other MA just like any other end-user
                traffic.</t>
              </list></t>

            <t>It does not consider how to prevent a malicious party "gaming
            the system". For example, where a regulator is running a
            Measurement System in order to benchmark operators, a malicious
            operator could try to identify the broadband lines that the
            regulator was measuring and prioritise that traffic. It is assumed
            that this is a policy issue and would be dealt with through a code
            of conduct for instance.</t>

            <t>It does not define how to analyse Measurement Results,
            including how to interpret missing Results.</t>

            <t>It does not specifically define a end-user-controlled
            Measurement System, see <xref target="end-user"/>.</t>
          </list>
        </t>

        <section anchor="end-user"
                 title="End-User-Controlled Measurement System">
          <t>This framework concentrates on the cases where an ISP or a
          regulator runs the Measurement System. However, we expect that LMAP
          functionality will also be used in the context of an
          end-user-controlled Measurement System. There are at least two ways
          this could happen (they have various pros and cons):</t>

          <t>
            <list style="numbers">
              <t>an end-user could somehow request the ISP-run (or
              regulator-run) Measurement System to test his/her line. The ISP
              (or regulator) Controller would then send an Instruction to the
              MA in the usual LMAP way.</t>

              <t>an end-user could deploy their own Measurement System, with
              their own MA, Controller, and Collector. For example, the user
              could implement all three functions onto the same end-user-owned
              end device, perhaps by downloading the functions from the ISP or
              regulator. Then the LMAP Control and Report Protocols do not
              need to be used, but using LMAP's Information Model would still
              be beneficial. A Measurement Peer (or other MA involved in a
              Measurement Task) could be in the home gateway or outside the
              home network; in the latter case, the Measurement Peer is highly
              likely to be run by a different organisation, which raises extra
              privacy considerations.</t>
            </list>
          </t>

          <t>In both cases, there will be some way for the end-user to
          initiate the Measurement Task(s). The mechanism is outside the scope
          of the initial LMAP work, but could include the user clicking a
          button on a GUI or sending a text message. Presumably the user will
          also be able to see the Measurement Results, perhaps summarised on a
          webpage. It is suggested that these interfaces conform to the LMAP
          guidance on privacy in <xref target="priv"/>.</t>

          <t/>
        </section>
      </section>
    </section>

    <section title="Deployment Considerations">
      <section anchor="controller"
               title="Controller and the Measurement System">
        <t>The Controller should understand both the MA's LMAP Capabilities
        (for example, what Metrics and Measurement Methods it can perform) and
        the MA's other capabilities like processing power and memory. This
        allows the Controller to ensure that the Measurement Schedule of
        Measurement Tasks and the Reporting Schedule are sensible for each MA
        that it instructs.</t>

        <t>An Instruction is likely to include several Measurement Tasks.
        Typically these run at different times, but it is also possible for
        them to run at the same time. Some Tasks may be compatible in that
        they do not affect each other's Results, whilst with others great care
        would need to be taken. Some Tasks may be complementary. For example,
        one Task may be followed by a traceroute Task to the same destination
        address, in order to learn the network path that was measured.</t>

        <t>The Controller should ensure that the Measurement Tasks do not have
        an adverse effect on the end user. Tasks, especially those that
        generate a substantial amount of Measurement Traffic, will often
        include a pre&nbhy;check that the user isn't already sending traffic (<xref
        target="start-stop"/>). Another consideration is whether Measurement
        Traffic will impact a Subscriber's bill or traffic cap.</t>

        <t>A Measurement System may have multiple Controllers (but note the
        overriding principle that a single MA be instructed by a single
        Controller at any point in time (<xref target="single-contoller"/>)).
        For example, there could be different Controllers for different types
        of MA (for example, home gateways, tablets) or locations (for example,
        Ipswich, Edinburgh, Paris), for load balancing or to cope with failure
        of one Controller.</t>

        <t>The measurement system also needs to consider carefully how to
        interpret missing Results. The correct interpretation depends on why
        the Results are missing (perhaps related to measurement Suppression or
        delayed Report submission) and potentially on the specifics of the
        Measurement Task and Measurement Schedule. For example, an Observed
        Traffic Flow may be empty, but the Measurement Report may still be
        sent according to the Report Schedule.</t>
      </section>

      <section title="Measurement Agent">
        <t>The MA should be cautious about resuming Measurement Tasks if it
        reboots or has been offline for some time, as its Instruction may be
        stale. In the former case, it also needs to ensure that its clock has
        reset correctly, so that it interprets the Schedule correctly.</t>

        <t>If the MA runs out of storage space for Measurement Results or
        can't contact the Controller, then the appropriate action is specific
        to the device and Measurement System.</t>

        <t>The Measurement Agent could take a number of forms. For example, an
        MA could be a dedicated probe or software on a PC; it could also be
        embedded into an appliance or even embedded into a gateway. A single
        site (for example, home, branch office, etc.) that is participating in
        a measurement could make use of one or multiple Measurement Agents or
        Measurement Peers in a single measurement.</t>

        <t>The Measurement Agent could be deployed in a variety of locations.
        Not all deployment locations are available to every kind of
        Measurement Agent. There are also a variety of limitations and
        trade-offs depending on the final placement. The next sections outline
        some of the locations a Measurement Agent may be deployed. This is not
        an exhaustive list and combinations may also apply.</t>

        <t/>

        <section title="Measurement Agent on a Networked Device">
          <t>An MA may be embedded on a device that is directly connected to
          the network, such as an MA on a smartphone. Other examples include
          an MA downloaded and installed on a subscriber's laptop computer or
          tablet when the network service is provided on wired or other
          wireless radio technologies, such as Wi-Fi.</t>
        </section>

        <section title="Measurement Agent Embedded in a Site Gateway">
          <t>One of the better places the Measurement Agent could be deployed
          is embedded within the site gateway (for example, a home router or
          the edge router of a branch office in a managed service
          environment). All site-to-ISP traffic would traverse through the
          gateway. So, Measurement Methods that measure user traffic could
          easily be performed. Similarly, due to this user traffic visibility,
          a Measurement Method that generates Measurement Traffic could ensure
          it does not compete with user traffic. Generally NAT and firewall
          services are built into the gateway, allowing the Measurement Agent
          the option to offer its Controller-facing management interface
          outside of the NAT/firewall. This placement of the management
          interface allows the Controller to unilaterally contact the
          Measurement Agent with Instructions. However, a Measurement Agent on
          a site gateway (whether end-user or service-provider owned) will
          generally not be directly available for over-the-top providers, the
          regulator, end users, or enterprises.</t>

          <t/>
        </section>

        <section title="Measurement Agent Embedded behind a Site NAT or Firewall">
          <t>The Measurement Agent could also be embedded behind a NAT, a
          firewall, or both. In this case, the Controller may not be able to
          unilaterally contact the Measurement Agent unless either static port
          forwarding or firewall pin holing is configured. Configuring port
          forwarding could use protocols such as the Port Control Protocol
          <xref target="RFC6887"/>, the CPE WAN Management Protocol <xref
          target="TR-069"/>, or Universal Plug and Play <xref target="UPnP"/>.
          To open a pin hole in the firewall, the Measurement Agent could send
          keepalives towards the Controller (and perhaps use these also as a
          network reachability test).</t>
        </section>

        <section title="Multihomed Measurement Agent">
          <t>If the device with the Measurement Agent is single homed, then
          there is no confusion about what interface to measure. Similarly, if
          the MA is at the gateway and the gateway only has a single WAN-side
          and a single LAN-side interface, there is little confusion -- for
          Measurement Methods that generate Measurement Traffic, the location
          of the other MA or Measurement Peer determines whether the WAN or
          LAN is measured.</t>

          <t>However, the device with the Measurement Agent may be multihomed.
          For example, a home or campus may be connected to multiple broadband
          ISPs, such as a wired and wireless broadband provider, perhaps for
          redundancy or load sharing. It may also be helpful to think of dual
          stack IPv4 and IPv6 broadband devices as multihomed. More generally,
          Section 3.2 of <xref target="RFC7368"/> describes dual-stack and
          multihoming topologies that might be encountered in a home network,
          <xref target="RFC6419"/> provides the current practices of
          multi-interfaces hosts, and the Multiple Interfaces (mif) working
          group covers cases where hosts are either directly attached (for
          example, physical or virtual) or indirectly (for example, multiple
          default routers, etc.) to multiple networks. In these cases, there
          needs to be clarity on which network connectivity option is being
          measured.</t>

          <t>One possibility is to have a Measurement Agent per interface.
          Then the Controller's choice of MA determines which interface is
          measured. However, if an MA can measure any of the interfaces, then
          the Controller defines in the Instruction which interface the MA
          should use for a Measurement Task. If the choice of interface is not
          defined, then the MA uses the default one. Explicit definition is
          preferred if the Measurement System wants to measure the performance
          of a particular network, whereas using the default is better if the
          Measurement System wants to include the impact of the MA's interface
          selection algorithm. In any case, the Measurement Result should
          include the network that was measured.</t>

          <t/>
        </section>

        <section title="Measurement Agent Embedded in an ISP Network">
          <t>An MA may be embedded on a device that is part of an ISP's
          network, such as a router or switch. Usually the network devices
          with an embedded MA will be strategically located, such as a
          Carrier-Grade NAT or ISP Gateway. <xref target="RFC7398"/> gives
          many examples where an MA might be located within a network to
          provide an intermediate measurement point on the end-to-end path.
          Other examples include a network device whose primary role is to
          host MA functions and the necessary measurement protocol.</t>
        </section>
      </section>

      <section title="Measurement Peer">
        <t>A Measurement Peer participates in some Measurement Methods. It may
        have specific functionality to enable it to participate in a
        particular Measurement Method. On the other hand, other Measurement
        Methods may require no special functionality. For example, if the
        Measurement Agent sends a ping to example.com, then the server at
        example.com plays the role of a Measurement Peer; or if the MA
        monitors existing traffic, then the existing end points are
        Measurement Peers.</t>

        <t>A device may participate in some Measurement Methods as a
        Measurement Agent and in others as a Measurement Peer.</t>

        <t>Measurement Schedules should account for limited resources in a
        Measurement Peer when instructing an MA to execute measurements with a
        Measurement Peer. In some measurement protocols, such as <xref
        target="RFC4656"/> and <xref target="RFC5357"/>, the Measurement Peer
        can reject a measurement session or refuse a control connection prior
        to setting up a measurement session and so protect itself from
        resource exhaustion. This is a valuable capability because the MP may
        be used by more than one organisation.</t>
      </section>

      <section anchor="DE" title="Deployment Examples">
        <t>In this section, we describe some deployment scenarios that are
        feasible within the LMAP framework defined in this document.</t>

        <t>A very simple example of a Measurement Peer (MP) is a web server
        from which the MA downloads a web page (such as www.example.com) in
        order to perform a speed test. The web server is an MP and from its
        perspective the MA is just another client; the MP doesn't have a
        specific function for assisting measurements. This is described in
        <xref target="deployment-examples"/>.<figure
            anchor="deployment-examples"
            title="LMAP deployment example, with Web server as Measurement Peer">
            <artwork><![CDATA[                                                           ^
   +------------------+  web traffic +----------------+ non-LMAP
   |     web client   |<------------>|   web server   |  Scope
   |                  |              +----------------+    |
...|..................|....................................V...  
   |MA:LMAP interface |                     <MP>           ^
   +------------------+                                    |
            ^     |                                        |
Instruction |     |  Report                                |
            |     +-----------------+                      |
            |                       |                      |
            |                       v                     LMAP
      +------------+         +------------+               Scope
      | Controller |         |  Collector |                |
      +------------+         +------------+                V

MA: Measurement Agent
MP: Measurement Peer
]]></artwork>
          </figure></t>

        <t>Another example of an MP is a TWAMP Server and TWAMP
        Session&nbhy;Reflector. This form of MP is deployed to assist the MAs that
        perform TWAMP tests, where the MA is co-located with the TWAMP
        Control-Client and Session-Sender. Another example, which was
        described in <xref target="outline"/>, has a ping server as the
        Measurement Peer.</t>

        <t>A further example is the case of a traceroute-like measurement. In
        this case, for each packet sent, the router where the TTL expires is
        performing the MP function. So for a given Measurement Task, there is
        one MA involved and several MPs, one per hop.</t>

        <t>In <xref target="owamp-mp"/>, we depict the case of an OWAMP
        (One-Way Active Measurement Protocol) Server and Session-Receiver
        acting as an MP. In this case, the OWAMP Server conveys results back
        to the OWAMP Fetch-Client, thus the MP conducts both control-plane and
        data-plane communications with its OWAMP counterparts co-located with
        the MA.</t>

        <t/>

        <figure anchor="owamp-mp"
                title="LMAP deployment example, with OWAMP server as Measurement Peer">
          <artwork><![CDATA[   
   +------------------+    OWAMP     +-----------------+    ^
   | OWAMP            |<--control--->|                 |    |
   | control-client   |-test-traffic>| OWAMP server &  | non-LMAP
   | fetch-client &   |<----fetch----| session-receiver|  Scope
   | session-sender   |              |                 |    |
   |                  |              +-----------------+    |
...|..................|.....................................v...  
   |MA:LMAP interface |                    <MP>             ^
   +------------------+                                     |
            ^     |                                         |
Instruction |     |  Report                                 |
            |     +-----------------+                       |
            |                       |                       |
            |                       v                     LMAP
      +------------+         +------------+               Scope
      | Controller |         |  Collector |                 |
      +------------+         +------------+                 v

MA: Measurement Agent
MP: Measurement Peer
]]></artwork>
        </figure>

        <t/>

        <t>However, it is also possible to use two Measurement Agents when
        performing one-way Measurement Tasks, as described in <xref
        target="MAs-udp"/>. Both MAs are instructed by the Controller: MA-1 to
        send the traffic and MA-2 to measure the received traffic and send
        Reports to the Collector. Note that the Measurement Task at MA-2 can
        listen for traffic from MA-1 and respond multiple times without having
        to be rescheduled.</t>

        <figure anchor="MAs-udp"
                title="Schematic of LMAP-based Measurement    System, with two Measurement Agents cooperating to measure UDP traffic">
          <artwork><![CDATA[   
   +----------------+              +-------------------+    ^
   |                |              |                   | non-LMAP
   | iperf -u sender|-UDP traffic->| iperf -u receiver |  Scope
   |                |              |                   |    v
...|................|..............|...................|........  
   |  MA-1:         |              |  MA-2:            |    ^
   | LMAP interface |              | LMAP interface    |    |
   +----------------+              +-------------------+    |
            ^                        ^   |                  |
Instruction |    Instruction{Report} |   | Report           |
{Task,      |    +-------------------+   |                  |
 Schedule}  |    |                       |                  |
            |    |                       v                 LMAP
       +------------+             +------------+          Scope
       | Controller |             |  Collector |            |
       +------------+             +------------+            v

MA: Measurement Agent
]]></artwork>
        </figure>

        <t/>

        <t>Next, we consider Measurement Methods that meter the Observed
        Traffic Flow. Traffic generated in one point in the network is flowing
        towards a given destination and the traffic is observed in some point
        along the path. One way to implement this is that the endpoints
        generating and receiving the traffic are not instructed by the
        Controller; hence they are MPs. The MA is located along the path with
        a monitor function that measures the traffic. The MA is instructed by
        the Controller to monitor that particular traffic and to send the
        Report to the Collector. It is depicted in <xref
        target="MAmonitoring"/>.</t>

        <t/>

        <figure anchor="MAmonitoring"
                title="LMAP deployment example, with a Measurement Agent monitoring traffic">
          <artwork><![CDATA[+--------+   +------------------+            +--------+      ^   
|End user|   |      monitor     | Observed   |End user|      |
|        |<--|------------------|--Traffic-->|        |  non-LMAP
|        |   |                  |   Flow     |        |    Scope
+--------+   |                  |            +--------+      |
 ............|..................|............................v..  
   <MP>      |MA:LMAP interface |               <MP>         ^
             +------------------+                            |
                     ^     |                                 |
         Instruction |     |  Report                         |
                     |     +-----------------+               |
                     |                       |               |
                     |                       v              LMAP
               +------------+         +------------+        Scope
               | Controller |         |  Collector |         |
               +------------+         +------------+         v

MA: Measurement Agent
MP: Measurement Peer
]]></artwork>
        </figure>

        <t/>

        <t/>
      </section>
    </section>

    <section anchor="sec" title="Security Considerations">
      <t/>

      <t>The security of the LMAP framework should protect the interests of
      the measurement operator(s), the network user(s), and other actors who
      could be impacted by a compromised measurement deployment. The
      Measurement System must secure the various components of the system from
      unauthorised access or corruption. Much of the general advice contained
      in Section 6 of <xref target="RFC4656"/> is applicable here.</t>

      <t>The process to upgrade the firmware in an MA is outside the scope of
      the initial LMAP work, just as is the protocol to Bootstrap the MAs.
      However, systems that provide remote upgrades must secure authorised
      access and integrity of the process.</t>

      <t>We assume that each Measurement Agent (MA) will receive its
      Instructions from a single organisation, which operates the Controller.
      These Instructions must be authenticated (to ensure that they come from
      the trusted Controller), checked for integrity (to ensure no one has
      tampered with them), and not vulnerable to replay attacks. If a
      malicious party can gain control of the MA, they can use it to launch
      denial-of-service (DoS) attacks at targets, create a platform for
      pervasive monitoring <xref target="RFC7258"/>, reduce the end-user's
      quality of experience, and corrupt the Measurement Results that are
      reported to the Collector. By altering the Measurement Tasks and/or the
      address that Results are reported to, they can also compromise the
      confidentiality of the network user and the MA environment (such as
      information about the location of devices or their traffic). The
      Instruction Messages also need to be encrypted to maintain
      confidentiality, as the information might be useful to an attacker.</t>

      <t>Reporting by the MA must be encrypted to maintain confidentiality, so
      that only the authorised Collector can decrypt the results to prevent
      the leakage of confidential or private information. Reporting must also
      be authenticated (to ensure that it comes from a trusted MA and that the
      MA reports to a genuine Collector) and not vulnerable to tampering
      (which can be ensured through integrity and replay checks). It must not
      be possible to fool an MA into injecting falsified data and the results
      must also be held and processed securely after collection and analysis.
      See <xref target="stored-data"/> for additional considerations on stored
      data compromise, and <xref target="mitigation"/> on potential
      mitigations for compromise.</t>

      <t>Since Collectors will be contacted repeatedly by MAs using the Report
      Protocol to convey their recent results, a successful attack to exhaust
      the communication resources would prevent a critical operation:
      reporting. Therefore, all LMAP Collectors should implement technical
      mechanisms to:</t>

      <t>
        <list style="symbols">
          <t>limit the number of reporting connections from a single MA
          (simultaneous and established in some time period).</t>

          <t>limit the transmission rate from a single MA.</t>

          <t>limit the memory/storage consumed by a single MA's reports.</t>

          <t>efficiently reject reporting connections from unknown
          sources.</t>

          <t>separate resources if multiple authentication strengths are used,
          where the resources should be separated according to each class of
          strength.</t>
        </list>
      </t>

      <t>A corrupted MA could report falsified information to the Collector.
      Whether this can be effectively mitigated depends on the platform on
      which the MA is deployed. However, where the MA is deployed on a
      customer-controlled device, then the reported data is to some degree
      inherently untrustworthy. Further, a sophisticated party could distort
      some Measurement Methods, perhaps by dropping or delaying packets for
      example. This suggests that the network operator should be cautious
      about relying on Measurement Results for action such as refunding fees
      if a service level agreement is not met.</t>

      <t>As part of the protocol design, it will be decided how LMAP operates
      over the underlying protocol (<xref target="packet-trans"/>). The choice
      raises various security issues, such as how to operate through a NAT and
      how to protect the Controller and Collector from DoS attacks.</t>

      <t>The security mechanisms described above may not be strictly necessary
      if the network's design ensures the LMAP components and their
      communications are already secured, for example potentially if they are
      all part of an ISP's dedicated management network.</t>

      <t>Finally, there are three other issues related to security: privacy
      (considered in <xref target="priv"/>), availability, and "gaming the
      system". While the loss of some MAs may not be considered critical, the
      unavailability of the Collector could mean that valuable business data
      or data critical to a regulatory process is lost. Similarly, the
      unavailability of a Controller could mean that the MAs do not operate a
      correct Measurement Schedule.</t>

      <t>A malicious party could "game the system". For example, where a
      regulator is running a Measurement System in order to benchmark
      operators, an operator could try to identify the broadband lines that
      the regulator was measuring and prioritise that traffic. Normally, this
      potential issue is handled by a code of conduct. It is outside the scope
      of the initial LMAP work to consider the issue.</t>

      <t/>
    </section>

    <section anchor="priv" title="Privacy Considerations">
      <t>The LMAP work considers privacy a core requirement and will ensure
      that by default the Control and Report Protocols operate in a
      privacy-sensitive manner and that privacy features are well defined.</t>

      <t>This section provides a set of privacy considerations for LMAP. This
      section benefits greatly from the publication of <xref
      target="RFC6973"/>. Privacy and security (<xref target="sec"/>) are
      related. In some jurisdictions, privacy is called data protection.</t>

      <t>We begin with a set of assumptions related to protecting the
      sensitive information of individuals and organisations participating in
      LMAP-orchestrated measurement and data collection.</t>

      <section anchor="pc1"
               title="Categories of Entities with Information of Interest">
        <t>LMAP protocols need to protect the sensitive information of the
        following entities, including individuals and organisations who
        participate in measurement and collection of results.<list
            style="symbols">
            <t>Individual Internet users: Persons who utilise Internet access
            services for communications tasks, according to the terms of
            service of a service agreement. Such persons may be a service
            Subscriber, or have been given permission by the Subscriber to use
            the service.</t>

            <t>Internet service providers: Organisations that offer Internet
            access service subscriptions, and thus have access to sensitive
            information of individuals who choose to use the service. These
            organisations desire to protect their Subscribers and their own
            sensitive information, which may be stored in the process of
            performing Measurement Tasks and collecting Results.</t>

            <t>Regulators: Public authorities responsible for exercising
            supervision of the electronic communications sector, and which may
            have access to sensitive information of individuals who
            participate in a measurement campaign. Similarly, regulators
            desire to protect the participants and their own sensitive
            information.</t>

            <t>Other LMAP system operators: Organisations who operate
            Measurement Systems or participate in measurements in some
            way.</t>
          </list></t>

        <t>Although privacy is a protection extended to individuals, we
        discuss data protection by ISPs and other LMAP system operators in
        this section. These organisations have sensitive information involved
        in the LMAP system, and many of the same dangers and mitigations are
        applicable. Further, the ISPs store information on their Subscribers
        beyond that used in the LMAP system (for example, billing
        information), and there should be a benefit in considering all the
        needs and potential solutions coherently.</t>
      </section>

      <section title="Examples of Sensitive Information">
        <t>This section gives examples of sensitive information that may be
        measured or stored in a Measurement System, and that is to be kept
        private by default in the LMAP core protocols.</t>

        <t>Examples of Subscriber or authorised Internet user sensitive
        information:</t>

        <t>
          <list style="symbols">
            <t>Sub-IP-layer addresses and names (MAC address, base station ID,
            SSID)</t>

            <t>IP address in use</t>

            <t>Personal Identification (real name)</t>

            <t>Location (street address, city)</t>

            <t>Subscribed service parameters</t>

            <t>Contents of traffic (activity, DNS queries, destinations,
            equipment types, account info for other services, etc.)</t>

            <t>Status as a study volunteer and Schedule of Measurement
            Tasks</t>
          </list>
        </t>

        <t>Examples of Internet Service Provider sensitive information:<list
            style="symbols">
            <t>Measurement device identification (equipment ID and IP
            address)</t>

            <t>Measurement Instructions (choice of measurements)</t>

            <t>Measurement Results (some may be shared, others may be
            private)</t>

            <t>Measurement Schedule (exact times)</t>

            <t>Network topology (locations, connectivity, redundancy)</t>

            <t>Subscriber billing information, and any of the above Subscriber
            information known to the provider.</t>

            <t>Authentication credentials (such as certificates)</t>
          </list></t>

        <t>Other organisations will have some combination of the lists above.
        The LMAP system would not typically expose all of the information
        above, but could expose a combination of items that could be
        correlated with other pieces collected by an attacker (as discussed in
        <xref target="threats"/> on Threats).</t>
      </section>

      <section title="Different Privacy Issues Raised by Different Sorts of Measurement Methods">
        <t>Measurement Methods raise different privacy issues depending on
        whether they measure traffic created specifically for that purpose or
        whether they measure user traffic.</t>

        <t>Measurement Tasks conducted on user traffic store sensitive
        information, however briefly this storage may be. We note that some
        authorities make a distinction on time of storage, and information
        that is kept only temporarily to perform a communications function is
        not subject to regulation (for example, active queue management, deep
        packet inspection). Such Measurement Tasks could reveal all the
        websites a Subscriber visits and the applications and/or services they
        use. This issue is not specific to LMAP. For instance, IPFIX has
        discussed similar issues (see Section 11.8 of <xref
        target="RFC7011"/>), but mitigations described in the sections below
        were considered beyond their scope.</t>

        <t>In contrast to Measurement Tasks conducted on user traffic, other
        Measurement Tasks use traffic which is created specifically for the
        purpose of measurement. Even if a user host generates Measurement
        Traffic, there is limited sensitive information about the Subscriber
        present and stored in the Measurement System:<list style="symbols">
            <t>IP address in use (and possibly sub-IP addresses and names)</t>

            <t>Status as a study volunteer and Schedule of Measurement
            Tasks</t>
          </list></t>

        <t>On the other hand, for a service provider, the sensitive
        information like Measurement Results is the same for all Measurement
        Tasks.</t>

        <t>From the Subscriber perspective, both types of Measurement Tasks
        potentially expose the description of Internet access service and
        specific service parameters, such as the Subscriber rate and type of
        access.</t>
      </section>

      <section title="Privacy Analysis of the Communication Models">
        <t>This section examines each of the protocol exchanges described at a
        high level in <xref target="pm"/> and some example Measurement Tasks,
        and it identifies specific sensitive information that must be secured
        during communication for each case. With the protocol-related
        sensitive information identified, we can better consider the threats
        described in the following section.</t>

        <t>From the privacy perspective, all entities participating in LMAP
        protocols can be considered "observers" according to the definition in
        <xref target="RFC6973"/>. Their stored information potentially poses a
        threat to privacy, especially if one or more of these functional
        entities has been compromised. Likewise, all devices on the paths used
        for control, reporting, and measurement are also observers.</t>

        <t/>

        <section title="MA Bootstrapping">
          <t><xref target="bootstrap"/> provides the communication model for
          the Bootstrapping process.</t>

          <t>Although the specification of mechanisms for Bootstrapping the MA
          are beyond the scope of the initial LMAP work, designers should
          recognise that the Bootstrapping process is extremely powerful and
          could cause an MA to join a new or different LMAP system with a
          different Controller and Collector, or simply install new Metrics
          with associated Measurement Methods (for example, to record DNS
          queries). A Bootstrap attack could result in a breach of the LMAP
          system with significant sensitive information exposure depending on
          the capabilities of the MA, so sufficient security protections are
          warranted.</t>

          <t>The Bootstrapping process provides sensitive information about
          the LMAP system and the organisation that operates it, such as <list
              style="symbols">
              <t>the MA's identifier (MA-ID)</t>

              <t>the address that identifies the Control Channel, such as the
              Controller's FQDN</t>

              <t>Security information for the Control Channel</t>
            </list></t>

          <t>During the Bootstrap process for an MA located at a single
          Subscriber's service demarcation point, the MA receives an MA-ID,
          which is a persistent pseudonym for the Subscriber. Thus, the MA-ID
          is considered sensitive information because it could provide the
          link between Subscriber identification and Measurements Results.</t>

          <t>Also, the Bootstrap process could assign a Group-ID to the MA.
          The specific definition of information represented in a Group-ID is
          to be determined, but several examples are envisaged including use
          as a pseudonym for a set of Subscribers, a class of service, an
          access technology, or other important categories. Assignment of a
          Group-ID enables anonymisation sets to be formed on the basis of
          service type/grade/rates. Thus, the mapping between Group-ID and
          MA-ID is considered sensitive information.</t>
        </section>

        <section title="Controller &lt;-&gt; Measurement Agent">
          <t>The high-level communication model for interactions between the
          LMAP Controller and Measurement Agent is illustrated in <xref
          target="CP"/>. The primary purpose of this exchange is to
          authenticate and task a Measurement Agent with Measurement
          Instructions, which the Measurement Agent then acts on
          autonomously.</t>

          <t>Primarily, IP addresses and pseudonyms (MA-ID, Group-ID) are
          exchanged with a capability request, then measurement-related
          information of interest such as the parameters, schedule, metrics,
          and IP addresses of measurement devices. Thus, the measurement
          Instruction contains sensitive information that must be secured. For
          example, the fact that an ISP is running additional measurements
          beyond the set reported externally is sensitive information, as are
          the additional Measurements Tasks themselves. The Measurement
          Schedule is also sensitive, because an attacker intending to bias
          the results without being detected can use this information to great
          advantage.</t>

          <t>An organisation operating the Controller having no service
          relationship with a user who hosts the Measurement Agent *could*
          gain real-name mapping to a public IP address through user
          participation in an LMAP system (this applies to the Measurement
          Collection protocol, as well).</t>
        </section>

        <section title="Collector &lt;-&gt; Measurement Agent">
          <t>The high-level communication model for interactions between the
          Measurement Agent and Collector is illustrated in <xref
          target="rp"/>. The primary purpose of this exchange is to
          authenticate and collect Measurement Results from an MA, which the
          MA has measured autonomously and stored.</t>

          <t>The Measurement Results are the additional sensitive information
          included in the Collector-MA exchange. Organisations collecting LMAP
          measurements have responsibility for data control. Thus, the Results
          and other information communicated in the Collector protocol must be
          secured.</t>
        </section>

        <section title="Measurement Peer &lt;-&gt; Measurement Agent ">
          <t>A Measurement Method involving Measurement Traffic raises
          potential privacy issues, although the specification of the
          mechanisms is beyond the scope of the initial LMAP work. The
          high-level communications model below illustrates the various
          exchanges to execute such a Measurement Method and store the
          Results.</t>

          <t>We note the potential for additional observers in the figures
          below by indicating the possible presence of a NAT, which has
          additional significance to the protocols and direction of
          initiation.</t>

          <t>The various messages are optional, depending on the nature of the
          Measurement Method. It may involve sending Measurement Traffic from
          the Measurement Peer to MA, MA to Measurement Peer, or both.
          Similarly, a second (or more) MAs may be involved. (Note: For
          simplicity, <xref target="MP-MA"/> and the description don't show
          the non-LMAP functionality that is associated with the transfer of
          the Measurement Traffic and is located at the devices with the MA
          and MP.)<figure anchor="MP-MA"
              title="Interactions between Measurement Peer and Measurement Agent">
              <artwork><![CDATA[ _________________                              _________________
|                 |                            |                 |
|Measurement Peer |=========== NAT ? ==========|Measurement Agent|
|_________________|                            |_________________|

                               <-              (Key Negotiation &
                                                Encryption Setup)
(Encrypted Channel             ->
Established)
(Announce capabilities         ->
& status)
                               <-             (Select capabilities)
ACK                            ->
                               <-              (Measurement Request
                                              (MA+MP IPAddrs,set of
                                                Metrics, Schedule))
ACK                            ->

Measurement Traffic            <>              Measurement Traffic
(may/may not be encrypted)               (may/may not be encrypted)

                               <-           (Stop Measurement Task)

Measurement Results            ->
(if applicable)
                               <-                       ACK, Close
]]></artwork>
            </figure>This exchange primarily exposes the IP addresses of
          measurement devices and the inference of measurement participation
          from such traffic. There may be sensitive information on key points
          in a service provider's network included. There may also be access
          to measurement-related information of interest such as the Metrics,
          Schedule, and intermediate results carried in the Measurement
          Traffic (usually a set of timestamps).</t>

          <t>The Measurement Peer may be able to use traffic analysis (perhaps
          combined with traffic injection) to obtain interesting insights
          about the Subscriber. As a simple example, if the Measurement Task
          includes a pre&nbhy;check that the end user isn't already sending
          traffic, the Measurement Peer may be able to deduce when the
          Subscriber is away on holiday.</t>

          <t>If the Measurement Traffic is unencrypted, as found in many
          systems today, then both timing and limited results are open to
          on-path observers.</t>
        </section>

        <section title="Measurement Agent ">
          <t>Some Measurement Methods only involve a single Measurement Agent
          observing existing traffic. They raise potential privacy issues,
          although the specification of the mechanisms is beyond the scope of
          the initial LMAP work.</t>

          <t>The high-level communications model shown in <xref target="MA"/>
          illustrates the collection of user information of interest with the
          Measurement Agent performing the monitoring and storage of the
          Results. This particular exchange is for measurement of DNS Response
          Time, which most frequently uses UDP transport. (Note: For
          simplicity, <xref target="MA"/> and its description do not show the
          non-LMAP functionality that is associated with the transfer (export)
          of the observed Measurement Traffic beyond the measurement devices
          located with the MA.)</t>

          <t>
            <figure anchor="MA"
                    title="LMAP deployment example, with Measurement Agent monitoring DNS response time">
              <artwork><![CDATA[ _________________                                      ____________
|                 |                                    |            |
|  DNS Server     |=========== NAT ? ==========*=======| User client|
|_________________|                            ^       |____________|
                                         ______|_______
                                        |              |
                                        |  Measurement |
                                        |    Agent     |
                                        |______________|

                               <-              Name Resolution Required
                                              (MA+MP IPAddrs, 
                                               Desired Domain Name)
Return Record                  ->

MA: Measurement Agent
MP: Measurement Peer
]]></artwork>
            </figure>
          </t>

          <t>In this particular example, the MA monitors DNS messages in order
          to measure the DNS response time. The Measurement Agent may be
          embedded in the user host, or it may be located in another device
          capable of observing user traffic. The MA learns the IP addresses of
          measurement devices and the intent to communicate with or access the
          services of a particular domain name, and perhaps also information
          on key points in a service provider's network, such as the address
          of one of its DNS servers.</t>

          <t>In principle, any of the user sensitive information of interest
          (listed above) can be collected and stored in the monitoring
          scenario and so must be secured.</t>

          <t>It would also be possible for a Measurement Agent to source the
          DNS query itself, and then there are not many privacy concerns.</t>

          <t/>
        </section>

        <section title="Storage and Reporting of Measurement Results">
          <t>Although the mechanisms for communicating results (beyond the
          initial Collector) are beyond the scope of the initial LMAP work,
          there are potential privacy issues related to a single
          organisation's storage and reporting of Measurement Results. Both
          storage and reporting functions can help to preserve privacy by
          implementing the mitigations described below.</t>
        </section>
      </section>

      <section anchor="threats" title="Threats">
        <t>This section indicates how each of the threats described in <xref
        target="RFC6973"/> apply to the LMAP entities and their communication
        and storage of "information of interest". DoS and other attacks
        described in the Security section represent threats as well, and these
        attacks are more effective when sensitive information protections have
        been compromised.</t>

        <section title="Surveillance">
          <t>Section 5.1.1 of <xref target="RFC6973"/> describes surveillance
          as the "observation or monitoring of an individual's communications
          or activities." Hence, all Measurement Methods that measure user
          traffic are a form of surveillance, with inherent risks.</t>

          <t>Measurement Methods that avoid periods of user transmission
          indirectly produce a record of times when a subscriber or authorised
          user has used their network access service.</t>

          <t>Measurement Methods may also utilise and store a Subscriber's
          currently assigned IP address when conducting measurements that are
          relevant to a specific Subscriber. Since the Measurement Results are
          timestamped, they could provide a record of IP address assignments
          over time.</t>

          <t>Either of the above pieces of information could be useful in
          correlation and identification, as described below.</t>
        </section>

        <section anchor="stored-data" title="Stored Data Compromise">
          <t>Section 5.1.2 of <xref target="RFC6973"/> describes Stored Data
          Compromise as resulting from inadequate measures to secure stored
          data from unauthorised or inappropriate access. For LMAP systems,
          this includes deleting or modifying collected measurement records,
          as well as data theft.</t>

          <t>The primary LMAP entity subject to compromise is the repository,
          which stores the Measurement Results; extensive security and privacy
          threat mitigations are warranted. The Collector and MA also store
          sensitive information temporarily and need protection. The
          communications between the local storage of the Collector and the
          repository is beyond the scope of the initial LMAP work, though this
          communications channel will certainly need protection as will the
          mass storage itself.</t>

          <t>The LMAP Controller may have direct access to storage of
          Subscriber information (for example, location, billing, service
          parameters, etc.) and other information that the controlling
          organisation considers private and again needs protection.</t>

          <t>Note that there is tension between the desire to store all raw
          results in the LMAP Collector (for reproduction and custom analysis)
          and the need to protect the privacy of measurement participants.
          Many of the mitigations described in <xref target="mitigation"/> are
          most efficient when deployed at the MA, therefore minimising the
          risks associated with stored results.</t>
        </section>

        <section title="Correlation and Identification">
          <t>Sections 5.2.1 and 5.2.2 of <xref target="RFC6973"/> describe
          correlation as combining various pieces of information to obtain
          desired characteristics of an individual, and identification as
          using this combination to infer identity.</t>

          <t>The main risk is that the LMAP system could unwittingly provide a
          key piece of the correlation chain, starting with an unknown
          Subscriber's IP address and another piece of information. For
          example, a Subscriber utilised Internet access from 2000 to 2310
          UTC, because the Measurement Tasks were deferred or sent a name
          resolution for www.example.com at 2300 UTC.</t>

          <t>If a user's access with another system already gave away
          sensitive information, correlation is clearly easier and can result
          in re&nbhy;identification, even when an LMAP system conserves sensitive
          information to great extent.</t>
        </section>

        <section title="Secondary Use and Disclosure">
          <t>Sections 5.2.3 and 5.2.4 of <xref target="RFC6973"/> describe
          secondary use as unauthorised utilisation of an individual's
          information for a purpose the individual did not intend, and
          disclosure as when such information is revealed causing another's
          notions of the individual to change or confidentiality to be
          violated.</t>

          <t>Measurement Methods that measure user traffic are a form of
          secondary use, and the Subscribers' permission should be obtained
          beforehand. It may be necessary to obtain the measured ISP's
          permission to conduct measurements (for example, when required by
          the terms and conditions of the service agreement) and notification
          is considered good measurement practice.</t>

          <t>For Measurement Methods that measure Measurement Traffic the
          Measurement Results provide some limited information about the
          Subscriber or ISP and could result in secondary uses. For example,
          the use of the Results in unauthorised marketing campaigns would
          qualify as secondary use. Secondary use may break national laws and
          regulations, and may violate an individual's expectations or
          desires.</t>
        </section>
      </section>

      <section anchor="mitigation" title="Mitigations">
        <t>This section examines the mitigations listed in Section 6 of <xref
        target="RFC6973"/> and their applicability to LMAP systems. Note that
        each section in <xref target="RFC6973"/> identifies the threat
        categories that each technique mitigates.</t>

        <section title="Data Minimisation">
          <t>Section 6.1 of <xref target="RFC6973"/> encourages collecting and
          storing the minimal information needed to perform a task.</t>

          <t>LMAP Results can be useful for general reporting about
          performance and for specific troubleshooting. They need different
          levels of information detail, as explained in the paragraphs
          below.</t>

          <t>For general reporting, the results can be aggregated into large
          categories (for example, the month of March, all US subscribers West
          of the Mississippi River). In this case, all individual
          identifications (including IP address of the MA) can be excluded,
          and only relevant results are provided. However, this implies a
          filtering process to reduce the information fields, because greater
          detail was needed to conduct the Measurement Tasks in the first
          place.</t>

          <t>For troubleshooting, so that a network operator or end user can
          identify a performance issue or failure, potentially all the network
          information (for example, IP addresses, equipment IDs, location),
          Measurement Schedules, service configurations, Measurement Results,
          and other information may assist in the process. This includes the
          information needed to conduct the Measurements Tasks, and represents
          a need where the maximum relevant information is desirable;
          therefore, the greatest protections should be applied. This level of
          detail is greater than needed for general performance
          monitoring.</t>

          <t>As regards Measurement Methods that measure user traffic, we note
          that a user may give temporary permission (to enable detailed
          troubleshooting), but withhold permission for them in general. Here
          the greatest breadth of sensitive information is potentially
          exposed, and the maximum privacy protection must be provided. The
          Collector may perform pre&nbhy;storage minimisation and other mitigations
          (<xref target="other-mitigations"/>) to help preserve privacy.</t>

          <t>For MAs with access to the sensitive information of users (for
          example, within a home or a personal host/handset), it is desirable
          for the Results collection to minimise the data reported, but also
          to balance this desire with the needs of troubleshooting when a
          service subscription exists between the user and organisation
          operating the measurements.</t>
        </section>

        <section anchor="anon" title="Anonymity">
          <t>Section 6.1.1 of <xref target="RFC6973"/> describes an "anonymity
          set" as a way in which anonymity is achieved: "there must exist a
          set of individuals that appear to have the same attribute(s) as the
          individual."</t>

          <t>Experimental methods for anonymisation of user-identifiable data
          (and so particularly applicable to Measurement Methods that measure
          user traffic) have been identified in <xref target="RFC6235"/>.
          However, the findings of several of the same authors is that "there
          is increasing evidence that anonymization applied to network trace
          or flow data on its own is insufficient for many data protection
          applications as in <xref target="Bur10"/>." Essentially, the details
          of such Measurement Methods can only be accessed by closed
          organisations, and unknown injection attacks are always less
          expensive than the protections from them. However, some forms of
          summary may protect the user's sensitive information sufficiently
          well, and so each Metric must be evaluated in the light of
          privacy.</t>

          <t>The techniques in <xref target="RFC6235"/> could be applied more
          successfully in Measurement Methods that generate Measurement
          Traffic, where there are protections from injection attack. The
          successful attack would require breaking the integrity protection of
          the LMAP Reporting Protocol and injecting Measurement Results (known
          fingerprint, see Section 3.2 of <xref target="RFC6973"/>) for
          inclusion with the shared and anonymised results, then
          fingerprinting those records to ascertain the anonymisation
          process.</t>

          <t>Beside anonymisation of measured Results for a specific user or
          provider, the value of sensitive information can be further diluted
          by summarising the Results over many individuals or areas served by
          the provider. There is an opportunity enabled by forming anonymity
          sets <xref target="RFC6973"/> based on the reference path
          measurement points in <xref target="RFC7398"/>. For example, all
          measurements from a Subscriber device can be identified as "mp000",
          instead of using the IP address or other device information. The
          same anonymisation applies to the Internet Service Provider, where
          their Internet gateway would be referred to as "mp190".</t>

          <t>Another anonymisation technique is for the MA to include its
          Group-ID instead of its MA-ID in its Measurement Reports, with
          several MAs sharing the same Group-ID.</t>
        </section>

        <section title="Pseudonymity">
          <t>Section 6.1.2 of <xref target="RFC6973"/> indicates that
          pseudonyms, or nicknames, are a possible mitigation to revealing
          one's true identity, since there is no requirement to use real names
          in almost all protocols.</t>

          <t>A pseudonym for a measurement device's IP address could be an
          LMAP&nbhy;unique equipment ID. However, this would likely be a permanent
          handle for the device, and long-term use weakens a pseudonym's power
          to obscure identity.</t>
        </section>

        <section anchor="other-mitigations" title="Other Mitigations">
          <t>Data can be depersonalised by blurring it, for example by adding
          synthetic data, data-swapping, or perturbing the values in ways that
          can be reversed or corrected.</t>

          <t>Sections 6.2 and 6.3 of <xref target="RFC6973"/> describe user
          participation and security, respectively.</t>

          <t>Where LMAP measurements involve devices on the subscriber's
          premises or Subscriber-owned equipment, it is essential to secure
          the Subscriber's permission with regard to the specific information
          that will be collected. The informed consent of the Subscriber (and,
          if different, the end user) may be needed, including the specific
          purpose of the measurements. The approval process could involve
          showing the Subscriber their measured information and results before
          instituting periodic collection, or before all instances of
          collection, with the option to cancel collection temporarily or
          permanently.</t>

          <t>It should also be clear who is legally responsible for data
          protection (privacy); in some jurisdictions, this role is called the
          'data controller'. It is always good practice to limit the time that
          personal information is stored.</t>

          <t>Although the details of verification would be impenetrable to
          most subscribers, the MA could be architected as an "app" with open
          source code, pre&nbhy;download and embedded terms of use and agreement on
          measurements, and protection from code modifications usually
          provided by the app stores. Further, the app itself could provide
          data reduction and temporary storage mitigations as appropriate and
          certified through code review.</t>

          <t>LMAP protocols, devices, and the information they store clearly
          need to be secure from unauthorised access. This is the hand-off
          between privacy and security considerations (<xref target="sec"/>).
          The data controller is responsible (legally) for maintaining data
          protections described in the Subscriber's agreement and agreements
          with other organisations.</t>

          <t>Finally, it is recommended that each entity described in <xref
          target="pc1"/>, (for example, individuals, ISPs, regulators, others)
          assess the risks of LMAP data collection by conducting audits of
          their data protection methods.</t>
        </section>
      </section>
    </section>
  </middle>

  <back>
    <references title="Informative References">
      <reference anchor="REST"
                 target="https://en.wikipedia.org/w/index.php?title=Representational_state_transfer&amp;oldid=673799183">
        <front>
          <title>Representational state transfer</title>

          <author>
            <organization>Wikipedia</organization>
          </author>

          <date month="July" year="2015"/>
        </front>
      </reference>

      <reference anchor="Bur10">
        <front>
          <title>The Role of Network Trace anonymisation Under Attack</title>

          <author initials="M" surname="Burkhart">
            <organization>Burkhart</organization>
          </author>

          <author initials="D" surname="Schatzmann">
            <organization/>
          </author>

          <author initials="B" surname="Trammell">
            <organization/>
          </author>

          <author initials="E" surname="Boschi">
            <organization>ACM Computer Communications Review, vol. 40, no. 1,
            pp. 6-11</organization>
          </author>

          <date month="January" year="2010"/>
        </front>
      </reference>

      <reference anchor="TR-069"
                 target="https://www.broadband&nbhy;forum.org/technical/download/TR&nbhy;069_Amendment-5.pdf">
        <front>
          <title>CPE WAN Management Protocol</title>

          <author>
            <organization>The Broadband Forum</organization>
          </author>

          <date month="November" year="2013"/>
        </front>

        <seriesInfo name="TR-069" value="Amendment 5"/>
      </reference>

      <reference anchor="UPnP"
                 target="http://www.iso.org/iso/home/store/catalogue_ics/catalogue_detail_ics.htm?csnumber=57195">
        <front>
          <title>UPnP Device Architecture 2.0</title>

          <author>
            <organization>UPnP Forum</organization>
          </author>

          <date month="February" year="2015"/>
        </front>
      </reference>

      <?rfc include='reference.RFC.1035'?>

      <?rfc include='reference.RFC.4101'?>

      <?rfc include='reference.RFC.4122'?>

      <?rfc include='reference.RFC.6241'?>

      <?rfc include='reference.RFC.7011'?>

      <?rfc include='reference.RFC.7368'?>

      <?rfc include='reference.RFC.7258'?>

      <?rfc ?>

      <!--     I-D.ietf-lmap-use-cases  RFC 7536-->

      <?rfc include='reference.RFC.7536'?>

      <!-- draft-ietf-ippm-metric-registry  I-D exists -->

      <reference anchor="IPPM-REG">
        <front>
          <title>Registry for Performance Metrics</title>

          <author fullname="Marcelo Bagnulo" initials="M" surname="Bagnulo">
            <organization/>
          </author>

          <author fullname="Benoit Claise" initials="B" surname="Claise">
            <organization/>
          </author>

          <author fullname="Philip Eardley" initials="P" surname="Eardley">
            <organization/>
          </author>

          <author fullname="Al Morton" initials="A" surname="Morton">
            <organization/>
          </author>

          <author fullname="Aamer Akhter" initials="A" surname="Akhter">
            <organization/>
          </author>

          <date day="6" month="July" year="2015"/>

          <abstract>
            <t>This document defines the IANA Registry for Performance
            Metrics. This document also gives a set of guidelines for
            Registered Performance Metric requesters and reviewers.</t>
          </abstract>
        </front>

        <seriesInfo name="Work in Progress,"
                    value="draft-ietf-ippm-metric-registry-03"/>
      </reference>

      <?rfc include='reference.RFC.6419'?>

      <?rfc include='reference.RFC.6887'?>

      <!-- reference.I-D.ietf-lmap-information-model I-D Exists -->

      <reference anchor="LMAP-INFO">
        <front>
          <title>Information Model for Large-Scale Measurement Platforms
          (LMAP)</title>

          <author fullname="Trevor Burbridge" initials="T" surname="Burbridge">
            <organization/>
          </author>

          <author fullname="Philip Eardley" initials="P" surname="Eardley">
            <organization/>
          </author>

          <author fullname="Marcelo Bagnulo" initials="M" surname="Bagnulo">
            <organization/>
          </author>

          <author fullname="Juergen Schoenwaelder" initials="J"
                  surname="Schoenwaelder">
            <organization/>
          </author>

          <date day="3" month="July" year="2015"/>

          <abstract>
            <t>This Information Model applies to the Measurement Agent within
            a Large-Scale Measurement Platform. As such it outlines the
            information that is (pre&nbhy;)configured on the MA or exists in
            communications with a Controller or Collector within an LMAP
            framework. The purpose of such an Information Model is to provide
            a protocol and device independent view of the MA that can be
            implemented via one or more Control and Report protocols.</t>
          </abstract>
        </front>

        <seriesInfo name="Work in Progress,"
                    value="draft&nbhy;ietf-lmap-information-model-06"/>
      </reference>

      <?rfc include='reference.RFC.6235'?>

      <?rfc include='reference.RFC.6973'?>

      <?rfc include='reference.RFC.4656'?>

      <?rfc include='reference.RFC.5357'?>

      <?rfc include='reference.RFC.3444'?>

      <?rfc include='reference.RFC.7398'?>
    </references>

    <section numbered="no" title="Acknowledgments">
      <t>This document originated as a merger of three individual drafts:
      "Terminology for Large MeAsurement Platforms (LMAP)" (July 2013), "A
      Framework and Inventory for a Large Scale Measurement System" (July
      2013), and "A framework for large-scale measurements" (July 2013).</t>

      <t>Thanks to Juergen Schoenwaelder for his detailed review of the
      terminology. Thanks to Charles Cook for a very detailed review of an
      early draft of this document. Thanks to Barbara Stark and Ken Ko for
      many helpful comments about later draft versions.</t>

      <t>Thanks to numerous people for much discussion, directly and on the
      LMAP list (apologies to those unintentionally omitted): Alan Clark,
      Alissa Cooper, Andrea Soppera, Barbara Stark, Benoit Claise, Brian
      Trammell, Charles Cook, Dan Romascanu, Dave Thorne, Frode Soerensen,
      Greg Mirsky, Guangqing Deng, Jason Weil, Jean-Francois Tremblay, Jerome
      Benoit, Joachim Fabini, Juergen Schoenwaelder, Jukka Manner, Ken Ko,
      Lingli Deng, Mach Chen, Matt Mathis, Marc Ibrahim, Michael Bugenhagen,
      Michael Faath, Nalini Elkins, Radia Perlman, Rolf Winter, Sam Crawford,
      Sharam Hakimi, Steve Miller, Ted Lemon, Timothy Carey, Vaibhav Bajpai,
      Vero Zheng, and William Lupton.</t>

      <t>Philip Eardley, Trevor Burbridge and Marcelo Bagnulo worked in part
      on the Leone research project, which received funding from the European
      Union Seventh Framework Programme under grant agreement number
      317647.</t>

      <t/>

      <t/>
    </section>
  </back>
</rfc>
