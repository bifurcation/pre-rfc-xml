<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd">

<?rfc toc="yes"?>            <!-- You want a table of contents -->
<?rfc symrefs="yes"?>        <!-- Use symbolic labels for references -->
<?rfc sortrefs="yes"?>       <!-- This sorts the references -->
<?rfc rfcedstyle="yes"?>
<?rfc compact="yes"?>
<?rfc subcompact="no"?>


<!ENTITY RFC2119 PUBLIC ''
  'http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119'>
<!ENTITY RFC2629 PUBLIC ''
  'http://xml.resource.org/public/rfc/bibxml/reference.RFC.2629'>
<!ENTITY RFC4294 PUBLIC ''
  'http://xml.resource.org/public/rfc/bibxml/reference.RFC.4294'>
<!ENTITY RFC4029 PUBLIC ''
  'http://xml.resource.org/public/rfc/bibxml/reference.RFC.4029'>
<!ENTITY RFC4779 PUBLIC ''
  'http://xml.resource.org/public/rfc/bibxml/reference.RFC.4779'>
<!ENTITY RFC4798 PUBLIC ''
  'http://xml.resource.org/public/rfc/bibxml/reference.RFC.4798'>
<!ENTITY RFC5154 PUBLIC ''
  'http://xml.resource.org/public/rfc/bibxml/reference.RFC.5154'>
<!ENTITY RFC5211 PUBLIC ''
  'http://xml.resource.org/public/rfc/bibxml/reference.RFC.5211'>
<!ENTITY RFC4942 PUBLIC ''
  'http://xml.resource.org/public/rfc/bibxml/reference.RFC.4942'>
<!ENTITY RFC4864 PUBLIC ''
  'http://xml.resource.org/public/rfc/bibxml/reference.RFC.4864'>
<!ENTITY RFC5181 PUBLIC ''
  'http://xml.resource.org/public/rfc/bibxml/reference.RFC.5181'>
<!ENTITY RFC5121 PUBLIC ''
  'http://xml.resource.org/public/rfc/bibxml/reference.RFC.5121'>
<!ENTITY RFC5006 PUBLIC ''
  'http://xml.resource.org/public/rfc/bibxml/reference.RFC.5006'>
<!ENTITY RFC4659 PUBLIC ''
  'http://xml.resource.org/public/rfc/bibxml/reference.RFC.4659'>
<!ENTITY RFC5692 PUBLIC ''
  'http://xml.resource.org/public/rfc/bibxml/reference.RFC.5692'>

<rfc number="6036" ipr="trust200902" category="info">  


<front>
<title abbrev="ISP IPv6 Scenarios">Emerging Service Provider Scenarios for IPv6 Deployment</title>


<author initials="B. E." surname="Carpenter" fullname="Brian Carpenter">
    <organization abbrev="Univ. of Auckland"></organization>
    <address>
      <postal>
        <street>Department of Computer Science</street>
        <street>University of Auckland</street>
        <street>PB 92019</street>
        <city>Auckland</city>
        <region></region>
        <code>1142</code>
        <country>New Zealand</country>
      </postal>
      
      <email>brian.e.carpenter@gmail.com</email>
    </address>
</author>


   <author fullname="Sheng Jiang" initials="S.J." surname="Jiang">
      <organization>Huawei Technologies Co., Ltd</organization>
      <address>
        <postal>
          <street>KuiKe Building, No.9 Xinxi Rd.,</street>
          <city>Shang-Di Information Industry Base, Hai-Dian District, Beijing</city>
          <country>P.R. China</country>
        </postal>
        <email>shengjiang@huawei.com</email>
      </address>
    </author>

<date month="October" year="2010" />

<area>Operations</area>
<workgroup>V6OPS</workgroup>


<keyword>example</keyword> 


<abstract>

<t>This document describes practices and plans that are emerging among Internet Service Providers for the
deployment of IPv6 services. They are based on practical experience so far, as well as current plans
and requirements, reported in a survey of a number of ISPs carried out in early 2010. This document
identifies a number of technology gaps, but it does not make recommendations. </t>
    
</abstract>
</front>

<middle>
<section anchor="intro" title="Introduction">

<t>As is well known, the approaching exhaustion of IPv4 address space will bring about
a situation in which Internet Service Providers (ISPs) are faced with a choice between
one or more of three major alternatives:
<list style="numbers">
 <t>Squeeze the use of IPv4 addresses even harder than today, using smaller and smaller
    address blocks per enterprise customer, and possibly trading address blocks with other ISPs. </t>
 <t>Install multiple layers of Network Address Translation (NAT)
    <xref target="CGN"/> or share IPv4 addresses
    by other methods such as address-plus-port mapping <xref target="APLUSP"/>,
    <xref target="PRANGE"/>. </t>
 <t>Deploy IPv6 and operate IPv4-IPv6 coexistence and interworking mechanisms. </t>
</list>

This document focuses on alternative (3), while recognizing that many ISPs may
be obliged by circumstances to prolong the life of IPv4 by using (1) or (2) while
preparing for (3). </t>

<t>This document describes IPv6 deployment scenarios already adopted or currently planned
by a set of ISPs who responded to a technical questionnaire. Thus, it is a factual record
of the responses from those ISPs. It makes no recommendations; the best choice of
scenarios will depend on the circumstances of individual ISPs.</t>

<t>We consider various aspects of IPv6 deployment: addressing, routing, DNS, management,
and IPv4-IPv6 coexistence and interworking. We do not consider application services
in detail, but we do cover general aspects.  </t>


<t>The reader is assumed to be familiar with IPv6. The IETF's 
view of core IPv6 requirements is to be found in <xref target="RFC4294"/>
(currently being updated as <xref target="NODEREQ"/>). However,
this does not give a complete view of mechanisms an ISP may need to deploy, since
it considers the requirements for an individual node, not for a network or
service infrastructure as a whole.  </t>

<t><xref target="RFC4029"/> discusses scenarios for introducing IPv6 into ISP networks, as the problem
was viewed some years ago. 
Its end goal is simply a dual-stack ISP backbone. Today's view is that
this is insufficient, as it does not allow for interworking between IPv6-only and legacy (IPv4-only)
hosts. Indeed, the end goal today might be an IPv6-only ISP backbone, with some form of
legacy IPv4 support. </t>


<t><xref target="RFC4779"/> discusses deployment in broadband access
  networks such as Cable Television (CATV), Asymmetric Digital Subscriber Line (ADSL),
and wireless. <xref target="RFC5181"/>, <xref target="RFC5121"/>, and
<xref target="RFC5692"/> deal specifically with 
IEEE 802.16 access networks.
MPLS-based ISPs may use the IPv6 Provider Edge Router (6PE) <xref target="RFC4798"/> mechanism. </t>

<t><xref target="RFC4942"/> covers IPv6 security issues, especially those that are specific 
to transition and IPv4-IPv6 coexistence scenarios. 
<xref target="RFC4864"/> discusses "Local Network Protection",
i.e., how the internal structure of an IPv6 site network can be protected. This
affects how well an ISP's customers are protected after they deploy IPv6. </t>

<t>Although the basic IPv6 standards have long been stable, it should be noted that considerable
work continues in the IETF, particularly to resolve the issue of highly scalable multihoming
support for IPv6 sites, and to resolve the problem of IP layer interworking between IPv6-only
and IPv4-only hosts. IPv6/IPv4 interworking at the application layers is
handled within the original dual-stack model of
IPv6 deployment: either one end of an application session will have dual-stack
connectivity, or a dual-stack intermediary such as an HTTP proxy or SMTP server
will interface to both IPv4-only and IPv6-only hosts or applications. </t>

<t><xref target="RFC5211"/> describes an independent view of a possible sequence of events
for IPv6 adoption in the Internet as a whole, with direct implications for ISPs. Its main point,
perhaps, is that by the year 2012, it will be appropriate to regard IPv4 networks as the legacy solution. </t>

</section> <!-- intro -->

<section anchor="exp" title="Survey of ISP's Experience, Plans, and Requirements">

<section title="Methodology">
<t>To obtain a view of the IPv6 experience, plans, and requirements of ISPs, a questionnaire
was issued by the authors in December 2009 and announced widely to the operational community.
We promised to keep the replies strictly confidential and to publish only combined results, without identifying 
information about individual ISPs in any published results. The raw technical questions are shown in
<xref target="AppendixQ"/>, and a detailed summary of the replies is in <xref target="AppendixA"/>.
Note that although the questionnaire
was widely announced, those who chose to reply were self-selected and we can make no claim of statistical
significance or freedom from bias in the results. In particular, we assume that ISPs with a pre-existing
interest in IPv6 are more likely to have replied than others. The results should therefore be interpreted
with some care.
</t>
</section>


<section title="General Questions about IP Service">
<t>Thirty-one ISPs replied before the cutoff date for this analysis. 
65% of responses were from European ISPs but large operators in North America and Asian/Pacific regions are included. Commercial ISPs operating nationally predominate, with a vast range of size (from 30 customers up to 40 million). Note that some providers chose not to answer about the exact number of customers.
Nevertheless, it can be stated that 6 providers each had millions of customers, the next 10 each 
had more than 10,000 customers, and the remaining 15 each had fewer than 10,000 customers. </t>

<t>80% of the respondents offer both transit and origin-only service; 29% offer IP multicast service; 80% have multihomed customers. </t>

<t>A very wide variety of access technologies is used: xDSL, Data Over
 Cable Service Interface Specification (DOCSIS), leased line (X.25,
 Time Division Multiplexer / Plesiochronous Digital Hierarchy
 (TDM/PDH), Synchronous Digital Hierarchy (SDH)), ATM, frame relay,
 dialup, microwave, Fiber To The Premises (FTTP), CDMA, Universal
 Mobile Telecommunications System (UMTS), Long Term Evolution (LTE),
 Worldwide Interoperability for Microwave Access (WiMAX), Broadband Wireless Access (BWA), WiFi, 
Ethernet (100M-10G), Ethernet/SDH, MetroEthernet/MPLS. Most ISPs provide Customer Premises Equipment (CPE) to some or all of their customers, but
these CPE are often unable to support IPv6. </t>

<t>Estimates of when ISPs will run out of public IPv4 address space for internal use vary 
widely, between "now" and "never".
Public IPv4 address space for customers is mainly expected to run out between 2010 and 2015,
but four or five ISPs suggested it will never happen, or at least not in the foreseeable future.
About 19% of ISPs offer RFC 1918 space to customers, and about 39% use such addresses internally. </t>
</section>

<section title="Requirements for IPv6 Service">
<t>61% of ISPs report that some big customers are requesting IPv6. Predictions for when 10% of customers
will require IPv6 range from 2010 to 2017, and for 50% from 2011 to 2020. These ISPs require IPv6 to be a 
standard service by 2010 to 2015; the most common target date is 2011. </t>

</section>

<section title="Status and Plans for IPv6 Service">
<t>42% of ISPs already offer IPv6 as a regular
service, although, in general, it is used by fewer than 1% of customers. Another 48% of ISPs have IPv6 
deployment in progress or planned. These all plan at least beta-test service in 2010.
Planned dates for regular service are between 2010 and 2013 (except for one ISP who replied that it
depends on the marketing department). When asked when IPv6 will
reach 50% of total traffic, the most common answer is 2015. </t>

</section>

<section title="IPv6 Technologies">
<t>Turning to technology choices, the overwhelming choice of approach (94%) is a dual-stack routing backbone,
and the reason given is simplicity and cost. 39% run, or plan to run, a 6to4 relay as well, and 16% run or plan a Teredo server. However, 77% of ISPs don't have or plan to have any devices dedicated to IPv6. A different 77%
don't see IPv6 as an opportunity to restructure their network topology. </t>

<t>When asked which types of equipment are unable to support
IPv6, the most common answer was CPE (10 mentions).  Also
mentioned: handsets; Digital Subscriber Line Access Multiplexers (DSLAMs); routers (including several specific
models); traffic management boxes; load balancers; VPN boxes; some SIP platforms;
management interfaces & systems; firewalls; billing systems. When asked if
such devices can be field-upgraded, the answers were gloomy: 5 yes, 4 partially, 10 no,
and numerous "don't know" or "hopefully".</t>

<t>84% support or plan DNS Authentication, Authorization, Accounting, and Auditing (AAAA) queries over IPv6, and all but one of these include
reverse DNS lookup for IPv6. </t>

<t>The ISPs surveyed have prefixes ranging from /19 to /48, and have a variety of policies
for customer prefixes. Fifteen ISPs
offer more than one of /48, /52, /56, /60, or /64. Two offer /56
only, eight offer /48 only.  Two wired operators offer /64 only.
Mobile operators offer /64 in accordance with 3GPP, but at least
one would like to be allowed to offer /128 or /126. Also, as many as 30%
of the operators already have IPv6 customers preferring a PI (provider independent) prefix.
The methods chosen for prefix delegation to CPEs are manual, DHCPv6[-PD], Stateless Address Autoconfiguration (SLAAC), 
RADIUS, and Point-to-Point Protocol over Ethernet (PPPoE). However, in fact, the latter two cannot assign a prefix on their own. </t>

<t>About 50% of ISPs already operate or plan dual-stack SMTP, Post Office Protocol 3 (POP3), IMAP, and HTTP services.
In terms of internal services, it seems that firewalls, intrusion detection, address management,
monitoring, and network management tools are also around the 50% mark. However, accounting
and billing software is only ready at 23% of ISPs. </t>

<t>Considering IPv4-IPv6 interworking, 58% of ISPs don't expect to have IPv6-only customers
(but mobile operators are certain they will have millions). Five ISPs report customers who
explicitly refused to consider IPv6. When asked how long customers will run IPv4-only
applications, the most frequent answer is "more than ten years". Only three ISPs state that
IPv6-IPv4 interworking at the IP layer is not needed. On the other hand, only three
(a different three!) run or plan to run NAT-PT (Protocol Translation). At least 30% plan to run some kind of
translator (presumably NAT64/DNS64), but only two felt that a multicast translator was essential.
Among those who do not plan a translator, when asked how they
plan to connect IPv6-only customers to IPv4-only services, seven rely on dual stack
and four have no plan (one said, paraphrasing, "it's their problem"). </t>

<t>Asked about plans for Mobile IPv6 (or Nemo mobile networks), 19% said yes, and 71% said no,
with the others uncertain. A detailed analysis shows that of the six ISPs who responded positively,
three are large mobile operators (and a fourth mobile operator said no).
The other three who responded positively were broadband ISPs ranging from small to very large.</t>
</section>

<section title="Effect of Size">
<t>We examined the data to see whether any other differences would emerge between the very large 
(millions of customers), medium (at least 10,000), and small (fewer than 10,000) operators. 
However, the range of answers seems to be broadly similar in all cases. The major exception is
that among the six very large operators, one plans to use 6PE and
  dual-stack lite (DS-lite),
and another to use IPv6 on VPN to Provider Edge Router (6VPE), instead of a simple dual stack. The other large
operators and all the medium and small operators prefer a simple dual stack. </t>
</section>

</section> <!-- exp -->

<section anchor="lessons" title="Lessons from Experience and Planning">

<t>This section is assembled and paraphrased from general comments made in the various questionnaire responses.
Any inconsistencies or contradictions are present in the original data. Comments related to missing 
features and products have been included in <xref target="gaps"/>. </t>


<t>As noted in the summary above, the ISPs that responded overwhelmingly prefer a native dual-stack deployment. 
Numerous comments mentioned the simplicity of this model and the complexity and 
sub-optimal routing of tunnel-based solutions. Topology redesign is not generally considered
desirable, because congruent IPv4 and IPv6 topology simplifies maintenance and engineering.
Nevertheless, 6to4 is considered convenient for cable modem (DOCSIS) users and IPv6 Rapid Deployment (6RD) is 
considered an attractive model by some. 
Various operators, but by no means all, also see a need for Teredo.
One very large MPLS-based operator prefers 6PE because it avoids an IPv6 IGP and reduces operational costs.
This operator also sees IPv4 scarcity addressed by DS-lite <xref target="DSLITE"/>
and Carrier Grade NAT, also acting as a catalyst for IPv6.
Another very large operator with an existing NAT44 infrastructure plans to use 6VPE <xref target="RFC4659"/>
and believes that NAT64 will be similar to NAT44 in support requirements.  </t>

<t>Several ISPs observe that IPv6 deployment is technically not hard. The most eloquent
statement: "Just do it, bit by bit. It is very much an 'eating the elephant' problem,
but at one mouthful at a time, it appears to be surprisingly easy."
Other comments paraphrased from the replies are:</t>

<list style="symbols">
<t>Despite the known gaps, the tools and toolkits are fairly mature at this point. </t>

<t>Managerial commitment and a systematic approach to analyzing requirements
and readiness are essential. </t>

<t>Evangelization remains a must, as it seems
that many ISP and IT managers are still unaware of the need for an IPv6 plan,
and are inclined to dismiss IPv4 depletion as a false alarm, and also seem
unaware that NATs create expensive support requirements. </t>

<t>Without customers wanting IPv6, getting business backing is very hard, and
IPv6 security and scale was not a focus for vendors until very recently. </t>

<t>Operators lack real experience with customer usage of IPv6, and the 
resulting lack of confidence causes delay. </t>

</list>

<t>Three further quotations are of interest:</t>
<t>"We are planning to move all our management addressing from IPv4 to IPv6 to free up IPv4 addresses."</t>
<t>"I am actively pushing our larger customers to start testing IPv6 as our development has pretty much stopped as we need some real world testing to be done." </t>
<t>"Customer support needs to be aware that IPv6 is being started in your network, or servers. We experienced many IPv6 blocking applications, applications that do not fall back to IPv4, etc. The most difficult part may be to get engineers, sales, customer support personnel to like IPv6."</t>


</section> <!-- lessons -->



<section anchor="gaps" title="Gap Analysis">

<t>The survey has shown a certain number of desirable features to be missing, either in relevant
specifications, or in many products. This section summarizes those gaps. </t>

<section title="Product Issues">
<t>As noted above, numerous models of various types of product still do not support IPv6:</t>
 <list style="symbols">
 <t>CPE</t>
 <t>Handsets </t>
 <t>DSLAMs </t>
 <t>Routers </t>
 <t>Traffic management boxes </t>
 <t>Load balancers </t>
 <t>VPN boxes </t>
 <t>SIP and other appliances </t>
 <t>Management interfaces and systems </t>
 <t>Firewalls  </t>
 <t>Even where they support IPv6, customer-side firewalls and routers need to operate at 25-100 Mbit/s </t>
 <t>Intrusion detection systems </t>
 <t>Accounting and billing systems </t>
 </list>

<t>It is not the purpose of this document to name and shame vendors, but today it is becoming urgent for all products to avoid becoming part of the IPv4 legacy. 
ISPs stated that they want consistent feature-equivalent support for IPv4 and IPv6 in all 
equipment and software at reasonable or no extra cost.
The problems can be quite subtle: for example, one CPE with "full" IPv6 support does
not support IPv6 traffic shaping, so the ISP cannot cap IPv6 traffic to contractual limits. </t>

<t>Numerous ISPs want a scalable NAT64/DNS64 product. </t>

<t>The need for IPv6 support in "all the best open source tools" was also mentioned. </t>

<t>Several ISPs also noted that much commercial applications software does not correctly
support IPv6 and that this will cause customer problems. Also, some operating systems
are still shipped with IPv6 disabled by default or with features such as
IPv4-mapped addresses disabled by default. </t>

</section>


<section title="Protocol Issues">

<t>Various needs and issues related mainly to protocols were mentioned:</t>
 <list style="symbols">
 <t>A specific CPE need is an intelligent prefix sub-delegation mechanism (ease of use issue). </t>
 <t>"Getting it right" so that a dual-stack client doesn't end up trying to use the wrong transport
    to reach a site. </t>
 <t>"User-side port allocation mechanisms.  UPnP IGD and NAT-PMP can
      be used for IPv4, but nothing exists for IPv6 (yet)."  UPnP IGD
      refers to the Universal Plug and Play Forum's Internet Gateway
      Device.  NAT-PMP is the NAT Port Mapping Protocol.</t>
<list style="hanging">
<t hangText="Editor's comment:"> even though port mapping
    is in principle unnecessary for IPv6, a method of opening ports through firewalls
    on demand seems necessary. </t> 
</list>
 <t>Full Router Advertisement (RA) support on LAN side of ADSL CPE. </t>
 <t>PPPoE and RADIUS support. Specifically, global unicast address
    assignment for Layer 2 Tunneling Protocol (L2TP) / PPPoE.
    Currently, the PPPoE client will be assigned a link-local address, requiring a second step
    (DHCPv6 or SLAAC). </t>
 <t> Simple automatic distribution of DNS server details
     is essential; a DNS server option in RA <xref target="RFC5006"/> is wanted. </t>
 <t>ISPs need fully featured DHCPv6, especially since SLAAC does not allow 
    settings to be pushed out (except for RFC 5006). </t>
 <t>Firewall systems should not use separate IPv4 and IPv6 rules. </t>
 <t>Gaps in infrastructure security for IPv6 management. </t>
 <t>Gaps in routers' treatment of header options. </t>
 <t>RA-Guard in switches. </t>
 <t>Virtual Router Redundancy Protocol (VRRP) support. </t>
 <t>PE-CE routing protocols (OSPF and IS-IS). </t>
 <t>Problems using a  single BGP session to exchange routes for both IPv4 and IPv6. </t>
 <t>Consistent IPv6 address display format in outputs and configuration input.
    Inconsistency breaks a lot of existing tools. </t>
 </list>
</section>

<section title="Documentation and General Issues">
<t>We also note areas where there was clearly confusion among the ISPs responding,
which may denote weaknesses of existing documentation:</t>
 <list style="symbols">
 <t>Perhaps due to poor phrasing in the survey questions, some ISPs indicated that they
    would use PPPoE or RADIUS to assign prefixes to CPEs. In fact, IPv6 PPP only negotiates 64-bit
    interface identifiers; a full address has to be assigned by another method, and even this does
    not delegate a prefix to a CPE router. RADIUS alone is also insufficient, as it needs to be combined
    with another method for full address assignment. </t>
 <t>Although most ISPs see a need for IPv4-IPv6 interworking at the network layer, many of them
    do not see a need for an ISP to operate the resulting translator. Yet, their customers,
    whether subscribers or content providers, will be the first to suffer when IPv6-only clients
    cannot reach IPv4-only services. </t>
 <t>Most ISPs seemed to misunderstand the nature of a tunnel broker, even though this is a service
    that any ISP could consider offering to its subscribers. </t>
 </list>
 
<t>Global IPv6 connectivity still has issues; for example, ISPs in the Pacific region
may have to obtain IPv6 transit via the USA (a situation faced by IPv4 operators
in Europe about twenty years ago). Also, there are persistent Path MTU Discovery (PMTUD) issues in various places on the net,
and a lack of multicast peering. </t>

<t>Finally, there was a comment that real deployment case studies must be shown to operators
along with multihoming and traffic engineering best practices. </t>
</section>    
 
</section> <!-- gaps -->



<section anchor="security" title="Security Considerations">

<t>As a report on a survey, this document creates no security issues in itself. ISPs did not register
any general concerns about IPv6 security. However, we note that
about half of all firewall and intrusion detection products are still reported not to support IPv6.
Some ISPs expressed concern about firewall performance and about the need for separate
firewall configurations for IPv4 and IPv6. </t>
   
</section> <!-- security -->



<section anchor="ack" title="Acknowledgements">

<t>We are grateful to all those who answered the questionnaire:
Stewart Bamford, 
Pete Barnwell,	
Cameron Byrne,	
Gareth Campling,
Kevin Epperson,	
David Freedman,	
Wesley George,	
Steinar Haug,	
Paul Hoogsteder,	
Mario Iseli,	
Christian Jacquenet,	
Kurt Jaeger,	
Seiichi Kawamura, 	
Adrian Kennard,	
Simon Leinen,	
Riccardo Loselli,	
Janos Mohacsi,	
Jon Morby,	
Michael Newbery,	
Barry O'Donovan,	
Al Pooley,	
Antonio Querubin,
Anthony Ryan,	
Marc Schaeffer,	
Valeriu Vraciu,
Bill Walker,
and those who preferred to remain anonymous. </t>

<t>The ISPs willing to be named were:
AISP,	
Alphanet,	
Breedband Delft,
Claranet,
E4A,
Fidonet,	
Finecom,	
France Telecom,	
Hungarnet,
Imagine,
LavaNet,
Level 3 Communications LLC,
NEC BIGLOBE, 	
Nepustilnet,
Net North West, 	
RoEduNet,	
SWITCH,	
Snap,
Sprint,	
Star Technology,	
T-Mobile USA,
Ventelo,
and
Whole Ltd.	</t>

<t>Useful comments and contributions were also made by Shane Amante,
Mohamed Boucadair, Mark Smith,
and others. </t>

<t>This document was produced using the xml2rfc tool <xref target="RFC2629"/>.</t>

</section> <!-- ack -->


</middle>

<back>

<!-- <references title="Normative References">

&RFC2119;

</references> -->

<references title="Informative References">

&RFC2629;
&RFC4294;
&RFC4029;
&RFC4779;
&RFC4798;
&RFC5211;
&RFC4942;
&RFC4864;
&RFC5181;
&RFC5121;
&RFC5006;
&RFC4659;
&RFC5692;

<!--draft-boucadair-port-range-02-->


<reference anchor='PRANGE'>
<front>
<title>IPv4 Connectivity Access in the Context of IPv4 Address Exhaustion: Port Range based IP Architecture</title>

<author initials='M' surname='Boucadair' fullname='Mohammed Boucadair'>
    <organization />
</author>

<author initials='P' surname='Levis' fullname='Pierre Levis'>
    <organization />
</author>

<author initials='G' surname='Bajko' fullname='Gabor Bajko'>
    <organization />
</author>

<author initials='T' surname='Savolainen' fullname='Teemu Savolainen'>
    <organization />
</author>

<date month='July' day='3' year='2009' />

<abstract><t>This memo proposes a solution, based on fractional addresses, to face the IPv4 public address exhaustion.  It details the solution and presents a mock-up implementation, with the results of tests that validate the concept.  It also describes architectures and how fractional addresses are used to overcome the IPv4 address shortage. A comparison with the alternative Carrier-Grade NAT (CG-NAT) solutions is also elaborated in the document.  The IPv6 variant of this solution is described in a companion draft.</t></abstract>

</front>

<seriesInfo name='Work in' value='Progress' />

</reference>



<!--&DRAFT-aplusp; draft-ymbk-aplusp-->
<reference anchor='APLUSP'>
<front>
<title>The A+P Approach to the IPv4 Address Shortage</title>

<author initials='R' surname='Bush' fullname='Randy Bush'>
    <organization />
</author>

<date month='October' day='26' year='2009' />

<abstract><t>We are facing the exhaustion of the IANA IPv4 free IP address pool. Unfortunately, IPv6 is not yet deployed widely enough to fully replace IPv4, and it is unrealistic to expect that this is going to change before we run out of IPv4 addresses.  Letting hosts seamlessly communicate in an IPv4-world without assigning a unique globally routable IPv4 address to each of them is a challenging problem.  This draft discusses the possibility of address sharing by treating some of the port number bits as part of an extended IPv4 address (Address plus Port, or A+P).  Instead of assigning a single IPv4 address to a customer device, we propose to extended the address by "stealing" bits from the port number in the TCP/UDP header, leaving the applications a reduced range of ports.  This means assigning the same IPv4 address to multiple clients (e.g., CPE, mobile phones), each with its assigned port-range.  In the face of IPv4 address exhaustion, the need for addresses is stronger than the need to be able to address thousands of applications on a single host.  If address translation is needed, the end-user should be in control of the translation process - not some smart boxes in the core.</t></abstract>

</front>

<seriesInfo name='Work in' value='Progress' />

</reference>



<!--draft-ietf-6man-node-req-bis -->


<reference anchor='NODEREQ'>
<front>
<title>IPv6 Node Requirements RFC 4294-bis</title>

<author initials='E' surname='Jankiewicz' fullname='Ed Jankiewicz'>
    <organization />
</author>

<author initials='J' surname='Loughney' fullname='John Loughney'>
    <organization />
</author>

<author initials='T' surname='Narten' fullname='Thomas Narten'>
    <organization />
</author>

<date month='July' day='12' year='2010' />

<abstract><t>This document defines requirements for IPv6 nodes.  It is expected that IPv6 will be deployed in a wide range of devices and situations. Specifying the requirements for IPv6 nodes allows IPv6 to function well and interoperate in a large number of situations and deployments.</t></abstract>

</front>

<seriesInfo name='Work in' value='Progress' />

</reference>


<!--&DRAFT-dslite; draft-ietf-sofwire-dual-stack-lite-->

<reference anchor='DSLITE'>
<front>
<title>Dual-Stack Lite Broadband Deployments Following IPv4 Exhaustion</title>

<author initials='A' surname='Durand' fullname='Alain Durand'>
    <organization />
</author>

<author initials='R' surname='Droms' fullname='Ralph Droms'>
    <organization />
</author>

<author initials='J' surname='Woodyatt' fullname='James Woodyatt'>
    <organization />
</author>

<author initials='Y' surname='Lee' fullname='Yiu Lee'>
    <organization />
</author>

<date month='August' day='10' year='2010' />

<abstract><t>This document revisits the dual-stack model and introduces the dual- stack lite technology aimed at better aligning the costs and benefits of deploying IPv6 in service provider networks.  Dual-stack lite enables a broadband service provider to share IPv4 addresses among customers by combining two well-known technologies: IP in IP (IPv4- in-IPv6) and Network Address Translation (NAT).</t></abstract>

</front>

<seriesInfo name='Work in' value='Progress' />

</reference>

<!--&DRAFT-cgn; -->

<reference anchor='CGN'>
<front>
<title>Common requirements for IP address sharing schemes</title>

<author initials='I' surname='Yamagata' fullname='Ikuhei Yamagata'>
    <organization />
</author>

<author initials='S' surname='Miyakawa' fullname='Shin Miyakawa'>
    <organization />
</author>

<author initials='A' surname='Nakagawa' fullname='Akira Nakagawa'>
    <organization />
</author>

<author initials='H' surname='Ashida' fullname='Hiroyuki Ashida'>
    <organization />
</author>

<date month='July' day='12' year='2010' />

<abstract><t>This document defines common requirements of multiple types of Large Scale Network Address Translation (NAT) that handles Unicast UDP, TCP and ICMP.</t></abstract>

</front>

<seriesInfo name='Work in' value='Progress' />

</reference>

    
</references>

<section anchor="AppendixA" title="Summary of Replies">

<t>This summarizes the 31 replies received by April 14, 2010. Note that
the answers to some questions do not total to 31, due to missing answers
or to multiple choices in some cases.
The ISPs are distributed as follows:</t>
 <list>
 <t>Europe: 20</t>
 <t>North America: 7</t>
 <t>Asia/Pacific: 4</t>
</list> 
<t>They can additionally be classified as:</t>
 <list>
 <t>Commercial: 26</t>
 <t>Academic/research: 4</t>
 <t>Operating internationally: 6</t>
 <t>Operating nationally: 25</t>
 </list>
<t>Basic data about IP service offerings:</t> 
 <list style="symbols"> 
 <t>Offering both origin-only and transit service: 25</t>
 <t>Offering no transit: 6</t>
 <t>Number of private/small office customers (one IPv4 address): a few with zero, then from 30 units up to 40 million</t>
 <t>Number of corporate customers (block of IPv4 addresses): a few with zero, then from 40 units up to 40000</t>
 <t>IP multicast service? 9 yes, 22 no</t>
 <t>Do any customers require multihoming to multiple ISPs? 25 yes, 6 no</t>
 <t>Access technologies used: xDSL, DOCSIS, leased line (X.25, TDM/PDH, SDH), ATM, frame relay, dialup, microwave, FTTP, CDMA, UMTS, LTE, WiMAX, BWA, WiFi, Ethernet (100M-10G), Ether/SONET, Ether/MPLS, IPv6-in-IPv4 tunnels.</t>
 </list>
<t>Customer Premises Equipment:</t>
 <list style="symbols">
 <t>Do customers use CPE that ISP supplies? 27 yes (10% to 100% of customers), 4 no</t>
 <t>Does the CPE provided support native IPv6? 17 yes (some), 10 no</t>
 <t>(Note that these numbers include answers that apply to tens of millions of mobile handsets.)</t>
 </list>
<t>IPv4 Address Space:</t>
 <list style="symbols">
 <t>When do you expect to run out of public IPv4 address space inside your own network? 
    Estimates run from "now"  to 2020, but 5 ISPs say "never" or "unforeseeable".</t>
 <t>Do you run RFC1918 addresses and NAT within your network? 9 yes; 18 no;
    3 others say yes, but only for equipment management or L3VPN. </t>
 <t>What % of IPv4 space is needed for ISP use (not for customers)? 1% to 30% 
    (and 100% for NRENs with PI customers).</t>
 <t>When do you expect to run out of public IPv4 address space for customers? Answers range from 2010 to 2015;
    4 ISPs say it depends on their registry. 4 or 5 give answers suggesting it will never happen. </t>
 <t>Do you offer RFC1918 addresses to customers? 6 yes, 24 no</t>

 </list>
<t>IPv6 Requirements:</t>
 <list style="symbols">
 <t>Are some big customers requesting IPv6? 19 yes, 12 no</t>
 <t>When do you predict 10% and 50% of customers to require IPv6 service? Ignoring unclear answers,
    answers for 10% range from 2010 to 2017, and for 50% from 2011 to 2020. </t>
 <t>When do you require IPv6 to be a standard service available to all customers? Answers range from
    2010 to 2015; the most common answer is 2011. </t>
 <t>When do you predict IPv6 traffic to reach 50% of total traffic? Answers range from 2011 to 2020;
    the most common answer is 2015. </t>

 </list>
<t>IPv6 Status and Plans:</t>
 <list style="symbols">
 <t>Do you currently offer IPv6 as a regular service? 13 yes, 5 partial, 12 no</t>
 <t>What % of customers currently use IPv6? &lt;1% to 30%; mostly 0 or &lt;1%</t>
 <t>When do you plan to start IPv6 deployment? 12 complete, 12 in progress, 3 in plan, 4 have no plan</t>

 <t>When do you plan to offer IPv6 as a special or beta-test service? For all those in progress or
    with a plan, the answer was either "now" or during 2010. </t>
 <t>When do you plan to offer IPv6 as a regular service to all customers? For all those in progress or
    with a plan, the answer was between "now" and 2013 (except for one ISP who replied that it
    depends on the marketing department). </t>
 </list>
<t>IPv6 Technologies.  Note the answers refer to actual deployment or to plans, as the case may be:</t>
 <list style="symbols">
 <t>Which basic IPv6 access method(s) apply?</t>
    <list style="symbols">

    <t>Dual-stack routing backbone: 29 yes, 1 maybe</t>
    <t>Separate IPv4 and IPv6 backbones: 2 yes, 1 maybe</t>
    <t>6to4 relay: 12 yes</t>
    <t>Teredo server: 5 yes</t>
    <t>Tunnel broker: Unfortunately this question was unclear and obviously misunderstood by most respondents.
       Several respondents mentioned that they are getting their own transit connectivity via
       static tunnels.</t>
    <t>Something else: Answers were 6VPE + NAT64/DNS64; PNAT; "considering 6RD" </t>

    </list>
 <t>Please briefly explain the main reasons/issues behind your choice: The best summary of the
    answers is "dual stack is simplest, why do anything else?". </t>
 <t>Which types of equipment in your network are unable to support IPv6? The most common answer was
    CPE (9 mentions). Also mentioned: handsets; DSLAMs; routers (including several specific models);
    traffic management boxes; load balancers; VPN boxes; some SIP platforms; management interfaces & systems;
    firewalls; billing systems. </t>
 <t>Can they be field-upgraded? 5 yes, 4 partially, 10 no and numerous "don't know" or "hopefully" </t>
 <t>Is any equipment 100% dedicated to IPv6? 7 yes, 24 no </t>
 <t>Is IPv6 an opportunity to restructure your whole topology? 2 yes, 5 partial, 23 no </t>

 <t>Do you include support for DNS AAAA queries over IPv6? 21 yes, 5 plan, 4 no </t>
 <t>Do you include support for reverse DNS for IPv6 addresses? 22 yes, 3 plan, 5 no </t>
<t>What length(s) of IPv6 prefix do you have or need from the registry? 
    1 /19, 1 /21 (plus several /32s),
    1 /22 1 /30, 3 multiple /32s, 21 /32, 3 /48 </t>
 <t>What length(s) of IPv6 prefix are offered to customers? 
    15 ISPs offer more than one of /48, /52, /56, /60 or /64. 2 offer /56 only, 8 offer /48 only.
    Two wired operators offer /64 only.
    Mobile operators offer /64 in accordance with 3GPP, but at least one would like to be allowed
    to offer /128 or /126. </t>
 <t>Do any customers share their IPv6 prefix among multiple hosts? Unfortunately this question was
    unclear and obviously misunderstood by most respondents. </t>
 <t>Do any of your customers prefer to use PI IPv6 prefixes? 10 yes, 17 no </t>

 <t>How are IPv6 prefixes delegated to CPEs? 16 manual, 10 DHCPv6[-PD], 8 SLAAC, 8 RADIUS, 2 PPPoE. (Note: RADIUS and PPP cannot in fact delegate prefixes.) </t>
 <t>Are your SMTP, POP3 and IMAP services dual stack? 10 yes, 6 plan, 13 no </t>
 <t>Are your HTTP services, including caching and webmail, dual-stack? 9 yes,  1 partial, 4 plan, 15 no </t>
 <t>Are any other services dual stack? 11 yes, 2 plan, 11 no </t>
 <t>Is each of the following dual stack?</t>
    <list style="symbols">

    <t>Firewalls: 12 yes, 3 partial, 3 plan, 9 no </t>
    <t>Intrusion detection: 10 yes,  2 plan, 13 no </t>
    <t>Address management software: 15 yes, 1 plan, 13 no </t>
    <t>Accounting software: 7 yes, 21 no </t>
    <t>Monitoring software: 16 yes, 2 partial, 2 plan, 11 no </t>
    <t>Network management tools: 13 yes, 4 partial, 1 plan, 11 no </t>

    </list>
 <t>Do you or will you have IPv6-only customers? 13 yes (or maybe), 18 no (or not likely) </t>
 <t>Do you have customers who have explicitly refused to consider IPv6? 5 yes, 23 no </t>
<t>Interworking issues:</t>
  <list style="symbols"> 
  <t>How many years do you expect customers to run any IPv4-only applications?
     Answers range from 2 years to infinity, most frequent answer is &gt;10 years. </t>
   <t>Is IPv6-IPv4 interworking at the IP layer needed? 16 yes, 9 uncertain, 3 no </t>
   <t>Do you include a NAT-PT IPv6/IPv4 translator? 2 yes, 1 plan, 26 no </t>
   <t>If yes, does that include DNS translation? 1 plan, 2 no </t>
   <t>If not, do you plan to operate an IPv6/IPv4 translator? 10 plan (NAT64), 8 no, others uncertain </t>
   <t>If not, how do you plan to connect IPv6-only customers to IPv4-only services?
      7 rely on dual stack; 4 have no plan (one said "their problem") </t>
   <t>If you offer IP multicast, will that need to be translated too? 2 yes, 2 uncertain, 5 no </t>
   </list>

 <t>Any plans for Mobile IPv6 (or Nemo mobile networks)? 6 yes, 2 uncertain, 22 no </t>
 </list>


</section>

<section anchor="AppendixQ" title="Questionnaire">

<t> This appendix reproduces the technical body of the questionnaire that was made available for ISPs to express
their requirements, plans, and experience.  </t>

<t>I. &nbsp;General questions about IP service</t>

<list style="format %d." counter="question_count">
  <t>Do you offer origin-only (stub, end-user) IP service, transit IP service, or both?</t>
  <t>Approximate number of private/small office customers (one IPv4 address)</t>
  <t>Approximate number of corporate customers (block of IPv4 addresses, not included in Q2)</t>
  <t>Do you offer IP multicast service?</t>
  <t>Do any  of your customers require multihoming to multiple ISPs?</t>
  <t>Access technologies used (ADSL,etc.)</t>
  <t>Do your customers use CPE that you supply?
    
    <list style="hanging">
      <t hangText="7.1.">What % of customers?</t>
      <t hangText="7.2.">Does the CPE that you provide support native IPv6?
      </t>
  </list></t>
  
  <t>When do you expect to run out of public IPv4 address space
    inside your own network?
    
    <list style="hanging">
      <t hangText="8.1.">Do you run private (RFC1918) addresses and NAT within your network (i.e., a second layer of NAT in the case of customers with their own NAT)?</t>
      <t hangText="8.2.">What % of your IPv4 space is needed for your own use (not for customers)?
      </t>
  </list></t>
  
  <t>When do you expect to run out of public IPv4 address space for customers?
    <list style="hanging">
      <t hangText="9.1.">Do you offer  private (RFC1918) addresses to your customers?</t>
  </list></t>
</list>

<t>II. Questions about requirements for IPv6 service</t>

<list style="format %d." counter="question_count">
  
  <t>Are some big customers requesting IPv6?</t>
  <t>When do you predict 10% and 50% of your customers to require IPv6 service?</t>
  <t>When do you require IPv6 to be a standard service available to all customers?</t>
  <t>When do you predict IPv6 traffic to reach 50% of total
    traffic?
  </t>
</list>

<t>III. Questions about status and plans for IPv6 service</t>

<list style="format %d." counter="question_count">
  <t>Do you currently offer IPv6 as a regular service?
    <list style="hanging">
      <t hangText="14.1.">What % of your customers currently use IPv6?</t>
      <t hangText="14.2.">When do you plan to start IPv6 deployment?</t>
      <t hangText="14.3.">When do you plan to offer IPv6 as a special or beta-test service to customers?
      </t>
  </list></t>
  <t>When do you plan to offer IPv6 as a regular service to all customers?
  </t>
</list>

<t>IV. Questions about IPv6 technologies</t>

<list style="format %d." counter="question_count">
  
  <t>Which basic IPv6 access method(s) apply: 
    <list style="hanging">
      <t hangText="16.1."> dual stack routing backbone?</t>
      <t hangText="16.2."> separate IPv4 and IPv6 backbones?</t>
      <t hangText="16.3."> 6to4 relay?</t>
      <t hangText="16.4."> Teredo server?</t>
      <t hangText="16.5."> tunnel broker? If so, which one?</t>
      <t hangText="16.6."> Something else? Please briefly describe your method:</t>
      <t hangText="16.7."> If possible, please briefly explain the main reasons/issues behind your choice.
      </t>
  </list></t>
  
  <t>Which types of equipment in your network are unable to support IPv6?
    <list style="hanging">
      <t hangText="17.1.">Can they be field-upgraded to support IPv6?</t>
      <t hangText="17.2.">Is any equipment 100% dedicated to IPv6?
      </t>
  </list></t>
  
  <t>Is IPv6 an opportunity to restructure your whole topology?</t>
  <t>Do you include support for DNS AAAA queries over IPv6?</t>
  <t>Do you include support for reverse DNS for IPv6 addresses?</t>
  <t>What length(s) of IPv6 prefix do you have or need from the registry?</t>
  <t>What length(s) of IPv6 prefix are offered to customers?
    <list style="hanging">
      <t hangText="22.1.">Do any customers share their IPv6 prefix among multiple
	hosts?</t>
  </list></t>
  
  <t>Do any of your customers prefer to use PI IPv6 prefixes instead of a prefix from you?</t>
  <t>How are IPv6 prefixes delegated to CPEs? (Manual, PPPoE, RADIUS, DHCPv6, stateless autoconfiguration/RA, etc...)</t>
  <t>Are your SMTP, POP3 and IMAP services dual-stack?</t>
  <t>Are your HTTP services, including caching and webmail, dual-stack?</t>
  <t>Are any other services dual-stack?</t>
  <t>Is each of the following dual-stack?
    
    <list style="hanging">
      <t hangText="28.1."> Firewalls</t>
      <t hangText="28.2."> Intrusion detection</t>
      <t hangText="28.3."> Address management software</t>
      <t hangText="28.4."> Accounting software</t>
      <t hangText="28.5."> Monitoring software</t>
      <t hangText="28.6."> Network management tools
      </t>
  </list></t>
  
  <t>Do you or will you have IPv6-only customers?</t>
  <t>Do you have customers who have explicitly refused to consider IPv6?</t>
  <t>How many years do you expect customers to run any IPv4-only applications?</t>
  <t>Is IPv6-IPv4 interworking at the IP layer needed?</t>
  <t>Do you include a NAT-PT IPv6/IPv4 translator?
    <list style="hanging">
      <t hangText="33.1."> If yes, does that include DNS translation?</t>
      <t hangText="33.2."> If not, do you plan to operate an IPv6/IPv4 translator?</t>
      <t hangText="33.3."> If not, how do you plan to connect IPv6-only customers to IPv4-only services?</t>
      <t hangText="33.4."> If you offer IP multicast, will that need to be translated too?
      </t>
  </list></t>
  <t>Any plans for Mobile IPv6 (or Nemo mobile networks)?</t>
  <t>What features and tools are missing today for IPv6 deployment and operations?</t>
  <t>Any other  comments about your IPv6 experience or plans? What went well, what was difficult, etc.</t>
</list>

</section>

</back>
</rfc>


