<?xml version="1.0" encoding="US-ASCII"?>
<!--  USED xml2rfc v2 -->

<?xml-stylesheet type='text/xsl' href='http://xml.resource.org/authoring/rfc2629.xslt' ?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY rfc2119 PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml">
<!ENTITY rfc3611 PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3611.xml">
<!ENTITY rfc3550 PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3550.xml">
<!ENTITY rfc4566 PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4566.xml">
<!ENTITY rfc6776 PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.6776.xml">
<!ENTITY rfc6958 PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.6958.xml">
<!ENTITY rfc6709 PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.6709.xml">
<!ENTITY rfc6792 PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.6792.xml">
<!ENTITY rfc6390 PUBLIC ""
"http://xml.resource.org/public/rfc/bibxml/reference.RFC.6390.xml">
<!ENTITY rfc5234 PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.5234.xml">
]>

<?rfc toc="yes"?>
<?rfc tocdepth="4"?>
<?rfc symrefs="yes"?>
<?rfc sortrefs="yes"?>
<?rfc compact="yes"?>
<?rfc subcompact="no"?>
<?rfc rfcedstyle="yes"?>

<rfc number="7004" category="std" submissionType="IETF" consensus="yes"
     ipr="trust200902">
  <front>
    <title abbrev="Summary Stats XR Blocks">RTP Control Protocol (RTCP)
    Extended Report (XR) Blocks for&nbsp;Summary&nbsp;Statistics&nbsp;Metrics&nbsp;Reporting</title>

    <author fullname="Glen Zorn" initials="G." surname="Zorn">
      <organization>Network Zen</organization>

      <address>
        <postal>
          <street>227/358 Thanon Sanphawut</street>

          <city>Bang Na</city>

          <region>Bangkok</region>

          <code>10260</code>

          <country>Thailand</country>
        </postal>

        <phone>+66 (0) 909-201060</phone>

        <email>glenzorn@gmail.com</email>
      </address>
    </author>

    <author fullname="Roland Schott" initials="R." surname="Schott">
      <organization>Deutsche Telekom</organization>

      <address>
        <postal>
          <street>Deutsche-Telekom-Allee 7</street>

          <street></street>

          <city>Darmstadt</city>

          <code>64295</code>

          <country>Germany</country>
        </postal>

        <email>Roland.Schott@telekom.de</email>
      </address>
    </author>

    <author fullname="Qin Wu" initials="Q." role="editor" surname="Wu">
      <organization>Huawei</organization>

      <address>
        <postal>
          <street>101 Software Avenue, Yuhua District</street>

          <city>Nanjing</city>

          <region>Jiangsu</region>

          <code>210012</code>

          <country>China</country>
        </postal>

        <email>sunseawq@huawei.com</email>
      </address>
    </author>

    <author fullname="Rachel Huang" initials="R." surname="Huang">
      <organization>Huawei</organization>

      <address>
        <postal>
          <street>101 Software Avenue, Yuhua District</street>

          <city>Nanjing</city>

          <code>210012</code>

          <country>China</country>
        </postal>

        <email>Rachel@huawei.com</email>
      </address>
    </author>

    <date month="July" year="2013" />


    <abstract>
      <t>This document defines three RTP Control Protocol (RTCP) Extended
      Report (XR) blocks that allow the reporting of loss, duplication, and
      discard summary statistics metrics in a range of RTP applications.</t>
    </abstract>
  </front>

  <middle>
    <section title="Introduction">
      <section title="Summary Statistics Metrics">
        <t>This document defines three new block types to augment those defined
        in <xref target="RFC3611"></xref> for use in a range of RTP
        applications:
<list style="symbols">
            <t>Burst/Gap Loss Summary Statistics Block</t>

            <t>Burst/Gap Discard Summary Statistics Block</t>

            <t>Frame Impairment Statistics Summary Block</t>
          </list></t>

        <t>The first two block types support the reporting of burst/gap loss
and burst/gap
        discard summary statistics including packet loss/discard proportion,
        mean, and variance and belong to the class of transport-related end-system metrics defined in <xref target="RFC6792"></xref>. These two
        blocks are intended to be used in conjunction with information from
        the Burst/Gap Loss Metrics Block <xref target="RFC6958"></xref> or
        Burst/Gap Discard Metrics Block <xref target="RFC7003"></xref>,
        on which these two blocks therefore depend. The metrics in the
Burst/Gap 
Loss Metrics Block and Burst/Gap Discard Metrics Block are
        consistent with the definitions of "burst", "gap", "loss", and "discard" in
        RTCP XR <xref target="RFC3611"></xref>.</t>



        <t>The third block supports the reporting of detailed video statistics
        for each frame type, including the number of frames received, lost, and
        discarded of each frame type in the Group of Pictures (GOP) and
        additional data allowing the calculation of statistical parameters
        (e.g., the proportion of each frame type impaired by packet loss and
        discard). The metrics defined in this block belong to the class of
        application-level metrics defined in <xref
        target="RFC6792"></xref>.</t>
      </section>

      <section title="RTCP and RTCP Extended Reports">
        <t>The use of RTCP for reporting is defined in <xref
        target="RFC3550"></xref>. <xref target="RFC3611"></xref> defined an
        extensible structure for reporting using an RTCP Extended Report (XR).
        This document defines a new Extended Report block for use with <xref
        target="RFC3550"></xref> and <xref target="RFC3611"></xref>.</t>
      </section>

      <section title="Performance Metrics Framework">
        <t>The RTP Monitoring Framework <xref target="RFC6792"></xref>
        provides guidelines for reporting block format using RTCP XR. Metrics
        described in this document are in accordance with the guidelines in <xref
        target="RFC6792"></xref>.</t>
      </section>

      <section title="Applicability">
        <t>These metrics are applicable to a wide range of RTP applications
        and reflect transient IP problems that affect user experience. They
        can be used to form an accurate assessment of users' quality of
        experience and influence sender strategies to mitigate the
        problem.</t>
      </section>
    </section>

    <section title="Terminology">

        <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
        "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
        document are to be interpreted as described in <xref
        target="RFC2119">RFC 2119</xref>.</t>

        <t>In addition, the following term is defined:</t>

        <t><list style="hanging">
            <t hangText="Frame Type"><vspace blankLines="1" />In many cases, a
            video frame is compressed using different algorithms. Frame type
            is used to identify different algorithms for video frames. Two
            frame types used in the different video algorithms are the Key
            frame and Derived frames. The Key frame is independently coded
            without prediction from other pictures and used as a reference
            frame for predicting other pictures. Derived frames are
            predicatively coded and derived from a Key frame using a
            prediction algorithm. If there is no video image compression, all
            frames are Key frames. </t>
          </list></t>
      </section>


    <section title="Transport-Related End-System Metrics">
      <section anchor="BGLSS"
               title="Burst/Gap Loss Summary Statistics Block">
        <t>This block extends packet loss and discard metrics defined in
        Section 4.7.1 of <xref target="RFC3611"></xref>. The metrics described here are intended to
        be used as described in this section, in conjunction with information
        from the Measurement Information Block <xref target="RFC6776"></xref>
        (which MUST be present in the same RTCP packet as the Burst/Gap Loss Metrics
        Block <xref target="RFC6958"></xref>) and also with the metric "cumulative number of packets lost"
        provided in standard RTCP <xref target="RFC3550"></xref>. Instances of
        this metrics block use the synchronization source (SSRC) to refer to the
        separate auxiliary Measurement Information Block <xref
        target="RFC6776"></xref>, which describes measurement periods in use
        (see <xref target="RFC6776"></xref>, Section 4.2). This metrics block
        relies on the measurement period in the Measurement Information Block
        indicating the span of the report and SHOULD be sent in the same
        compound RTCP packet as the Measurement Information Block. If the
        measurement period is not received in the same compound RTCP packet as
        this metrics block, this metrics block MUST be discarded.</t>

        <t>The metrics carried in this metrics block provide information
        relevant to statistical parameters, including Burst Loss Rate, Gap
        Loss Rate, Burst Duration Mean, and Burst Duration Variance, and are
        measured at the receiving end of the RTP stream using burst/gap loss
        metrics defined in <xref target="RFC6958"></xref> and other information
        that is sent together with this report block.</t>

        <section title="Report Block Structure">
<t> 
The structure of the Burst/Gap Loss Summary Statistics Block is as follows.

          <figure>
            <artwork>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      BT=17    | I | Reserved  |        Block Length           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                         SSRC of Source                        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Burst Loss Rate        |         Gap Loss Rate         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Burst Duration Mean     |    Burst Duration Variance    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</artwork>
          </figure>
</t>
        </section>

        <section title="Definition of Fields in Loss Summary Statistics Block">
          <t><list style="hanging">
              <t hangText="Block Type (BT): 8 bits"><vspace
              blankLines="1" />A Burst/Gap Loss Summary Statistics Block is
              identified by the constant 17. </t>

              <t hangText="Interval Metric flag (I): 2 bits"><vspace
              blankLines="1" />This field is used to indicate whether the
              burst/gap loss summary statistics metrics are Sampled, Interval,
              or Cumulative metrics: <list>
                  <t>I=10: Interval Duration - the reported value applies to
                  the most recent measurement interval duration between
                  successive metrics reports.</t>

                  <t>I=11: Cumulative Duration - the reported value applies to
                  the accumulation period characteristic of cumulative
                  measurements.</t>

                  <t>I=01: Sampled Value - the reported value is a sampled
                  instantaneous value.</t>
                </list>In this document, the value I=00 is the reserved value
              and MUST NOT be used.</t>

              <t hangText="Reserved: 6 bits"><vspace blankLines="1" /> This
              field is reserved for future definition. In the absence of such
              a definition, the bits in this field MUST be set to zero and
              ignored by the receiver (see <xref target="RFC6709"/>, Section 4.2). </t>

              <t hangText="Block Length: 16 bits"><vspace blankLines="1" />
              The constant 3, in accordance with the definition of this field
              in Section 3 of <xref target="RFC3611">RFC 3611</xref>.</t>

              <t hangText="SSRC of Source: 32 bits"><vspace blankLines="1" />
              As defined in Section 4.1 of <xref
              target="RFC3611">RFC 3611</xref>. </t>

              <t hangText="Burst Loss Rate: 16 bits"><vspace
              blankLines="1" />The fraction of packets lost during bursts
              since the beginning of reception, expressed as a fixed point
              number with the binary point immediately after the left-most
              bit. This value is calculated by dividing Packets Lost in Bursts
              by Total Packets Expected in Bursts, multiplying the result of
              the division by 32768 (0x8000), and keeping only the integer
              part. The maximum value is thus 0x8000. Representing this as a
              formula: <vspace blankLines="1" /> integer-part( (Packets Lost
              in Bursts / Total Packets Expected in Bursts) * 0x8000 ) <vspace
              blankLines="1" /> If the measurement is unavailable, the value
              0xFFFF MUST be reported.</t>

              <t hangText="Gap Loss Rate: 16 bits"><vspace
              blankLines="1" />The fraction of packets lost during gaps since
              the beginning of reception expressed as a fixed point number
              with the binary point immediately after the left-most bit. This
              value is calculated by dividing the difference between number of
              packets lost and Packets Lost in Bursts by the difference
              between Packets Expected and Total Packets Expected in Bursts,
              multiplying the result of the division by 32768 (0x8000), and
              keeping only the integer part. The maximum value is thus 0x8000.
              Representing this as a formula: <vspace
              blankLines="1" />integer-part ( (number of packets lost -
              Packets Lost in Bursts)/ (Packets Expected - Total Packets
              Expected in Bursts) * 0x8000 ) <vspace blankLines="1" /> where
              "number of packets lost" is obtained from <xref
              target="RFC3550">standard RTCP</xref> and Packets Expected is
              calculated as the difference between "extended last sequence
              number" and "extended first sequence number" (Interval or
              Cumulative) provided in the Measurement Identity and Information
              Block <xref target="RFC6776"></xref>. <vspace
              blankLines="1" />If the measurement is unavailable, the value
              0xFFFF MUST be reported. <vspace blankLines="1" />Note that if
              the metric is to be calculated on an Interval basis, a
              difference must be taken between the current and preceding
              values of "cumulative number of packets lost" in RTCP to obtain
              the "number of packets lost" for the reporting interval. </t>

              <t hangText="Burst Duration Mean: 16 bits"><vspace
              blankLines="1" /> The mean burst duration is obtained as the
              quotient: <vspace blankLines="1" /> mean = Sum of Burst
              Durations / Number of Bursts <vspace blankLines="1" /> where
              "Sum of Burst Durations" and "Number of Bursts" is obtained from
              the RTCP XR Burst/Gap Loss Metrics Block <xref target="RFC6958"></xref>.
              <vspace blankLines="1" />If the measurement is unavailable, the
              value 0xFFFF MUST be reported. </t>

              <t hangText="Burst Duration Variance: 16 bits"><vspace
              blankLines="1" /> The variance of the burst duration is obtained
              using the standard result: <vspace blankLines="1" /> var = ( Sum
              of Squares of Burst Durations - Number of Bursts * mean^2 ) /
              (Number of Bursts - 1) <vspace blankLines="1" /> where "Sum of
              Squares of Burst Durations" and "Number of Bursts" is obtained
              from the RTCP XR Burst/Gap Loss Metrics Block <xref
              target="RFC6958"></xref>. <vspace blankLines="1" />If the
              measurement is unavailable, the value 0xFFFF MUST be reported.
              </t>
            </list></t>
        </section>
      </section>

      <section anchor="BGDSS"
               title="Burst/Gap Discard Summary Statistics Block">
        <t>This block extends packet loss and discard metrics defined in
        Section 4.7.1 of <xref target="RFC3611"/>. The metrics described here are intended to
        be used as described in this section, in conjunction with information
        from the Measurement Identity Block <xref target="RFC6776"></xref>
        (which MUST be present in the same RTCP packet as the Burst/Gap
        Discard Summary Statistics Block).</t>

        <t>These metrics provide information relevant to statistical
        parameters, including Burst Discard Rate and Gap Discard Rate, and are
        measured at the receiving end of the RTP stream using burst/gap
        discard metrics defined in <xref target="RFC7003"></xref> and other
        information that is sent together with this report block.</t>

        <t>Instances of this metrics block use the synchronization source
        (SSRC) to refer to the separate auxiliary Measurement Information block <xref
        target="RFC6776"></xref> that describes measurement periods in use
        (see <xref target="RFC6776"></xref>, Section 4.2). This metrics block
        relies on the measurement period in the Measurement Information Block
        indicating the span of the report and SHOULD be sent in the same
        compound RTCP packet as the measurement information block. If the
        measurement period is not received in the same compound RTCP packet as
        this metrics block, this metrics block MUST be discarded.</t>

        <section title="Report Block Structure">

<t>
The structure of the Burst/Gap Discard Summary Statistics Block is as follows.
          <figure>
            <artwork>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      BT=18    | I |  Reserved |        Block Length           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          SSRC of Source                       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |          Burst Discard Rate   |        Gap Discard Rate       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</artwork>
          </figure>
</t>
        </section>

        <section title="Definition of Fields in Burst/Gap Discard Summary Statistics Block">
          <t><list style="hanging">
              <t hangText="Block Type (BT): 8 bits"><vspace blankLines="1" />
              A Burst/Gap Discard Summary Statistics Block is identified by the
              constant 18. </t>

              <t hangText="Interval Metric flag (I): 2 bits"><vspace
              blankLines="1" />This field is used to indicate whether the
              burst/gap discard summary statistics metrics are Sampled,
              Interval, or Cumulative metrics: <list>
                  <t>I=10: Interval Duration - the reported value applies to
                  the most recent measurement interval duration between
                  successive metrics reports.</t>

                  <t>I=11: Cumulative Duration - the reported value applies to
                  the accumulation period characteristic of cumulative
                  measurements.</t>

                  <t>I=01: Sampled Value - the reported value is a sampled
                  instantaneous value.</t>
                </list><vspace blankLines="1" />In
              this document, the value I=00 is the reserved value and MUST NOT
              be used.</t>

              <t hangText="Reserved: 6 bits"><vspace blankLines="1" /> This
              field is reserved for future definition. In the absence of such
              a definition, the bits in this field MUST be set to zero and
              ignored by the receiver (see <xref target="RFC6709"/>, Section 4.2). </t>

              <t hangText="Block Length: 16 bits"><vspace blankLines="1" />
              The constant 2, in accordance with the definition of this field
              in Section 3 of <xref target="RFC3611">RFC 3611</xref>. </t>

              <t hangText="SSRC of Source: 32 bits"><vspace blankLines="1" />
              As defined in Section 4.1 of <xref
              target="RFC3611">RFC3611</xref>. </t>

              <t hangText="Burst Discard Rate: 16 bits"><vspace
              blankLines="1" />The fraction of packets discarded during bursts
              since the beginning of reception, expressed as a fixed point
              number with the binary point immediately after the left-most
              bit. This value is calculated by dividing Packets Discarded in
              Bursts by Total Packets Expected in Bursts, multiplying the
              result of the division by 32768 (0x8000), and keeping only the
              integer part, according to the formula: <vspace
              blankLines="1" />integer-part( (Packets Discarded in Bursts /
              Total Packets Expected in Bursts) * 0x8000 )<vspace
              blankLines="1" />If the measurement is unavailable, the value
              0xFFFF MUST be reported.</t>

              <t hangText="Gap Discard Rate: 16 bits"><vspace
              blankLines="1" />The fraction of packets discarded during gaps
              since the beginning of reception expressed as a fixed point
              number with the binary point immediately after the left-most
              bit. This value is calculated by dividing the difference between
              number of packets discarded and Packets Discarded in Bursts by
              the difference between Packets Expected and Total Packets
              Expected in Bursts, multiplying the result of the division by
              32768 (0x8000), and keeping only the integer part. The maximum
              value is thus 0x8000. Representing this as a formula: <vspace
              blankLines="1" />integer-part( (number of packets discarded -
              Packets Discarded in Bursts) /(Packets Expected - Total Packets
              Expected in Bursts) * 0x8000 )<vspace blankLines="1" />where
              "number of packets discarded" is obtained from the RTCP XR
              Discard Count Block <xref target="RFC7002"></xref> and filled
              with the sum of packets discarded due to early arrival (DT=1)
              and packets discarded due to late arrival (DT=2) and Packets
              Expected is calculated as the difference between "extended last
              sequence number" and "extended first sequence number" (Interval
              or Cumulative) provided in the Measurement Information Block
              <xref target="RFC6776"></xref>. In order for the Burst/ Gap
              Discard Summary Statistics Block to be meaningful, 2 instances
              of the Discard Count Block with DT=1 and DT=2 MUST be included
              in the same RTCP XR packet as the Burst/Gap Discard Summary
              Statistics Block.<vspace blankLines="1" />If the measurement is
              unavailable, the value 0xFFFF MUST be reported.</t>
            </list></t>
        </section>
      </section>
    </section>

    <section title="Application-Level Metrics">
      <section anchor="FISS"
               title="Frame Impairment Statistics Summary Block">
        <t>This block extends the statistics summary report mechanism defined in
        Section 4.6 of <xref target="RFC3611"/> and reports statistics on which frame types were
        affected beyond the information carried in the Statistics Summary
        Report Block RTCP packet specified in Section 4.6 of 
        <xref target="RFC3611"></xref>. Information is measured at the
        receiving end of the RTP stream and recorded about the number of
        frames received, lost frames, duplicated frames, and lost partial
        frames. Such information can be useful for network management and
        video quality monitoring.</t>


        <section title="Report Block Structure">

<t>
The structure of the Frame Impairment Statistics Summary Block is as follows.
          <figure>
            <artwork>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      BT=19    |T|   Reserved  |        Block Length           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                        SSRC of Source                         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |          begin_seq            |             end_seq           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      discarded_frames                         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          dup_frames                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      full_lost_frames                         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      partial_lost_frames                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</artwork>
          </figure>
</t>
        </section>

        <section title="Definition of Fields in Frame Impairment Statistics Summary Block">
          <t><list style="hanging">
              <t hangText="Block Type (BT): 8 bits"><vspace
              blankLines="1" />A Frame Impairment Statistics Summary Block is
              identified by the constant 19. </t>

              <t hangText="Frame type indicator (T): 1 bit"><vspace
              blankLines="1" />This field is used to indicate the frame type
              to be reported. The bit is set to 0 if the full_lost_frames,
              partial_lost_frames, dup_frames, and discarded_frames fields
              contain Key frame (reference frame)
              counts or 1 if they contain Derived frame counts. Note that if
              both the Key frame and Derivation frame report are sent, they
              should be sent in the same RTCP compound packet using two Frame
              Impairment Statistics Summary Blocks. </t>

              <t hangText="Reserved: 7 bits"><vspace blankLines="1" />This
              field is reserved for future definition. In the absence of such
              a definition, the bits in this field MUST be set to zero and
              ignored by the receiver (see <xref target="RFC6709"/>, Section 4.2).</t>

              <t hangText="Block Length: 16 bits"><vspace blankLines="1" />The
              constant 6, in accordance with the definition of this field in
              Section 3 of <xref target="RFC3611">RFC 3611</xref>. </t>

              <t hangText="SSRC of Source: 32 bits"><vspace
              blankLines="1" />As defined in Section 4.1 of <xref
              target="RFC3611">RFC 3611</xref>.</t>

              <t hangText="begin_seq: 16 bits "><vspace blankLines="1" /> As
              defined in Section 4.1 of <xref target="RFC3611">RFC
              3611</xref>.</t>

              <t hangText="end_seq: 16 bits "><vspace blankLines="1" />As
              defined in Section 4.1 of <xref target="RFC3611">RFC
              3611</xref>.</t>

              <t
              hangText="Number of discarded frames (discarded_frames): 32 bits"><vspace
              blankLines="1" />Number of frames discarded in the above
              sequence number interval.</t>

              <t
              hangText="Number of duplicate frames (dup_frames): 32 bits"><vspace
              blankLines="1" />Number of duplicate frames received in the
              above sequence number interval.</t>

              <t
              hangText="Number of full lost frames (full_lost_frames): 32 bits"><vspace
              blankLines="1" />A frame is either split across multiple packets
              or carried in only one packet. If the whole frame or all the
              packets of the frame are lost, this frame is regarded as one
              full_lost_frame. The full_lost_frames can be inferred from
              packet(s) that comprise the frame. The full_lost_frames is
              equivalent to the number of full lost frames in the above
              sequence number interval. </t>

              <t
              hangText="Number of partial lost frames (partial_lost_frames): 32 bits"><vspace
              blankLines="1" />When a frame is split across multiple packets
              and some packets of the frame are lost, this frame is regarded
              as one partial_lost_frame. The partial_lost_frames can be
              inferred from packets that comprise the frame. The value of the
              partial_lost_frames field is equivalent to the number of partial
              lost frames in the above sequence number interval. </t>
            </list></t>
        </section>
      </section>
    </section>

    <section title="SDP Signaling">
      <t>RFC 3611 defines the use of SDP (Session Description Protocol) <xref
      target="RFC4566"></xref> for signaling the use of XR blocks. However, XR
      blocks MAY be used without prior signaling (see Section 5 of
      <xref target="RFC3611"/>).</t>

      <section title="SDP rtcp-xr Attribute Extension">
        <t>This section augments the SDP <xref target="RFC4566"></xref>
        attribute "rtcp-xr" defined in Section 5.1 of <xref target="RFC3611"/> by providing
        three additional values of "xr-format" to signal the use of the report
        block defined in this document. The ABNF <xref target="RFC5234"/>
syntax is as follows.</t>



        <figure align="left">
          <artwork type="abnf">
xr-format =/ xr-bglss-block
           / xr-bgdss-block
           / xr-fiss-block
xr-bglss-block = "burst-gap-loss-stat"
xr-bgdss-block = "burst-gap-discard-stat"
xr-fiss-block  = "frame-impairment-stat"
</artwork>
        </figure>
      </section>

      <section title="Offer/Answer Usage">
        <t>When SDP is used in offer/answer context, the SDP Offer/Answer
        usage defined in <xref target="RFC3611"></xref> for unilateral
        "rtcp-xr" attribute parameters applies. For detailed usage of
        Offer/Answer for unilateral parameter, refer to section 5.2 of <xref
        target="RFC3611"></xref>.</t>
      </section>
    </section>

    <section title="IANA Considerations">
      <t>New block types for RTCP XR are subject to IANA registration. For
      general guidelines on IANA considerations for RTCP XR, refer to RFC
      3611.</t>

      <section title="New RTCP XR Block Type Values">
        <t>This document assigns three new block type values in the 
"RTP Control Protocol Extended Reports (RTCP XR) Block Type Registry":


        <figure>
            <artwork>    
      Name:       BGLSS
      Long Name:  Burst/Gap Loss Summary Statistics Block
      Value       17
      Reference:  Section 3.1

      Name:       BGDSS
      Long Name:  Burst/Gap Discard Summary Statistics Block
      Value       18
      Reference:  Section 3.2

      Name:       FISS
      Long Name:  Frame Impairment Statistics Summary Block
      Value       19
      Reference:  Section 4.1
</artwork>
          </figure></t>
      </section>

      <section title="New RTCP XR SDP Parameters">
        <t>This document also registers three new SDP <xref
        target="RFC4566"></xref> parameters for the "rtcp-xr" attribute in the
        "RTP Control Protocol Extended Reports (RTCP XR) Session Description
Protocol (SDP) Parameters
        Registry": <figure>
            <artwork>
 *  "burst-gap-loss-stat"
 *  "burst-gap-discard-stat"
 *  "frame-impairment-stat"
</artwork>
          </figure></t>
      </section>

      <section title="Contact Information for Registrations">
        <t>The contact information for the registrations is:</t>

        <figure>
          <artwork>
    Qin Wu (sunseawq@huawei.com)
    101 Software Avenue, Yuhua District
    Nanjing, Jiangsu  210012
    China 
</artwork>
        </figure>
      </section>
    </section>

    <section title="Security Considerations">
      <t>The new RTCP XR blocks in this document do not introduce any
      new security considerations beyond those described in <xref target="RFC3611"/>.</t>
    </section>



    <section title="Acknowledgements">
      <t>The authors would like to thank Bill Ver Steeg, David R. Oran, Ali
      Begen, Colin Perkins, Roni Even, Youqing Yang, Wenxiao Yu, Yinliang Hu,
      Jing Zhao, Ray van Brandenburg, Claire Bi, Dan Romascanu, Alfred Morton,
      Jr., Klaas Wierenga, Barry Leiba, Robert Sparks, Ralph Droms, and
      Benoit Claise for their valuable comments and suggestions on this
      document.</t>
    </section>
  </middle>

  <back>
    <references title="Normative References">
      &rfc3611;

      &rfc2119;

      &rfc4566;

      &rfc3550;

      &rfc5234;

      &rfc6776;

<!-- draft-ietf-xrblock-rtcp-xr-discard -->

      <reference anchor="RFC7002">
        <front>
          <title>RTP Control Protocol (RTCP) Extended Report (XR) Block for
          Discard Count Metric Reporting</title>

          <author fullname="Alan Clark" initials="A" surname="Clark">
            <organization></organization>
          </author>

          <author fullname="Glen Zorn" initials="G" surname="Zorn">
            <organization></organization>
          </author>

          <author fullname="Qin Wu" initials="Q." surname="Wu">
            <organization></organization>
          </author>

          <date month="July" year="2013" />

        </front>

        <seriesInfo name="RFC"
                    value="7002" />
      </reference>

<!-- draft-ietf-xrblock-rtcp-xr-burst-gap-loss Now RFC 6958-->
&rfc6958;

<!-- draft-ietf-xrblock-rtcp-xr-burst-gap-discard -->

      <reference anchor="RFC7003">
        <front>
          <title>RTP Control Protocol (RTCP) Extended Report (XR) Block for
          Burst/Gap Discard Metric Reporting</title>

          <author fullname="Alan Clark" initials="A" surname="Clark">
            <organization></organization>
          </author>

          <author fullname="Rachel Huang" initials="R" surname="Huang">
            <organization></organization>
          </author>

          <author fullname="Qin Wu" initials="Q" surname="Wu" role="editor">
            <organization></organization>
          </author>

          <date month="July" year="2013" />

        </front>

        <seriesInfo name="RFC"
                    value="7003" />

      </reference>
    </references>

    <references title="Informative References">

&rfc6709;
&rfc6792;
&rfc6390;

    </references>

    <section title="Metrics Represented Using the Template from RFC 6390">


      <t><list style="letters">
          <t>Burst Loss Rate Metric
<list
              style="symbols">
              <t>Metric Name: RTP Burst Loss Rate</t>

              <t>Metric Description: The fraction of packets lost during
              bursts since the beginning of reception for RTP traffic.</t>

              <t>Method of Measurement or Calculation: See Section 3.1.2,
              Burst Loss Rate definition.</t>

              <t>Units of Measurement: See Section 3.1.2, Burst Loss Rate
              definition.</t>

              <t>Measurement Point(s) with Potential Measurement Domain: See
              Section 3.1, 2nd paragraph. </t>

              <t>Measurement Timing: See Section 3.1, 1st paragraph
              for measurement timing and Section 3.1.2 for Interval
              Metric flag.</t>

              <t>Use and Applications: See Section 1.4.</t>

              <t>Reporting Model: See RFC 3611.</t>
            </list></t>

          <t>Gap Loss Rate Metric

<list
              style="symbols">
              <t>Metric Name: RTP Gap Loss Rate</t>

              <t>Metric Description: The fraction of packets lost during gaps
              since the beginning of reception for RTP traffic.</t>

              <t>Method of Measurement or Calculation: See Section 3.1.2, Gap
              Loss Rate definition.</t>

              <t>Units of Measurement: See Section 3.1.2, Gap Loss Rate
              definition.</t>

              <t>Measurement Point(s) with Potential Measurement Domain: See
              Section 3.1, 2nd paragraph.</t>

              <t>Measurement Timing: See Section 3.1, 1st paragraph
              for measurement timing and Section 3.1.2 for Interval
              Metric flag.</t>

              <t>Use and Applications: See Section 1.4.</t>

              <t>Reporting Model: See RFC 3611.</t>
            </list></t>

          <t>Burst Duration Mean Metric<list
              style="symbols">
              <t>Metric Name: RTP Burst Duration Mean</t>

              <t>Metric Description: The mean duration of the burst periods
              that have occurred since the beginning of reception for RTP
              traffic.</t>

              <t>Method of Measurement or Calculation: See Section 3.1.2,
              Burst Loss Rate definition.</t>

              <t>Units of Measurement: This metric is expressed in
              milliseconds.</t>

              <t>Measurement Point(s) with Potential Measurement Domain: See
              Section 3.1, 2nd paragraph. </t>

              <t>Measurement Timing: See Section 3.1, 1st paragraph
              for measurement timing and Section 3.1.2 for Interval
              Metric flag.</t>

              <t>Use and Applications: See Section 1.4.</t>

              <t>Reporting Model: See RFC 3611.</t>
            </list></t>

          <t>Burst Duration Variance Metric
<list
              style="symbols">
              <t>Metric Name: RTP Burst Duration Variance</t>

              <t>Metric Description: The variance duration of the burst
              periods that have occurred since the beginning of reception for
              RTP traffic.</t>

              <t>Method of Measurement or Calculation: See Section 3.1.2,
              Burst Duration Variance definition.</t>

              <t>Units of Measurement: See Section 3.1.2, Burst Duration
              Variance definition.</t>

              <t>Measurement Point(s) with Potential Measurement Domain: See
              Section 3.1, 2nd paragraph.</t>

              <t>Measurement Timing: See Section 3.1, 1st paragraph
              for measurement timing and Section 3.1.2 for Interval
              Metric flag.</t>

              <t>Use and Applications: See Section 1.4.</t>

              <t>Reporting Model: See RFC 3611.</t>
            </list></t>

          <t>Burst Discard Rate Metric<list
              style="symbols">
              <t>Metric Name: RTP Burst Discard Rate</t>

              <t>Metric Description: The fraction of packets discarded during
              bursts since the beginning of reception for RTP traffic.</t>

              <t>Method of Measurement or Calculation: See Section 3.2.2,
              Burst Discard Rate definition.</t>

              <t>Units of Measurement: See Section 3.2.2, Burst Discard Rate
              definition.</t>

              <t>Measurement Point(s) with Potential Measurement Domain: See
              Section 3.2, 2nd paragraph. </t>

              <t>Measurement Timing: See Section 3.2, 3rd paragraph 
              for measurement timing and Section 3.1.2 for Interval
              Metric flag.</t>

              <t>Use and Applications: See Section 1.4.</t>

              <t>Reporting Model: See RFC 3611.</t>
            </list></t>

          <t>Gap Discard Rate Metric<list
              style="symbols">
              <t>Metric Name: RTP Gap Discard Rate</t>

              <t>Metric Description: The fraction of packets discarded during
              gaps since the beginning of reception for RTP traffic.</t>

              <t>Method of Measurement or Calculation: See Section 3.2.2, Gap
              Discard Rate definition.</t>

              <t>Units of Measurement: See Section 3.2.2, Gap Discard Rate
              definition.</t>

              <t>Measurement Point(s) with Potential Measurement Domain: See
              Section 3.2, 2nd paragraph.</t>

              <t>Measurement Timing: See Section 3.2, 3rd paragraph 
              for measurement timing and Section 3.1.2 for Interval
              Metric flag.</t>

              <t>Use and Applications: See Section 1.4.</t>

              <t>Reporting Model: See RFC 3611.</t>
            </list></t>

          <t>Number of Discarded Frames Metric<list
              style="symbols">
              <t>Metric Name: Number of discarded frames in RTP</t>

              <t>Metric Description: Number of frames discarded in a certain
              sequence number interval for RTP traffic.</t>

              <t>Method of Measurement or Calculation: See Section 4.1.2,
              Number of discarded frames definition. This metric is
              directly measured and can be inferred from packet(s) that
              comprise the frame.</t>

              <t>Units of Measurement: This metric is expressed as a 32-bit
              unsigned integer value.</t>

              <t>Measurement Point(s) with Potential Measurement Domain: See
              Section 4.1, 1st paragraph. </t>

              <t>Measurement Timing: See Section 4.1, Number of
              discarded frames definition. This metric relies on the sequence
              number interval and RTCP RR packet of <xref target="RFC3550"/> to determine
              measurement timing.</t>

              <t>Use and Applications: See Section 1.4.</t>

              <t>Reporting Model: See RFC 3611.</t>
            </list></t>

          <t>Number of Duplicate Frames Metric<list
              style="symbols">
              <t>Metric Name: Number of duplicate frames in RTP</t>

              <t>Metric Description: Number of frames duplicated in a certain
              sequence number interval for RTP traffic.</t>

              <t>Method of Measurement or Calculation: See Section 4.1.2,
              Number of duplicate frames definition. This metric is
              directly measured and can be inferred from packet(s) that
              comprise the frame.</t>

              <t>Units of Measurement: This metric is expressed as a 32-bit
              unsigned integer value.</t>

              <t>Measurement Point(s) with Potential Measurement Domain: See
              Section 4.1, 1st paragraph. </t>

              <t>Measurement Timing: See Section 4.1, Number of
              duplicate frames definition. This metric relies on the sequence
              number interval to determine measurement timing. </t>

              <t>Use and Applications: See Section 1.4.</t>

              <t>Reporting Model: See RFC 3611.</t>
            </list></t>

          <t>Number of Full Lost Frames Metric

<list
              style="symbols">
              <t>Metric Name: Number of full lost frames in RTP</t>

              <t>Metric Description: A frame is either split across multiple
              RTP packets or carried in only one RTP packet. If the whole frame
              or all the packets of the frame is lost, this frame is regarded
              as one full_lost_frame. </t>

              <t>Method of Measurement or Calculation: See Section 4.1.2,
              Number of full lost frames definition.</t>

              <t>Units of Measurement: This metric is expressed as a 32-bit
              unsigned integer value.</t>

              <t>Measurement Point(s) with Potential Measurement Domain: See
              Section 4.1, 1st paragraph.</t>

              <t>Measurement Timing: See Section 4.1, Number of full
              lost frames definition. This metric relies on the sequence
              number interval to determine measurement timing. </t>

              <t>Use and Applications: See Section 1.4.</t>

              <t>Reporting Model: See RFC 3611.</t>
            </list></t>

          <t>Number of Partial Lost Frames Metric

<list style="symbols">
              <t>Metric Name: Number of partial lost frames in RTP</t>

              <t>Metric Description: When a frame is split across multiple RTP
              packets and some RTP packets of the frame are lost, this frame
              is regarded as one partial_lost_frame.</t>

              <t>Method of Measurement or Calculation: See Section 4.1.2,
              Number of partial lost frames definition.</t>

              <t>Units of Measurement: This metric is expressed as a 32-bit
              unsigned integer value.</t>

              <t>Measurement Point(s) with Potential Measurement Domain: See
              Section 4.1, 1st paragraph. </t>

              <t>Measurement Timing: See Section 4.1, Number of
              partial lost frames definition. This metric relies on the sequence
              number interval to determine measurement timing. </t>

              <t>Use and Applications: See Section 1.4.</t>

              <t>Reporting Model: See RFC 3611.</t>
            </list></t>
        </list></t>
    </section>

  </back>
</rfc>
