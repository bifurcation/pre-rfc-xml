<?xml version="1.0" encoding="US-ASCII"?>

<!DOCTYPE rfc SYSTEM "rfc2629.dtd">
<?rfc toc="yes"?>
<?rfc tocdepth="6"?>
<?rfc symrefs="yes"?>
<?rfc sortrefs="yes"?>
<?rfc rfcedstyle="yes"?> 
<?rfc subcompact="no"?>
<?rfc strict="no" ?>


<rfc number="5515" category="info">
	<front>
		<title abbrev="L2TP Access Line AVP Extensions">
			Layer 2 Tunneling Protocol (L2TP) Access Line Information Attribute&nbsp;Value&nbsp;Pair&nbsp;(AVP)&nbsp;Extensions
			</title>

              <author fullname="Vince Mammoliti" initials="V."
                      surname="Mammoliti">
                      <organization>Cisco Systems</organization>
                      <address>
                              <postal>
                                      <street>181 Bay Street, Suite 3400</street>
                                      <street/>
                                      <city>Toronto</city>
                                      <code>M5J 2T3</code>
                                      <region>ON</region>
                                      <country>Canada</country>
                              </postal>
                              <email>vince@cisco.com</email>
                      </address>
              </author>

		<author fullname="Carlos Pignataro" initials="C.M."
			surname="Pignataro">
			<organization>Cisco Systems</organization>
			<address>
				<postal>
					<street>7200 Kit Creek Road</street>
					<street>PO Box 14987</street>
					<city>Research Triangle Park</city>
					<code>27709</code>
					<region>NC</region>
					<country>USA</country>
				</postal>
				<email>cpignata@cisco.com</email>
			</address>
		</author>

              <author fullname="Peter Arberg" initials="P."
                      surname="Arberg">
                      <organization>Redback Networks</organization>
                      <address>
                              <postal>
                                      <street>300 Holger Way</street>
                                      <street/>
                                      <city>San Jose</city>
                                      <code>95134</code>
                                      <region>CA</region>
                                      <country>USA</country>
                              </postal>
                              <email>parberg@redback.com</email>
                      </address>
              </author>

              <author fullname="John Gibbons" initials="J."
                      surname="Gibbons">
                      <organization>Juniper Networks </organization>
                      <address>
                              <postal>
                                      <street>10 Technology Park Drive</street>
                                      <street/>
                                      <city>Westford</city>
                                      <code>01886</code>
                                      <region>MA</region>
                                      <country>USA</country>
                              </postal>
                              <email>jgibbons@juniper.net</email>
                      </address>
              </author>

              <author fullname="Paul Howard" initials="P."
                      surname="Howard">
                      <organization/>
                      <address>
                              <email>howsoft@mindspring.com</email>
                      </address>
              </author>

		<date month="April" year="2009"/>

<keyword>L2TP</keyword>
<keyword>Access Line Information</keyword>
<keyword>DSLAM</keyword>


		<abstract>
			<t>
This document describes a set of Layer 2 Tunneling Protocol (L2TP)
Attribute Value Pair (AVP) extensions designed to carry the subscriber
Access Line identification and characterization information that
arrives at the Broadband Remote Access Server (BRAS) with L2TP Access
Concentrator (LAC) functionality.  It also describes a mechanism to
report connection speed changes, after the initial connection speeds
are sent during session establishment.  The primary purpose of this
document is to provide a reference for DSL equipment vendors wishing
to interoperate with other vendors' products.  The L2TP AVPs defined
in this document are applicable to both L2TPv2 and L2TPv3.
			</t>
		</abstract>


	</front>


	<middle>

		<section anchor="Intro" title="Introduction">
			<t>
Access Nodes (ANs), referred to as Digital Subscriber Line Access Multiplexers (DSLAMs) in DSL, are adding 
enhancement features to forward, via in-band signaling, subscriber Access Line 
identification and characterization information to their connected upstream 
Broadband Remote Access Server (BRAS) with L2TP Access Concentrator
(LAC) functionality. 
			</t>

			<t>
The Access Node/DSLAM may forward the information via one or more of the 
following methods: 
<list style="symbols">
  <t>
Vendor-Specific Point-to-Point Protocol over Ethernet (PPPoE) Tags 
<xref target="RFC2516"/>.
  </t>
  <t>
DHCP Relay Options 
<xref target="RFC3046"/>
and Vendor-Specific Information Suboptions 
<xref target="RFC4243"/>.
  </t>
  <t>
Access Node Control Protocol <xref target="ANCP"/>.
  </t>
</list>
			</t>

			<t>
Currently, this information is been collected on the BRAS and
forwarded to a radius server via <xref target="RFC4679"/>.
			</t>

			<t>
This document describes the new additional L2TP AVPs that were created to 
forward the subscriber line identification and characterization information 
received at the BRAS/LAC to the terminating L2TP Network Server (LNS).
It also
describes a mechanism by which the LAC may report connection speed
changes to the LNS, after the initial connection speeds are sent
by the LAC during session establishment.
			</t>

			<t>
The L2TP AVPs defined in this document MAY be used with either an L2TPv2
<xref target="RFC2661"/> or L2TPv3 
<xref target="RFC3931"/> implementation.
			</t>

			<t>
The information acquired may be used to provide authentication, policy, and 
accounting functionality.  It may also be collected and used for management 
and troubleshooting purposes.
			</t>

              </section> <!-- EO Intro -->


              <section anchor="Terminology"
               title="Terminology">
			<t>
The following sections define the usage and meaning of certain specialized
terms
in the context of this document.
			</t>

              <section anchor="Terminology.1" title="Requirements Language">
		    <t>The key words &quot;MUST&quot;, &quot;MUST NOT&quot;,
		    &quot;REQUIRED&quot;, &quot;SHALL&quot;,
		    &quot;SHALL NOT&quot;, &quot;SHOULD&quot;,
		    &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;,
		    &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this document
		    are to be interpreted as described in <xref
		    target="RFC2119"/>.
		    </t>
              </section> <!-- EO Terminology.1 -->


              <section anchor="Terminology.2"
			title="Technical Terms and Acronyms">
			<t>


  Access Node/DSLAM
  <list hangIndent="3" style="empty"><t>
    The Access Node/DSLAM is a DSL signal terminator that contains a
    minimum of one Ethernet or ATM interface that serves as its upstream
    interface into which it aggregates traffic from several ATM-based
    (subscriber ports) or Ethernet-based downstream interfaces.
  </t></list>

  BNG
  <list hangIndent="3" style="empty"><t>
    Broadband Network Gateway.  A BNG is an IP edge router where
    bandwidth and Quality-of-Service (QoS) policies are applied; the functions performed by
    a BRAS are a superset of those performed by a BNG.
  </t></list>

  BRAS
  <list hangIndent="3" style="empty"><t>
    Broadband Remote Access Server.  A BRAS is a BNG and is the
    aggregation point for the subscriber traffic.  It provides
    aggregation capabilities (e.g.,  IP, PPP, Ethernet) between the
    access network and the core network.  Beyond its aggregation
    function, the BRAS is also an injection point for policy
    management and IP QoS in the access network.
  </t></list>

  DSL
  <list hangIndent="3" style="empty"><t>
    Digital Subscriber Line.  DSL is a technology that allows digital
    data transmission over wires in the local telephone network.
  </t></list>

  DSLAM
  <list hangIndent="3" style="empty"><t>
    Digital Subscriber Line Access Multiplexer.  DSLAM is a device
    that terminates DSL subscriber lines.  The data is aggregated and
    forwarded to ATM- or Ethernet-based aggregation networks.
  </t></list>

  IWF
  <list hangIndent="3" style="empty"><t>
    Interworking Function.  The set of functions required for
    interconnecting two networks of different technologies (e.g., ATM
    and Ethernet).  IWF is utilized to enable the carriage of Point-to-Point Protocol over ATM (PPPoA) traffic over PPPoE.
  </t></list>

  LAC
  <list hangIndent="3" style="empty"><t>
 L2TP Access Concentrator.
    If an L2TP Control Connection Endpoint (LCCE) is being used to
    cross-connect an L2TP session directly to a data link, we refer to
    it as an L2TP Access Concentrator (LAC).
(See <xref target="RFC2661"/> and 
<xref target="RFC3931"/>.)
  </t></list>

  LCCE
  <list hangIndent="3" style="empty"><t>
 L2TP Control Connection Endpoint.
    An L2TP node that exists at either end of an L2TP control
    connection.  May also be referred to as an LAC or LNS, depending
    on whether tunneled frames are processed at the data link (LAC) or
    network layer (LNS).
(See 
<xref target="RFC3931"/>.)
  </t></list>

  LNS
  <list hangIndent="3" style="empty"><t>
 L2TP Network Server.
    If a given L2TP session is terminated at the L2TP node and the
    encapsulated network layer (L3) packet processed on a virtual
    interface, we refer to this L2TP node as an L2TP Network Server
    (LNS).
(See <xref target="RFC2661"/> and 
<xref target="RFC3931"/>.)
  </t></list>

			</t>
              </section> <!-- EO Terminology.2 -->


              </section> <!-- EO Terminology -->


              <section anchor="Operation"
		 title="Access Line Information L2TP AVP Operation">

                      <t>
When the BRAS with LAC functionality receives the Access Line information from 
the Access Node and has determined that the session will be
established with an LNS,
the LAC will forward the information that it has collected in the newly 
defined
L2TP AVPs. The LAC will only forward the Access Line Information
AVPs that have populated values. 
                      </t>

                      <t>
Access Line information from any of the above methods must be available
at the BRAS prior to the start of session negotiation by the LAC.
This ensures Access Line parameters are reliably provided to the LNS and
avoids additional call set-up delays.  Under the condition that the LAC
has not received any Access Line information from any of the methods, as
default behavior the LAC SHOULD establish the L2TP session without waiting
for the Access Line information. In this case, the LAC MUST NOT send
any of the Access Line AVPs to the LNS. The LAC MAY, as local policy,
wait for the Access Line information from one or more of the methods
before forwarding the information in the Access Line L2TP AVPs to the LNS.
                      </t>

                      <t>
It is possible that the Access Node will only send a subset of the currently 
available line information defined. 
The LAC MUST be able to limit 
and/or filter which AVPs, if any, are sent to the LNS.
                      </t>

                      <t>
It is also possible that the LAC may receive Access Line information from multiple 
sources and at different time intervals. Local policy SHOULD determine which 
source(s) the LAC will accept.  The LAC SHOULD default to accepting ANCP-sourced 
parameters. 
                      </t>

                      <t>
The Access Line AVPs are sent as part of the L2TP Incoming-Call-Request (ICRQ) 
control message.
Connect Speed Update AVPs are sent as part of
the Connect-Speed-Update-Notification (CSUN)
or Connect-Speed-Update-Request
(CSURQ) L2TP messages
(see Sections <xref target="Messages" format="counter"/>,
<xref target="Messages.1" format="counter"/>, and
<xref target="Messages.2" format="counter"/>).

                      </t>


                      <t>
It is possible for the LAC to send updated Connect Speed characteristics
to the LNS via the Connect Speed Update AVP in an
L2TP Connect-Speed-Update-Notification (CSUN)
control message (see <xref target="Messages.1"/>).
To avoid unnecessary L2TP Connect-Speed-Update-Request and
Connect-Speed-Update-Notification message exchanges between
the LAC and LNS (e.g., during failover 
protocol recovery and resynchronization), the LAC signals in the
session establishment exchange its
ability and desire to provide speed updates during the life of the session.
This is achieved using
a new AVP, Connect Speed Update Enable (see <xref target="CSAVPs.2"/>),
sent in the L2TP Incoming-Call-Request (ICRQ) control message.
The absence 
of this AVP in the ICRQ message implies that the LAC will not
be sending any speed 
updates during the life of the session.
If the LAC is configured to accept ANCP-sourced parameters,
and supports providing speed updates during the life of a session,
it MUST send the Connect Speed Update Enable AVP in the ICRQ, since
this implies that speed updates may occur over
the life of the connection.
If the 
LAC is configured to only accept PPPoE vendor-specific tags, it MUST NOT send 
the Connect Speed Update Enable AVP in the ICRQ, since
the connection speed is only sent during
PPPoE discovery
and no further updates will occur during the life of the
connection.
                      </t>

              </section> <!-- EO Operation -->






              <section anchor="Messages"
               title="Additional L2TP Messages">
			<t>

If the Access Line information changes while the session is still maintained, 
connection speed updates MAY be sent from the LAC to the LNS via an L2TP 
Connect-Speed-Update-Notification (CSUN) Message
(see <xref target="Messages.1"/>).  A new AVP,
Connect Speed Update AVP (see <xref target="CSAVPs.1"/>),
is included in the CSUN message to report connect 
speed updates for a specific session
after the initial connection speeds are established (i.e., 
at session establishment
via the Tx Connect Speed and Rx Connect Speed AVPs,
Attribute Types 24 and
38, respectively, for L2TPv2 and 74 and 75, respectively, for L2TPv3).
The values established in the Connect Speed Update AVP (as well as the 
values for the initial Tx/Rx
Connect Speeds AVPs) are based on LAC local policy.  
For example, the LAC's local policy may use the
Actual-Data-Rate-Upstream and Actual-Data-Rate-Downstream as its
policy to report connection speed updates. For consistency, the same
local policy SHOULD equally apply both to the initial connect speeds
(conveyed during session establishment) and to the (optional) connect
speed updates (sent after the establishment of the session).


The CSUN message MAY be
sent periodically to 
the LNS based on local policy and may include more than one
Connect Speed Update 
AVP.  The bulking of more than one Connect Speed Update AVP into the CSUN 
message serves the following purposes:

<list style="symbols">
<t>
Dampens the rate of changes sent to the LNS when Access Line parameter 
updates are received at a high rate for a given line.
</t><t>
Efficiently forwards speed updates when Access Line parameter updates 
are received for many lines at the same time.
</t><t>
Supports failover <xref target="RFC4951"/> protocol recovery and
    resynchronization.
</t></list>

During failover recovery and resynchronization, to ensure the correct speeds 
have been applied to outstanding sessions on each tunnel, the LNS MAY issue a 
Connect-Speed-Update-Request (CSURQ) message
(see <xref target="Messages.2"/>) to the LAC containing one or more 
Session IDs.  In response to the CSURQ message, the LAC MUST issue a
Connect-Speed-Update-Notification (CSUN) message
(see <xref target="Messages.1"/>)
containing a Connect Speed Update AVP 
for each of the Session IDs requested in the CSURQ.
Note:
   In the CSUN response to the CSURQ, the LAC MUST NOT respond to
   unknown sessions, or to known sessions for which it did not issue a
   Connect Speed Update Enable AVP in the prior Incoming-Call-Request
   (ICRQ) control message for the session
(see Sections <xref target="Operation" format="counter"/>
and <xref target="CSAVPs.2" format="counter"/>).
</t><t>
This section defines two new Messages that are used
with the IETF Vendor ID of 0 in the Message Type AVP.
<list hangIndent="3" style="empty"><t>
The following message types will be assigned to these new messages
(see <xref target="IANA.1"/>):
<list>
	<t>28: (CSUN)     Connect-Speed-Update-Notification</t>
	<t>29: (CSURQ)    Connect-Speed-Update-Request</t>
</list>
</t></list>

			</t>
			<t>
The Mandatory (M) bit within the Message Type AVP SHOULD be clear
(i.e., not set) for the CSUN and CSURQ control messages,
to allow for an 
L2TP Control Connection Endpoint (LCCE)
to maintain the control connection if the
message type is unknown.
			</t>

              <section anchor="Messages.1"
               title="Connect-Speed-Update-Notification (CSUN)">
			<t>
The Connect-Speed-Update-Notification (CSUN) is an
L2TP control message sent by the LAC 
to the LNS to provide transmit and receive
connection speed updates for one or more sessions.  The 
connection speed may change at any time during the life of the call; thus, the 
LNS SHOULD be able to update its connection speed on an active
session.
</t><t>
The following AVPs MUST be present in the CSUN:
  <list hangIndent="3" style="empty">
    <t>Message Type</t>
    <t>Connect Speed Update (more than one may be present in the CSUN)</t>
  </list>
Note that the LAC MUST NOT include a Connect Speed Update AVP for which it did 
not send a Connect
Speed Update Enable AVP in the prior Incoming-Call-Request (ICRQ) 
control message for the session.

			</t>

              </section> <!-- EO Messages.1 -->

              <section anchor="Messages.2"
               title="Connect-Speed-Update-Request (CSURQ)">
                      <t>
The Connect-Speed-Update-Request (CSURQ)
is an L2TP control message sent by the LNS to 
the LAC to request the current transmit and receive
connection speed for one or more sessions.  It 
MAY be issued at any time during the life of the tunnel and MUST only be issued 
for each outstanding session on each tunnel on which the LNS has already 
received a Connect
Speed Update Enable AVP in the prior Incoming-Call-Request (ICRQ) 
control message for the session.  It is typically used as part of failover 
recovery and resynchronization to allow the LNS to verify it has the correct 
speeds for each outstanding session on each tunnel.  
</t><t>
The following AVPs MUST be present in the CSURQ:
  <list hangIndent="3" style="empty">
    <t>Message Type</t>
    <t>Connect Speed Update (more than one may be present in the CSURQ)</t>
  </list>
The Current Tx Connect Speed and Current Rx Connect Speed fields in 
the Connect Speed Update AVP MUST be set to 0 when this AVP
is used in the CSURQ message.
</t><t>
   In the CSUN response to the CSURQ, the LAC MUST NOT respond to
   unknown sessions or to known sessions for which it did not issue a
   Connect Speed Update Enable AVP in the prior Incoming-Call-Request
   (ICRQ) control message for the session.

                      </t>

              </section> <!-- EO Messages.2 -->


              </section> <!-- EO Messages -->




              <section anchor="AVPs"
               title="Access Line Information L2TP Attribute Value Pair Extensions">
			<t>
The Access Line information was initially defined in the DSL Forum Technical
Report TR-101 <xref target="TR-101"/>.
TR-101 defines the line characteristic that are sent from an
Access Node. 
			</t>
			<t>

The following sections contain a list of the Access Line Information L2TP AVPs.
Included with each of the listed AVPs is a short description of the purpose of 
the AVPs.

                      <figure align="left">
                              <preamble>
The AVPs follow the standard method of encoding AVPs as follows:
                              </preamble>
                              <artwork align="center">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|M|H| rsvd  |      Length       |           Vendor ID           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|         Attribute Type        |Attribute Value, if Required ...
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                ... (Until Length is reached)                   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                              </artwork>
                              <postamble></postamble>
                      </figure>

The M bit for all the AVPs defined in this document SHOULD be set to 0 
to allow
for backwards compatibility with LNSs that do not support the Access Line 
Information AVP extensions hereby defined. However, if it is desired to prevent
the establishment of the L2TP session if the peer LNS does not support the 
Access Line Information AVP extensions, the M bit MAY be set to 1. See Section 
4.2 of 
<xref target="RFC2661"/> and Section 5.2 of 
<xref target="RFC3931"/>. 
			</t>


			<t>
All the AVPs defined in this document MAY be hidden (the H bit MAY be 0 or 1).
			</t>

			<t>
The Length (before hiding)
of all the listed AVPs is 6 plus the length of the Attribute Value, 
if one is required, in octets.
			</t>

			<t>
The Vendor ID for all the listed AVPs
(Sections <xref target="AVPs.1" format="counter"/> through <xref target="AVPs.19" format="counter"/>)
is that of the IANA assigned ADSL Forum 
Vendor ID, decimal 3561 
<xref target="IANA.enterprise-numbers"/>.
			</t>

			<t>
All the listed AVPs (<xref target="AVPs.1"/> through <xref target="AVPs.19"/>)
MAY be present in the following messages unless otherwise 
stipulated: 
<list style="empty"><t>
 Incoming-Call-Request (ICRQ)
</t></list>
			</t>

			<t>
The Value of the AVP contains information about
the Access Line to which the subscriber is attached. 
			</t>


			<t>
With the exception of the Connect 
Speed Update AVP (see <xref target="CSAVPs.1"/>),
all new AVPs specifying a data rate or speed expressed in bits per second (bps)
will be sent as 64-bits to provide
extensibility to support future increases in subscriber connection
speeds. These new AVPs that specify a 64-bit "Data-Rate" are defined from
<xref target="AVPs.3"/> to <xref target="AVPs.12"/>, both inclusive.
Whenever a speed value sent in an AVP fits within 32 bits, the
upper 32 bits MUST be transmitted as 0s.
			</t>



			<t>
The various Data-Rates and Interleaving-Delays used in the subsequent
Sections <xref target="AVPs.3" format="counter"/>
through <xref target="AVPs.16" format="counter"/>
are defined in Section 3.9.4 of <xref target="TR-101"/>.
The qualifiers used with these Data-Rates and Interleaving-Delays
have the following meanings:

<list style='hanging' hangIndent='15'>

<t hangText="o  Actual">Actual rate or delay of an access loop</t>
<t hangText="o  Attainable">Maximum value that can be achieved by the equipment</t>
<t hangText="o  Minimum">Minimum value configured by the operator</t>
<t hangText="o  Maximum">Maximum value configured by the operator</t>
</list>
			</t>





              <section anchor="AVPs.1"
               title="Access Line Agent-Circuit-Id AVP">
                      <t>
The Access Line Agent-Circuit-Id AVP, Attribute Type 1, contains information 
describing the subscriber agent circuit ID corresponding to the logical access 
loop port of the Access Node/DSLAM from which a subscriber's requests are 
initiated.  

                      <figure align="left">
                              <preamble>
 The Attribute Value field for this AVP has the following format:
                              </preamble>
                              <artwork align="center">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Agent-Circuit-Id ... (2 to 63 octets)
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                              </artwork>
                              <postamble></postamble>
                      </figure>

The Agent-Circuit-Id is of arbitrary length, but MUST be greater than 1 octet 
and not greater than 63 octets. 

                      </t>

                      <t>
The Length (before hiding) of this AVP 
is 6 plus the length of the Agent-Circuit-Id.
                      </t>

                      <t>
The Agent-Circuit-Id contains information about the Access Node/DSLAM to which 
the subscriber is attached, along with a unique
identifier for the subscriber's DSL 
port on that Access Node/DSLAM.
The Agent-Circuit-Id contains a locally administered string representing
the access loop logical port, and its
syntax is defined in Section 3.9.3 of <xref target="TR-101"/>.
The text string is encoded in the UTF-8
charset <xref target="RFC3629"/>.

                      </t>

                      <t>
An exemplary description of the Agent-Circuit-Id string format follows
for background purposes.  The LAC MUST treat the string as an opaque
value and MUST NOT manipulate or enforce the format of the string based
on the description here or in TR-101 <xref target="TR-101"/>.

                      </t>

                      <t>

Default syntax for the string is defined in <xref target="TR-101"/>.
The examples in this section are included only for illustrative purposes.
The exact syntax of the string is implementation dependent; however, a typical 
practice is to subdivide it into two or more space-separated components, one to
identify the Access Node and another the subscriber line on that node, with 
perhaps an indication of whether that line is Ethernet or ATM.  Example formats
for this string are shown below.

<list style="empty"><t>
    "Access-Node-Identifier atm slot/port:vpi.vci"
	<vspace blankLines="0" />
       (when ATM/DSL is used)
</t><t>
    "Access-Node-Identifier eth slot/port[:vlan-id]"
	<vspace blankLines="0" />
       (when Ethernet/DSL is used)
</t></list>

The syntax for the string is defined in <xref target="TR-101"/>.
An example showing the slot and port field encoding is given below:

<list style="empty"><t>
    "Relay-identifier atm 3/0:100.33"
	<vspace blankLines="0" />
       (slot = 3, port = 0, vpi = 100, vci = 33)
</t></list>

The Access-Node-Identifier is a unique ASCII string that does not include 
'space' characters.  The syntax of the slot and port fields reflects typical 
practices currently in place.  The slot identifier does not exceed 6 characters
in length, and the port identifier does not exceed 3 characters in length using 
a '/' as a delimiter.

                      </t>
                      <t>

The exact manner in which slots are identified is Access Node/DSLAM implementation dependent.  The vpi, vci, and vlan-id fields (when applicable)
are related to a given access loop (U-interface).


                      </t>


              </section> <!-- EO AVPs.1 -->






              <section anchor="AVPs.2"
               title="Access Line Agent-Remote-Id AVP">
                      <t>
The Access Line Agent-Remote-Id AVP, Attribute Type 2, contains an 
operator-specific, statically configured 
string that uniquely identifies the subscriber
on the associated access loop of the Access Node/DSLAM.

                      <figure align="left">
                              <preamble>
 The Attribute Value field for this AVP has the following format:
                              </preamble>
                              <artwork align="center">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Agent-Remote-Id ... (2 to 63 octets)
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                              </artwork>
                              <postamble></postamble>
                      </figure>
The Agent-Remote-Id is of arbitrary length, but MUST be greater than 
1 octet and
not greater than 63 octets. 

                      </t>
                      <t>
The Length (before hiding)
of this AVP is 6 plus the length of the Agent-Remote-Id.

                      </t>
                      <t>

The Agent-Remote-Id contains information sent from the Access Node/DSLAM from 
which the subscriber is attached, to further refine the access loop
logical port identification with a user.
The content of this message is entirely open 
to the service provider's discretion.  For example, it MAY contain a subscriber
billing ID or telephone number.
The LAC MUST treat the string as an opaque
value and MUST NOT manipulate or enforce its format.
The text string is defined in <xref target="TR-101"/>, and is
encoded in the UTF-8 charset <xref target="RFC3629"/>.


                      </t>

              </section> <!-- EO AVPs.2 -->






              <section anchor="AVPs.3"
               title="Access Line Actual-Data-Rate-Upstream AVP">
                      <t>
The Access Line Actual-Data-Rate-Upstream AVP, Attribute Type 129, contains the
actual upstream train rate of a subscriber's synchronized Access link.  

                      <figure align="left">
                              <preamble>
 The Attribute Value field for this AVP has the following format:
                              </preamble>
                              <artwork align="center">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                  Actual-Data-Rate-Upstream                     
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                    ... in bps (64 bits)                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                              </artwork>
                              <postamble></postamble>
                      </figure>

The Actual-Data-Rate-Upstream is an 8-octet value.

                      </t>
                      <t>

The Actual-Data-Rate-Upstream AVP contains an 8-octet unsigned integer, 
indicating the subscriber's actual data rate upstream of a synchronized Access 
link. The rate is coded in bits per second.

                      </t>
                      <t>

The Length (before hiding) of this AVP is 14.

                      </t>

              </section> <!-- EO AVPs.3 -->






              <section anchor="AVPs.4"
               title="Access Line Actual-Data-Rate-Downstream AVP">
                      <t>
The Access Line Actual-Data-Rate-Downstream AVP, Attribute Type 130, contains 
the actual downstream train rate of a subscriber's synchronized Access link.  

                      <figure align="left">
                              <preamble>
 The Attribute Value field for this AVP has the following format:
                              </preamble>
                              <artwork align="center">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                  Actual-Data-Rate-Downstream                   
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                    ... in bps (64 bits)                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                              </artwork>
                              <postamble></postamble>
                      </figure>


The Actual-Data-Rate-Downstream AVP contains an 8-octet unsigned integer, 
indicating the subscriber's actual data rate downstream of a synchronized 
Access link. The rate is coded in bits per second.

                      </t>
                      <t>
The Length (before hiding) of this AVP is 14.
                      </t>

              </section> <!-- EO AVPs.4 -->






              <section anchor="AVPs.5"
               title="Access Line Minimum-Data-Rate-Upstream AVP">
                      <t>

The Access Line Minimum-Data-Rate-Upstream AVP, Attribute Type 131, 
contains the
subscriber's operator-configured minimum upstream data rate. 

                      <figure align="left">
                              <preamble>
 The Attribute Value field for this AVP has the following format:
                              </preamble>
                              <artwork align="center">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                  Minimum-Data-Rate-Upstream                    
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                    ... in bps (64 bits)                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                              </artwork>
                              <postamble></postamble>
                      </figure>


                      </t>
                      <t>

The Minimum-Data-Rate-Upstream AVP contains an 8-octet unsigned integer, 
indicating the subscriber's minimum upstream data rate (as configured by the 
operator).  The rate is coded in bits per second.

                      </t>
                      <t>
The Length (before hiding) of this AVP is 14.
                      </t>


              </section> <!-- EO AVPs.5 -->






              <section anchor="AVPs.6"
               title="Access Line Minimum-Data-Rate-Downstream AVP">
                      <t>

The Access Line Minimum-Data-Rate-Downstream AVP, Attribute Type 132, contains 
the subscriber's operator-configured minimum downstream data rate. 

                      <figure align="left">
                              <preamble>
 The Attribute Value field for this AVP has the following format:
                              </preamble>
                              <artwork align="center">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                Minimum-Data-Rate-Downstream                    
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                    ... in bps (64 bits)                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                              </artwork>
                              <postamble></postamble>
                      </figure>

The Minimum-Data-Rate-Downstream AVP contains an 8-octet unsigned integer, 
indicating the subscriber's minimum downstream data rate (as configured by the 
operator).  The rate is coded in bits per second.

                      </t>
                      <t>

The Length (before hiding) of this AVP is 14.

                      </t>

              </section> <!-- EO AVPs.6 -->






              <section anchor="AVPs.7"
               title="Access Line Attainable-Data-Rate-Upstream AVP">
                      <t>

The Access Line Attainable-Data-Rate-Upstream AVP, Attribute Type 133, contains
the subscriber's actual attainable upstream data rate. 

                      <figure align="left">
                              <preamble>
 The Attribute Value field for this AVP has the following format:
                              </preamble>
                              <artwork align="center">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                Attainable-Data-Rate-Upstream                   
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                    ... in bps (64 bits)                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                              </artwork>
                              <postamble></postamble>
                      </figure>

The Attainable-Data-Rate-Upstream AVP contains an 8-octet unsigned integer, 
indicating the subscriber's Access Line actual attainable upstream data rate.  
The rate is coded in bits per second.

                      </t>
                      <t>

The Length (before hiding) of this AVP is 14.

                      </t>

              </section> <!-- EO AVPs.7 -->






              <section anchor="AVPs.8"
               title="Access Line Attainable-Data-Rate-Downstream AVP">
                      <t>

The Access Line Attainable-Data-Rate-Downstream AVP, Attribute Type 134, 
contains the subscriber's actual attainable downstream data rate. 

                      <figure align="left">
                              <preamble>
 The Attribute Value field for this AVP has the following format:
                              </preamble>
                              <artwork align="center">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                Attainable-Data-Rate-Downstream                 
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                    ... in bps (64 bits)                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                              </artwork>
                              <postamble></postamble>
                      </figure>
The Attainable-Data-Rate-Downstream AVP contains an 8-octet unsigned integer,
indicating the subscriber's Access Line actual DSL attainable downstream data rate.
The rate is coded in bits per second.


                      </t>
                      <t>

The Length (before hiding) of this AVP is 14.

                      </t>

              </section> <!-- EO AVPs.8 -->






              <section anchor="AVPs.9"
               title="Access Line Maximum-Data-Rate-Upstream AVP">
                      <t>

The Access Line Maximum-Data-Rate-Upstream AVP, Attribute Type 135, contains
the subscriber's maximum upstream data rate, as configured by the operator.   
                      <figure align="left">
                              <preamble>
 The Attribute Value field for this AVP has the following format:
                              </preamble>
                              <artwork align="center">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                  Maximum-Data-Rate-Upstream                    
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                    ... in bps (64 bits)                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                              </artwork>
                              <postamble></postamble>
                      </figure>

The Maximum-Data-Rate-Upstream AVP contains an 8-octet unsigned integer, 
indicating the numeric value of the subscriber's Access Line maximum upstream 
data rate.  The rate is coded in bits per second.

                      </t>
                      <t>

The Length (before hiding) of this AVP is 14.

                      </t>

              </section> <!-- EO AVPs.9 -->






              <section anchor="AVPs.10"
               title="Access Line Maximum-Data-Rate-Downstream AVP">
                      <t>

The Access Line Maximum-Data-Rate-Downstream AVP, Attribute Type 136, contains 
the subscriber's maximum downstream data rate, as configured by the operator.  

                      <figure align="left">
                              <preamble>
 The Attribute Value field for this AVP has the following format:
                              </preamble>
                              <artwork align="center">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                 Maximum-Data-Rate-Downstream                   
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                    ... in bps (64 bits)                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                              </artwork>
                              <postamble></postamble>
                      </figure>

The Maximum-Data-Rate-Downstream AVP contains an 8-octet unsigned integer, 
indicating the numeric value of the subscriber's Access Line maximum downstream
data rate. The rate is coded in bits per second.

                      </t>
                      <t>

The Length (before hiding) of this AVP is 14.

                      </t>

              </section> <!-- EO AVPs.10 -->






              <section anchor="AVPs.11"
               title="Access Line Minimum-Data-Rate-Upstream-Low-Power AVP">
                      <t>

The Access Line Minimum-Data-Rate-Upstream-Low-Power AVP, Attribute Type 137, 
contains the subscriber's minimum upstream data rate in low power state, as 
configured by the operator.  

                      <figure align="left">
                              <preamble>
 The Attribute Value field for this AVP has the following format:
                              </preamble>
                              <artwork align="center">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|              Minimum-Data-Rate-Upstream-Low-Power              
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                    ... in bps (64 bits)                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                              </artwork>
                              <postamble></postamble>
                      </figure>

The Minimum-Data-Rate-Upstream-Low-Power AVP contains an 8-octet unsigned 
integer, indicating the numeric value of the subscriber's Access Line minimum 
upstream data rate when in low power state (L1/L2).  The rate is coded in bits 
per second.

                      </t>
                      <t>

The Length (before hiding) of this AVP is 14.

                      </t>

              </section> <!-- EO AVPs.11 -->






              <section anchor="AVPs.12"
               title="Access Line Minimum-Data-Rate-Downstream-Low-Power AVP">
                      <t>

The Access Line Minimum-Data-Rate-Downstream-Low-Power AVP, Attribute Type 138,
contains the subscriber's minimum downstream data rate in low power state, as 
configured by the operator. 

                      <figure align="left">
                              <preamble>
 The Attribute Value field for this AVP has the following format:
                              </preamble>
                              <artwork align="center">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|            Minimum-Data-Rate-Downstream-Low-Power              
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                    ... in bps (64 bits)                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                              </artwork>
                              <postamble></postamble>
                      </figure>

The Minimum-Data-Rate-Downstream-Low-Power AVP contains an 8-octet unsigned 
integer, indicating the numeric value of the subscriber's Access Line minimum 
downstream data rate when in low power state (L1/L2).
The rate is coded in bits per second.

                      </t>
                      <t>

The Length (before hiding) of this AVP is 14.

                      </t>

              </section> <!-- EO AVPs.12 -->






              <section anchor="AVPs.13"
               title="Access Line Maximum-Interleaving-Delay-Upstream AVP">
                      <t>

The Access Line Maximum-Interleaving-Delay-Upstream AVP, Attribute Type 139, 
contains the subscriber's maximum one-way upstream interleaving delay, as 
configured by the operator.  

                      <figure align="left">
                              <preamble>
 The Attribute Value field for this AVP has the following format:
                              </preamble>
                              <artwork align="center">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|             Maximum-Interleaving-Delay-Upstream               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                              </artwork>
                              <postamble></postamble>
                      </figure>
The Maximum-Interleaving-Delay-Upstream AVP contains a 4-octet unsigned 
integer, indicating the numeric value in milliseconds of
the subscriber's Access
Line maximum one-way upstream interleaving delay.


                      </t>
                      <t>

The Length (before hiding) of this AVP is 10.

                      </t>

              </section> <!-- EO AVPs.13 -->






              <section anchor="AVPs.14"
               title="Access Line Actual-Interleaving-Delay-Upstream AVP">
                      <t>

The Access Line Actual-Interleaving-Delay-Upstream AVP, Attribute Type 140, 
contains the subscriber's actual one-way upstream interleaving delay.

                      <figure align="left">
                              <preamble>
 The Attribute Value field for this AVP has the following format:
                              </preamble>
                              <artwork align="center">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|            Actual-Interleaving-Delay-Upstream                 |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                              </artwork>
                              <postamble></postamble>
                      </figure>

The Actual-Interleaving-Delay-Upstream AVP contains a 4-octet unsigned 
integer, indicating the numeric value in milliseconds of the 
subscriber's Access
Line actual upstream interleaving delay.

                      </t>
                      <t>

The Length (before hiding) of this AVP is 10.

                      </t>

              </section> <!-- EO AVPs.14 -->






              <section anchor="AVPs.15"
               title="Access Line Maximum-Interleaving-Delay-Downstream AVP">
                      <t>

The Access Line Maximum-Interleaving-Delay-Downstream AVP, Attribute Type 141, 
contains the subscriber's maximum one-way downstream interleaving delay, as 
configured by the operator.  

                      <figure align="left">
                              <preamble>
 The Attribute Value field for this AVP has the following format:
                              </preamble>
                              <artwork align="center">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           Maximum-Interleaving-Delay-Downstream               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                              </artwork>
                              <postamble></postamble>
                      </figure>
The Maximum-Interleaving-Delay-Downstream AVP contains a 4-octet unsigned 
integer, indicating the numeric value in milliseconds of the
subscriber's Access
Line maximum one-way downstream interleaving delay.

                      </t>
                      <t>

The Length (before hiding) of this AVP is 10.

                      </t>

              </section> <!-- EO AVPs.15 -->






              <section anchor="AVPs.16"
               title="Access Line Actual-Interleaving-Delay-Downstream AVP">
                      <t>

The Access Line Actual-Interleaving-Delay-Downstream AVP, Attribute Type 142, 
contains the subscriber's actual one-way downstream interleaving delay.

                      <figure align="left">
                              <preamble>
 The Attribute Value field for this AVP has the following format:
                              </preamble>
                              <artwork align="center">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|            Actual-Interleaving-Delay-Downstream               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                              </artwork>
                              <postamble></postamble>
                      </figure>
The Actual-Interleaving-Delay-Downstream AVP contains a 4-octet unsigned 
integer, indicating the numeric value in milliseconds of the subscriber's 
Access
Line actual downstream interleaving delay.


                      </t>
                      <t>

The Length (before hiding) of this AVP is 10.

                      </t>

              </section> <!-- EO AVPs.16 -->






              <section anchor="AVPs.17"
               title="Access Line Access-Loop-Encapsulation AVP">
                      <t>

The Access Line Access-Loop-Encapsulation AVP, Attribute Type 144,
describes the
encapsulation(s) used by the subscriber on the access loop. 
                      </t>
                      <t>
The Length (before hiding) of this AVP is 9.
                      </t>
                      <t>
The Access-Loop-Encapsulation value is comprised of
three 1-octet values representing the Data Link, Encapsulation 1, and 
Encapsulation 2, respectively.
                      </t>
                      <t>
The Access-Loop-Encapsulation value is 3 octets in length, logically divided 
into three 1-octet sub-fields, each containing its own enumeration value, as 
shown in the following diagram:

                      <figure align="left">
                              <preamble/>
                              <artwork align="center">
 0                   1                   2
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Data Link   |    Encaps 1   |    Encaps 2   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                              </artwork>
                              <postamble></postamble>
                      </figure>

Valid values for the sub-fields are as follows:

<list style="empty"><t>
Data Link
<list hangIndent="3" style="empty">
 <t>
	0x00  ATM AAL5
 </t><t>
	0x01  Ethernet
 </t>
</list>
</t><t>
Encaps 1
<list hangIndent="3" style="empty"><t>
	0x00  NA - Not Available
 </t><t>
	0x01  Untagged Ethernet
 </t><t>
	0x02  Single-Tagged Ethernet
 </t>
</list>
</t><t>
Encaps 2
<list hangIndent="3" style="empty"><t>
	0x00  NA - Not Available
 </t><t>
	0x01  PPPoA LLC
 </t><t>
	0x02  PPPoA Null
 </t><t>
	0x03  IP over ATM (IPoA) LLC
 </t><t>
	0x04  IPoA Null
 </t><t>
	0x05  Ethernet over AAL5 LLC with Frame Check Sequence (FCS)
 </t><t>
	0x06  Ethernet over AAL5 LLC without FCS
 </t><t>
	0x07  Ethernet over AAL5 Null with FCS
 </t><t>
	0x08  Ethernet over AAL5 Null without FCS
 </t>
</list>
</t></list>
                      </t>

              </section> <!-- EO AVPs.17 -->






              <section anchor="AVPs.18"
               title="ANCP Access Line Type AVP">
                      <t>

The ANCP Access Line Type AVP, Attribute Type 145, describes the transmission 
systems on access loop to the subscriber. 


                      <figure align="left">
                              <preamble>
 The Attribute Value field for this AVP has the following format:
                              </preamble>
                              <artwork align="center">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                      ANCP-Access-Line-Type                    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                              </artwork>
                              <postamble></postamble>
                      </figure>

The Length (before hiding)
of this AVP is 10.
The ANCP Access Line Type AVP 
defines the type of transmission system used. 

                      </t>
                      <t>
The ANCP Access Line Type AVP contains a 1-octet field encoding
the Transmission System, followed
by a 3-octet reserved field (MUST be zero), and is 4 octets in length.
It indicates
the transmission systems on access loop to the subscriber. The current valid 
values only utilize the 1-octet field. 

                      </t>
                      <t>

Valid values are as follows:

<list style="empty"><t>
Transmission system:
<list hangIndent="3" style="empty"><t>
      0x01  ADSL1
 </t><t>
      0x02  ADSL2
 </t><t>
	0x03  ADSL2+
 </t><t>
	0x04  VDSL1
 </t><t>
	0x05  VDSL2
 </t><t>
	0x06  SDSL
 </t><t>
	0x07  UNKNOWN
 </t>

</list>
</t></list>


                      </t>

              </section> <!-- EO AVPs.18 -->





              <section anchor="AVPs.19"
               title="Access Line IWF-Session AVP">
                      <t>

The Access Line IWF-Session AVP, Attribute Type 254, indicates if an 
Interworking Function has been performed with respect to the subscriber's 
session.
                      <figure align="left">
                              <preamble>
The Attribute Value field for this AVP has the following format:
                              </preamble>
                              <artwork align="center">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                   Inter-Working Function                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                              </artwork>
                              <postamble></postamble>
                      </figure>
The Inter-Working Function is a 4-octet value.
<list style="empty"><t>
Valid values for this field are as follows:
<list hangIndent="3" style="empty">
 <t>
      0x00  IWF not performed
 </t><t>
      0x01  IWF performed
 </t>
</list>
</t></list>
                      </t>
                      <t>
The Length (before hiding) of this AVP is 10. 
                      </t>

              </section> <!-- EO AVPs.19 -->

              </section> <!-- EO AVPs -->


              <section anchor="CSAVPs"
               title="Connect Speed Update L2TP Attribute Value Pair Extensions">
                      <t>
The following sections define Connect Speed Update related AVPs.
These AVPs
(<xref target="CSAVPs.1"/> and <xref target="CSAVPs.2"/>)
use the
IETF Vendor ID of 0.
                      </t>

                      <t>
The M bit for these AVPs SHOULD be set to 0.
However, if it is desired to prevent the establishment or tear down
the established L2TP session if the peer LNS does not support the 
Connect Speed Update AVP extensions, the M bit MAY be set to 1. See Section 
4.2 of 
<xref target="RFC2661"/> and Section 5.2 of 
<xref target="RFC3931"/>. 
                      </t>

              <section anchor="CSAVPs.1"
               title="Connect Speed Update AVP (CSUN, CSURQ)">


                      <t>
The Connect Speed Update AVP, Attribute Type 97, contains the updated
connection speeds for this session.
The format is consistent
with
that of the Tx Connect Speed and Rx Connect Speed AVPs for L2TPv2 (Attribute Types
24 and 38, respectively) and L2TPv3 (Attribute Types 74 and 75, respectively).
Hence, there is a separate format defined for L2TPv2 and L2TPv3.

                      <figure align="left">
                              <preamble>
The Attribute Value field for this AVP has the following format for L2TPv2
Tunnels:
                              </preamble>
                              <artwork align="center">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|          Reserved             |      Remote Session Id        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                Current Tx Connect Speed in bps                |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                Current Rx Connect Speed in bps                |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                              </artwork>
                              <postamble></postamble>
                      </figure>
                      <figure align="left">
                              <preamble>
The Attribute Value field for this AVP has the following format for L2TPv3
Tunnels:
                              </preamble>
                              <artwork align="center">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                     Remote Session Id                         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                Current Tx Connect Speed in bps...              
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
           ...Current Tx Connect Speed in bps (64 bits)         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                Current Rx Connect Speed in bps...              
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
           ...Current Rx Connect Speed in bps (64 bits)         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                              </artwork>
                              <postamble></postamble>
                      </figure>

The Remote Session Id is the remote session id relative to the sender
(i.e., the identifier that was assigned to this session by the peer).  The
Current Tx Connect Speed is a 4-octet value (L2TPv2) or an 8-octet value
(L2TPv3) representing the current
transmit connect speed, from the perspective of the LAC (e.g., data flowing from
the LAC to the remote system). The rate is encoded in bits per second.  The
Current Rx Connect Speed is a 4-octet value (L2TPv2) or an 8-octet value
(L2TPv3) representing the current
receive connect speed, from the perspective of the LAC (e.g., data flowing from
the remote system to the LAC). The rate is encoded in bits per second.

                      </t>
                      <t>

The Length (before hiding) of this AVP is 18 (L2TPv2) or 26 (L2TPv3).

                      </t>


              </section> <!-- EO CSAVPs.1 -->


              <section anchor="CSAVPs.2"
               title="Connect Speed Update Enable AVP (ICRQ)">

                      <t>

The Connect
Speed Update Enable AVP, Attribute Type 98, indicates whether the
LAC intends to send speed updates to the LNS during the life of the session.
The Connect Speed Update Enable AVP is a boolean AVP.
Presence of this AVP indicates that the LAC MAY send speed updates
using CSUN (see <xref target="Messages.1"/>) during the life of the session,
and the LNS SHOULD query for the current connection speed
via the CSURQ (see <xref target="Messages.2"/>)
during failover synchronization.  Absence of this AVP indicates
that the LAC will not be sending speed updates using
CSUN (see <xref target="Messages.1"/>) during the life of the session,
and the LNS MUST NOT query for the current connection speed via the CSURQ
(see <xref target="Messages.2"/>) during
failover synchronization.
                      </t>
                      <t>
The Length (before hiding) of this AVP is 6.
                      </t>

              </section> <!-- EO CSAVPs.2 -->


              </section> <!-- EO CSAVPs -->





              <section anchor="Mapping"
               title="Access Line Information AVP Mapping">
                      <t>
The Access Line information that is obtained from the Access Node/DSLAM is 
required to be mapped into the Access Line AVPs. The Access Line 
information can be obtained via:

<list style="symbols">
  <t>
Vendor-Specific PPPoE Tags 
<xref target="RFC2516"/>.
  </t>
  <t>
DHCP Relay Options 
<xref target="RFC3046"/>
and Vendor-Specific Information Suboptions 
<xref target="RFC4243"/>.
  </t>
  <t>
ANCP <xref target="ANCP"/>.
  </t>
</list>

                      </t>

              <section anchor="Mapping.1"
               title="Summary of Access Line AVPs">
                      <t>
<xref target="Table1"/> summarizes the Access Line AVPs
defined in Sections
<xref target="AVPs.1" format="counter"/> through <xref target="AVPs.19" format="counter"/>.
                      </t>

<?rfc compact="no"?>
<?rfc compact="yes"?>
  <texttable anchor='Table1' title='Access Line AVP Summary' style='full'>
      <preamble/>
      <ttcol align='right'>Access Line AVP</ttcol>
      <ttcol align='left'>Name</ttcol>
<c>1 (0x01)</c>
<c>Agent-Circuit-Id </c>
<c>2 (0x02)</c>
<c>Agent-Remote-Id </c>
<c>129 (0x81)</c>
<c>Actual-Data-Rate-Upstream </c>
<c>130 (0x82)</c>
<c>Actual-Data-Rate-Downstream </c>
<c>131 (0x83)</c>
<c>Minimum-Data-Rate-Upstream </c>
<c>132 (0x84)</c>
<c>Minimum-Data-Rate-Downstream </c>
<c>133 (0x85)</c>
<c>Attainable-Data-Rate-Upstream </c>
<c>134 (0x86)</c>
<c>Attainable-Data-Rate-Downstream</c>
<c>135 (0x87)</c>
<c>Maximum-Data-Rate-Upstream</c>
<c>136 (0x88)</c>
<c>Maximum-Data-Rate-Downstream</c>
<c>137 (0x89)</c>
<c>Minimum-Data-Rate-Upstream-Low-Power</c>
<c>138 (0x8A)</c>
<c>Minimum-Data-Rate-Downstream-Low-Power</c>
<c>139 (0x8B)</c>
<c>Maximum-Interleaving-Delay-Upstream</c>
<c>140 (0x8C)</c>
<c>Actual-Interleaving-Delay-Upstream</c>
<c>141 (0x8D)</c>
<c>Maximum-Interleaving-Delay-Downstream</c>
<c>142 (0x8E)</c>
<c>Actual-Interleaving-Delay-Downstream</c>
<c>144 (0x90)</c>
<c>Access-Loop-Encapsulation</c>
<c>145 (0x91)</c>
<c>ANCP Access Line Type</c>
<c>254 (0xFE)</c>
<c>IWF-Session</c>

      <postamble></postamble>
  </texttable>
<?rfc compact="yes"?>


              </section> <!-- EO Mapping.1 -->
              </section> <!-- EO Mapping -->



              <section anchor="IANA" title="IANA Considerations">
<t>
Sections <xref target="IANA.1" format="counter"/>
and <xref target="IANA.2" format="counter"/>
describe request for new values
 in <xref target="IANA.l2tp-parameters"/>, for registries
 already managed by IANA assignable through Expert Review
 according to <xref target="RFC3438"/>.
<xref target="IANA.3"/> describes number spaces not managed by IANA.
</t>

              <section anchor="IANA.1" title="Message Type AVP Values">
<t>
This number space is managed by IANA as per <xref target="RFC3438"/>.
There are two new message types, defined in Sections
<xref target="Messages.1" format="counter"/> and
<xref target="Messages.2" format="counter"/>,
to be allocated for this specification.
<list hangIndent="3" style="empty"><t>
Message Type AVP (Attribute Type 0) Values
<list>
      <t>28: (CSUN)     Connect-Speed-Update-Notification</t>
      <t>29: (CSURQ)    Connect-Speed-Update-Request</t>
</list>
</t></list>

                      </t>

              </section> <!-- EO IANA.1 -->

              <section anchor="IANA.2" title="Control Message Attribute Value Pairs (AVPs)">
<t>
This number space is managed by IANA as per <xref target="RFC3438"/>.
There are two new AVPs, defined in Sections
<xref target="CSAVPs.1" format="counter"/> and
<xref target="CSAVPs.2" format="counter"/>,
to be allocated for this specification.
<list hangIndent="3" style="empty"><t>
Control Message Attribute Value Pairs (AVPs)
<list>
      <t>97: Connect Speed Update AVP</t>
      <t>98: Connect Speed Update Enable AVP</t>
</list>
</t></list>

                      </t>

              </section> <!-- EO IANA.2 -->
              <section anchor="IANA.3"
		title="Values for Access Line Information AVPs">
                      <t>
The Access Line Information AVPs use the Vendor ID of 3561 for the ADSL Forum
(now Broadband Forum). The number spaces in these Values and their new allocations
(e.g., enumerated values for
the Access Line Access-Loop-Encapsulation AVP and ANCP Access Line Type AVP)
are managed by the Broadband Forum.
                      </t>

              </section> <!-- EO IANA.3 -->

              </section> <!-- EO IANA -->


              <section anchor="Security" title="Security Considerations">
                      <t>
The security of these AVP relies on an implied trust relationship between the 
Access Node/DSLAM and the BRAS/LAC, and between the LAC and the LNS.
The identifiers that
are inserted by the Access Node/DSLAM are unconditionally trusted; the 
BRAS does
not perform any validity check on the information received before 
forwarding the information.
                      </t>

                      <t>
These AVPs are intended to be used in environments in which the network 
infrastructure (the Access Node/DSLAM, the BRAS/LAC, the LNS, and the entire 
network in which those devices reside) is trusted and secure.
			</t>

                      <t>
Careful consideration should be given to the potential security 
vulnerabilities that are present in this model before deploying this option in 
actual networks.
</t><t>
The AVPs described in this document are used to carry identification and
characterization of subscriber Access Line, and to report connection speed
changes. If used in a non-secure environment, they could reveal such
information. The Tunnel (Control Connection) security considerations are
covered in Section 9.1 of <xref target="RFC2661"/> and Section 8.l
of <xref target="RFC3931"/>. Additionally, the hiding of AVP attribute values
mechanism can be used to hide the value of the AVPs described in this
document, if they are deemed sensitive in some environments. AVP hiding is
described in Section 4.3 of <xref target="RFC2661"/> and Section 5.3
of <xref target="RFC3931"/>.
			</t>

                      <t>
The Attributes described in this document neither increase nor decrease the 
security of the L2TP protocol.  
			</t>

                      <t>
It is possible to utilize 
<xref target="RFC3193"/> "Securing L2TP with IPsec" to increase the 
security by utilizing IPsec to provide for tunnel authentication, privacy 
protection, integrity checking and replay protection.
			</t>

              </section> <!-- EO Security -->

		<section anchor="Acknowledgements" title="Acknowledgements">
			<t>
Many thanks to Wojciech Dec and the others of the 
Broadband Forum (previously the DSL Forum) Architecture
and Transport Working Group for their help in putting together this
document.
			</t>
		</section> <!-- EO Acks -->

	</middle>
	<back>

<?rfc rfcedstyle="no"?>
		<references title="Normative References">
                      <?rfc include="reference.RFC.2119" ?>
                      <?rfc include="reference.RFC.2661" ?>
                      <?rfc include="reference.RFC.3931" ?>
                      <?rfc include="reference.RFC.3438" ?>
    <reference anchor="TR-101"
      target="http://www.broadband-forum.org/technical/download/TR-101.pdf">
      <front>
        <title>Migration to Ethernet-Based DSL Aggregation</title>
        <author>
          <organization>DSL Forum</organization>
        </author>
        <date month="April" year="2006" />
      </front>
      <seriesInfo name="TR" value="101" />
      <format type='PDF'
      target='http://www.broadband-forum.org/technical/download/TR-101.pdf' />
    </reference>

		</references>

		<references title="Informative References">		

		<reference anchor='IANA.enterprise-numbers' target="http://www.iana.org">
		   <front>
		   <title>
			PRIVATE ENTERPRISE NUMBERS
		   </title>
		   <author>
		   <organization>
			Internet Assigned Numbers Authority
		   </organization>
		   </author>
		   <date />
		   </front>
		</reference>

              <reference anchor='IANA.l2tp-parameters' target="http://www.iana.org">
                 <front>
                 <title>
                      Layer Two Tunneling Protocol 'L2TP'
                 </title>
                 <author>
                 <organization>
                      Internet Assigned Numbers Authority
                 </organization>
                 </author>
                 <date />
                 </front>

              </reference>

			<?rfc include="reference.RFC.2516" ?>
                      <?rfc include="reference.RFC.3046" ?>
                      <?rfc include="reference.RFC.4243" ?>
                      <?rfc include="reference.RFC.3193" ?>
                      <?rfc include="reference.RFC.3629" ?>
                      <?rfc include="reference.RFC.4679" ?>

                  <!-- draft-ietf-ancp-protocol -->

<reference anchor='ANCP'>
<front>
<title>Protocol for Access Node Control Mechanism in Broadband Networks</title>

<author initials='S' surname='Wadhwa' fullname='Sanjay  Wadhwa'>
  <organization />
</author>

<author initials='J' surname='Moisand' fullname='Jerome Moisand'>
  <organization />
</author>

<author initials='S' surname='Subramanian' fullname='Swami Subramanian'>
  <organization />
</author>

<author initials='T' surname='Haag' fullname='Thomas Haag'>
  <organization />
</author>

<author initials='N' surname='Voigt' fullname='Norber Voigt'>
  <organization />
</author>

<author initials='R' surname='Maglione' fullname='Roberta Maglione'>
  <organization />

</author>

<date month='March' day='9' year='2009' />

</front>

<seriesInfo name='Work in' value='Progress' />

</reference>

<?rfc include="reference.RFC.4951" ?>

		</references>
<?rfc rfcedstyle="yes"?>

	</back>
</rfc>
