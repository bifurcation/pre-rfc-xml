<?xml version="1.0" encoding="US-ASCII"?> 
<!DOCTYPE rfc SYSTEM "rfc2629.dtd">
<?rfc toc="yes"?> 
<?rfc tocompact="yes"?> 
<?rfc tocdepth="3"?> 
<?rfc tocindent="yes"?> 
<?rfc symrefs="yes"?> 
<?rfc sortrefs="yes"?>  
<?rfc compact="yes"?> 
<?rfc subcompact="no"?> 

<rfc category="std" number="8561" ipr="trust200902" obsoletes="" updates="" submissionType="IETF" consensus="yes">
 <front>


<!--[rfced] *AD, please review the changes that were made by
the author post-approval to Sections 4, 7, and 8 and 
Appendices A.1, A.2, and A.3, and let us know if you approve. 
They are shown in this file:
https://www.rfc-editor.org/authors/rfc8561-postapproval-rfcdiff.html

A few comments from Jonas Ahlberg regarding the changes:

The description of the leaf "maximum-nominal-power" refers to
"available-min-output-power". It is no longer correct and it should
instead refer to "minimum-power".

There is one change related to the unit used for channel separation in
an example in Appendix A that needs to be changed from 28 to 28000

The new interface types registered by IANA have received different
names than those used in draft-ietf-ccamp-mw-yang-1:
microwaveRadioLinkTerminal instead of radio-link-terminal and
microwaveCarrierTermination instead of carrier-termination.

[We believe you may have already approved the IANA-related changes
based on your email from 2019-01-29, but we want to include
all post-approval changes here.]
-->

  <title abbrev="Microwave Radio Link YANG Data Model">A YANG Data Model for Microwave Radio Link</title>

  <author initials="J." surname="Ahlberg" fullname="Jonas Ahlberg">
   <organization>Ericsson AB</organization>
   <address>
    <postal>
     <street>Lindholmspiren 11</street>
     <city>Goteborg</city>
     <region></region>
     <code>417 56</code>
     <country>Sweden</country>
    </postal>
    <email>jonas.ahlberg@ericsson.com</email>
   </address>
  </author>

  <author initials="M." surname="Ye" fullname="Min Ye">
   <organization>Huawei Technologies</organization>
   <address>
    <postal>
     <street>No.1899, Xiyuan Avenue</street>
     <city>Chengdu</city>
     <region></region>
     <code>611731</code>
     <country>China</country>
    </postal>
    <email>amy.yemin@huawei.com</email>
   </address>
  </author>

  <author initials="X." surname="Li" fullname="Xi Li">
   <organization>NEC Laboratories Europe</organization>
   <address>
    <postal>
     <street>Kurfursten-Anlage 36</street>
     <city>Heidelberg</city>
     <region></region>
     <code>69115</code>
     <country>Germany</country>
    </postal>
    <email>Xi.Li@neclab.eu</email>
   </address>
  </author>

  <author initials="D." surname="Spreafico" fullname="Daniela Spreafico">
   <organization>Nokia - IT</organization>
   <address>
    <postal>
     <street>Via Energy Park, 14</street>
     <city>Vimercate (MI)</city>
     <region></region>
     <code>20871</code>
     <country>Italy</country>
    </postal>
    <email>daniela.spreafico@nokia.com</email>
   </address>
  </author>
  
  <author initials="M." surname="Vaupotic" fullname="Marko Vaupotic">
   <organization>Aviat Networks</organization>
   <address>
    <postal>
     <street>Motnica 9</street>
     <city>Trzin-Ljubljana</city>
     <region></region>
     <code>1236</code>
     <country>Slovenia</country>
    </postal>
    <email>Marko.Vaupotic@Aviatnet.com</email>
   </address>
  </author>
  
  <date  month="April" year="2019" />
  <workgroup>CCAMP Working Group</workgroup>


<!--[rfced] Please let us know if/how you would like to update the
terms below for consistency. Note that "YANG module" and "YANG
data model" have been preferred in the past by Benoit Claise and 
the YANG doctors.

YANG module vs. YANG data module vs. YANG data model
-->
  <abstract>
   <t>This document defines a YANG data model for control and management of
   radio link interfaces and their connectivity to packet (typically Ethernet)
   interfaces in a microwave/millimeter wave node. The data nodes for
   management of the interface protection functionality is broken out into a
   separate and generic YANG data model in order to make it available for
   other interface types as well.</t> 
  </abstract>

 </front>


 <middle>
  <section title="Introduction" toc="default">
   <t>This document defines a YANG data model for management and control of the radio link interface(s) and the relationship to packet (typically Ethernet) and/or Time-Division Multiplexing (TDM) interfaces in a microwave/millimeter wave node. The ETSI EN 302 217 series defines the characteristics and requirements of microwave/millimeter wave equipment and antennas. Specifically, ETSI EN 302 217-2 <xref target="EN302217-2" pageno="false" format="default" /> specifies the essential parameters for systems operating from 1.4 GHz to 86 GHz. The data model includes configuration and state data according to the new Network Management Datastore Architecture <xref target="RFC8342" pageno="false" format="default" />.</t>
   
   <t>The design of the data model follows the framework for management and control of microwave and millimeter wave interface parameters defined
   in <xref target="RFC8432" pageno="false" format="default" />. This framework identifies the need and the scope of the YANG data model, use cases, and requirements that the model needs to support. Moreover, it provides a detailed gap analysis to identify the missing parameters and functionalities of the existing and established models to support the specified use cases and requirements, and based on that, it recommends how the gaps should be filled with the development of the new model. According to the conclusion of the gap analysis, the structure of the data model is based on the structure defined in <xref target="MICROWAVE-RADIO-LINK" pageno="false" format="default" />, and it augments <xref target="RFC8343" pageno="false" format="default" /> to align with the same structure for management of the packet
   interfaces. More specifically, the model will include interface layering to manage the capacity provided by a radio link terminal for the associated Ethernet and TDM interfaces, using the principles for interface layering described in <xref target="RFC8343" pageno="false" format="default" /> as a basis.</t>

   <t>The data nodes for management of the interface protection functionality is broken out into a separate and generic YANG data module in order to make it also available for other interface types.</t>

   <t>The designed YANG data model uses established microwave equipment and radio standards, such as ETSI EN 302 217-2; the IETF Radio
   Link Model <xref target="MICROWAVE-RADIO-LINK" pageno="false" format="default" />; and the ONF Microwave Model <xref target="ONF-model" pageno="false" format="default" />, as the basis for the definition of the detailed leafs/parameters, and it proposes new ones to cover identified gaps, which are analyzed in <xref target="RFC8432" pageno="false" format="default" />.</t>

   <section title="Terminology and Definitions" toc="default">
    <t>The following terms are used in this document:</t>
   
    <t>Carrier Termination (CT) is an interface for the capacity provided over the air by a single carrier. It is typically defined by its transmitting and receiving frequencies.</t>  
   
    <t>Radio Link Terminal (RLT) is an interface providing packet capacity and/or TDM capacity to the associated Ethernet and/or TDM interfaces in a node and is used for setting up a transport service over a microwave/millimeter wave link.</t>

    <t>The following acronyms are used in this document:</t>

<figure><artwork><![CDATA[
   
    ACM:  Adaptive Coding Modulation

    ATPC: Automatic Transmitter Power Control

    BBE:  Background Block Error

    BER:  Bit Error Ratio

    BPSK: Binary Phase-Shift Keying

    CM:   Coding Modulation
   
    CT:   Carrier Termination

    ES:   Errored Seconds

    IF:   Intermediate Frequency

    MIMO: Multiple Input Multiple Output

    RF:   Radio Frequency

    RLT:  Radio Link Terminal

    QAM:  Quadrature Amplitude Modulation

    QPSK: Quadrature Phase-Shift Keying

    RTPC: Remote Transmit Power Control

    SES:  Severely Errored Seconds

    TDM:  Time-Division Multiplexing

    UAS:  Unavailable Seconds

    XPIC: Cross Polarization Interference Cancellation
]]></artwork></figure>

   </section> 

   
   <section title="Tree Structure" toc="default">
    <t>A simplified graphical representation of the data model is used in <xref target="tree"/> of this document. The meaning of the symbols in these diagrams is defined in <xref target="RFC8340" pageno="false" format="default" />.</t>
   </section> 

 </section> 


  <section anchor="DM" title="Microwave Radio Link YANG Data Model" toc="default">
   <section anchor="tree" title="YANG Tree" toc="default">
    <t>
     <figure title="" suppress-title="true" align="left" alt="" width="" height="">
      <artwork xml:space="preserve" name="" type="" align="left" alt="" width="" height=""><![CDATA[ 
  module: ietf-microwave-radio-link
    +--rw radio-link-protection-groups
    |  +--rw protection-group* [name]
    |     +--rw name                            string
    |     +--rw protection-architecture-type?   identityref
    |     +--rw members*                        if:interface-ref
    |     +--rw operation-type?                 enumeration
    |     +--rw working-entity*                 if:interface-ref
    |     +--rw revertive-wait-to-restore?      uint16
    |     +--rw hold-off-timer?                 uint16
    |     +--ro status?                         identityref
    |     +---x manual-switch-working
    |     +---x manual-switch-protection
    |     +---x forced-switch
    |     +---x lockout-of-protection
    |     +---x freeze
    |     +---x exercise
    |     +---x clear
    +--rw xpic-pairs {xpic}?
    |  +--rw xpic-pair* [name]
    |     +--rw name       string
    |     +--rw enabled?   boolean
    |     +--rw members*   if:interface-ref
    +--rw mimo-groups {mimo}?
       +--rw mimo-group* [name]
          +--rw name       string
          +--rw enabled?   boolean
          +--rw members*   if:interface-ref
  augment /if:interfaces/if:interface:
    +--rw id?                     string
    +--rw mode                    identityref
    +--rw carrier-terminations*   if:interface-ref
    +--rw rlp-groups*
    |       -> /radio-link-protection-groups/protection-group/name
    +--rw xpic-pairs*             -> /xpic-pairs/xpic-pair/name
    |       {xpic}?
    +--rw mimo-groups*            -> /mimo-groups/mimo-group/name
    |       {mimo}?
    +--rw tdm-connections* [tdm-type] {tdm}?
       +--rw tdm-type             identityref
       +--rw tdm-connections      uint16
  augment /if:interfaces/if:interface:
    +--rw carrier-id?                     string
    +--rw tx-enabled?                     boolean
    +--ro tx-oper-status?                 enumeration
    +--rw tx-frequency                    uint32
    +--rw (freq-or-distance)
    |  +--:(rx-frequency)
    |  |  +--rw rx-frequency?                   uint32
    |  +--:(duplex-distance)
    |     +--rw duplex-distance?                int32
    +--ro actual-rx-frequency?            uint32
    +--ro actual-duplex-distance?         uint32
    +--rw channel-separation              uint32
    +--rw polarization?                   enumeration
    +--rw (power-mode)
    |  +--:(rtpc)
    |  |  +--rw rtpc
    |  |     +--rw maximum-nominal-power        power
    |  +--:(atpc)
    |     +--rw atpc
    |        +--rw maximum-nominal-power        power
    |        +--rw atpc-lower-threshold         power
    |        +--rw atpc-upper-threshold         power
    +--ro actual-transmitted-level?             power
    +--ro actual-received-level?                power
    +--rw (coding-modulation-mode)
    |  +--:(single)
    |  |  +--rw single
    |  |     +--rw selected-cm            identityref
    |  +--:(adaptive)
    |     +--rw adaptive
    |        +--rw selected-min-acm       identityref
    |        +--rw selected-max-acm       identityref
    +--ro actual-tx-cm?                   identityref
    +--ro actual-snir?                    decimal64
    +--ro actual-xpi?                     decimal64 {xpic}?
    +--rw ct-performance-thresholds
    |  +--rw received-level-alarm-threshold?      power
    |  +--rw transmitted-level-alarm-threshold?   power
    |  +--rw ber-alarm-threshold?                 enumeration
    +--rw if-loop?                        enumeration
    +--rw rf-loop?                        enumeration
    +--ro capabilities
    |  +--ro min-tx-frequency?          uint32
    |  +--ro max-tx-frequency?          uint32
    |  +--ro min-rx-frequency?          uint32
    |  +--ro max-rx-frequency?          uint32
    |  +--ro minimum-power?             power
    |  +--ro maximum-available-power?   power
    |  +--ro available-min-acm?         identityref
    |  +--ro available-max-acm?         identityref
    +--ro error-performance-statistics
    |  +--ro bbe?   yang:counter32
    |  +--ro es?    yang:counter32
    |  +--ro ses?   yang:counter32
    |  +--ro uas?   yang:counter32
    +--ro radio-performance-statistics
       +--ro min-rltm?   power
       +--ro max-rltm?   power
       +--ro min-tltm?   power
       +--ro max-tltm?   power
]]></artwork>
     </figure>
    </t>
   </section>


   <section anchor="explanation" title="Explanation of the Microwave Data Model" toc="default">
    <t>The leafs in the Interface Management Module augmented by RLT and CT are not always applicable.</t>

    <t>"/interfaces/interface/enabled" is not applicable for RLT. Enable and disable of an interface is done in the constituent CTs.</t>

    <t>The packet-related measurements "in-octets", "in-unicast-pkts", "in&nbhy;broadcast&nbhy;pkts", "in-multicast-pkts", "in-discards", "in-errors", "in-unknown-protos", "out-octets", "out-unicast-pkts", "out-broadcast-pkts", "out-multicast-pkts", "out-discards", and "out-errors" are not within the scope of the microwave radio link domain and therefore are not applicable for RLT and CT.</t>
   </section>

  </section>

  
  <section anchor="codeA" title="Microwave Radio Link YANG Data Model" toc="default">
   <t>This module imports typedefs and modules from <xref target="RFC6991" pageno="false" format="default" />, <xref target="RFC8343" pageno="false" format="default" /> and <xref target="RFC7224" pageno="false" format="default" />, and it references <xref target="TR102311" pageno="false" format="default" />, <xref target="EN302217-1" pageno="false" format="default" />, <xref target="EN301129" pageno="false" format="default" />, and <xref target="G.826" pageno="false" format="default" />.</t>

<!-- [rfced] FYI, we have updated each YANG module using the formatted
output from pyang (i.e., "pyang -f yang - -keep-comments"). The changes
are shown in the overall diff file 
(https://www.rfc-editor.org/authors/rfc8561-diff.html) as well as
the following module-specific diff files. The use of the formatted
output is in accordance with guidance from Benoit Claise
(past OPS Area Director) and Martin Bjorklund in order to have consistent
formatting of YANG modules in RFCs. (The changes are primarily to line breaks
and quotation marks.)

https://www.rfc-editor.org/authors/ietf-microwave-radio-link-rfcdiff.html
https://www.rfc-editor.org/authors/ietf-interface-protection-rfcdiff.html
https://www.rfc-editor.org/authors/ietf-microwave-types-rfcdiff.html

To be clear, each module parses with "pyang - -ietf" before and after the
formatting changes. 

Note: Above, "- -" represents two dashes (no space); the only reason 
the space is present is for including this question as a comment in 
the XML file.
-->
   
   <figure title="" suppress-title="true" align="left" alt="" width="" height="">
    <artwork xml:space="preserve" name="" type="" align="left" alt="" width="" height=""><![CDATA[
<CODE BEGINS> file "ietf-microwave-radio-link@2019-04-03.yang"

module ietf-microwave-radio-link {
  yang-version 1.1;
  namespace "urn:ietf:params:xml:ns:yang:ietf-microwave-radio-link";
  prefix mrl;

  import ietf-yang-types {
    prefix yang;
    reference
      "RFC 6991";
  }
  import iana-if-type {
    prefix ianaift;
  }
  import ietf-interfaces {
    prefix if;
    reference
      "RFC 8343";
  }
  import ietf-interface-protection {
    prefix ifprot;
    reference
      "RFC 8561";
  }
  import ietf-microwave-types {
    prefix mw-types;
    reference
      "RFC 8561";
  }

  organization
    "Internet Engineering Task Force (IETF) CCAMP WG";
  contact
    "WG List: <mailto:ccamp@ietf.org>

     Editors:
      Jonas Ahlberg (jonas.ahlberg@ericsson.com)
      Min Ye (amy.yemin@huawei.com)
      Xi Li (Xi.Li@neclab.eu)
      Daniela Spreafico (daniela.spreafico@nokia.com)
      Marko Vaupotic (Marko.Vaupotic@aviatnet.com)";
  description
    "This is a module for the entities in
     a generic microwave system.

     Copyright (c) 2019 IETF Trust and the persons identified as
     authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Simplified BSD License
     set forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (http://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC 8561; see
     the RFC itself for full legal notices.";

  revision 2019-04-03 {
    description
      "Initial revision.";
    reference
      "RFC 8561: A YANG Data Model for Microwave Radio Link";
  }

  /*
   * Features
   */

  feature xpic {
    description
      "Indicates that the device supports XPIC.";
    reference
      "ETSI TR 102 311";
  }

  feature mimo {
    description
      "Indicates that the device supports MIMO.";
    reference
      "ETSI TR 102 311";
  }

  feature tdm {
    description
      "Indicates that the device supports TDM.";
  }

  /*
   * Typedefs
   */

  typedef power {
    type decimal64 {
      fraction-digits 1;
    }
    description
      "Type used for the power values in the data nodes 
       for configuration or status.";
  }

  /*
   * Radio Link Terminal (RLT)
   */

  augment "/if:interfaces/if:interface" {
    when "derived-from-or-self(if:type,"
       + "'ianaift:microwaveRadioLinkTerminal')";
    description
      "Addition of data nodes for the radio link terminal to
       the standard Interface data model, for interfaces of
       the type 'microwaveRadioLinkTerminal'.";
    leaf id {
      type string;
      description
        "Descriptive identity of the radio link terminal used by
         far-end RLT to check that it's connected to the correct
         near-end RLT.  Does not need to be configured if this
         check is not used.";
    }
    leaf mode {
      type identityref {
        base mw-types:rlt-mode;
      }
      mandatory true;
      description
        "A description of the mode in which the radio link
         terminal is configured.  The format is X plus Y.
         X represents the number of bonded carrier terminations.
         Y represents the number of protecting carrier
         terminations.";
    }
    leaf-list carrier-terminations {
      type if:interface-ref;
      must "derived-from-or-self(/if:interfaces/if:interface"
         + "[if:name = current()]"
         + "/if:type, 'ianaift:microwaveCarrierTermination')" {
        description
          "The type of interface must be
           'microwaveCarrierTermination'.";
      }
      min-elements 1;
      description
        "A list of references to carrier terminations
         included in the radio link terminal.";
    }
    leaf-list rlp-groups {
      type leafref {
        path "/mrl:radio-link-protection-groups/"
           + "mrl:protection-group/mrl:name";
      }
      description
        "A list of references to the carrier termination
         groups configured for radio link protection in this
         radio link terminal.";
    }
    leaf-list xpic-pairs {
      if-feature "xpic";
      type leafref {
        path "/mrl:xpic-pairs/mrl:xpic-pair/mrl:name";
      }
      description
        "A list of references to the XPIC pairs used in this
         radio link terminal.  One pair can be used by two
         terminals.";
      reference
        "ETSI TR 102 311";
    }
    leaf-list mimo-groups {
      if-feature "mimo";
      type leafref {
        path "/mrl:mimo-groups/mrl:mimo-group/mrl:name";
      }
      description
        "A reference to the MIMO group used in this
         radio link terminal.  One group can be used by more
         than one terminal.";
      reference
        "ETSI TR 102 311";
    }
    list tdm-connections {
      if-feature "tdm";
      key "tdm-type";
      description
        "A list stating the number of active TDM connections
         of a specified tdm-type that is configured to be
         supported by the RLT.";
      leaf tdm-type {
        type identityref {
          base mw-types:tdm-type;
        }
        description
          "The type of TDM connection, which also indicates
           the supported capacity.";
      }
      leaf tdm-connections {
        type uint16;
        mandatory true;
        description
          "Number of connections of the specified type.";
      }
    }
  }

  /*
   * Carrier Termination
   */

  augment "/if:interfaces/if:interface" {
    when "derived-from-or-self(if:type,"
       + "'ianaift:microwaveCarrierTermination')";
    description
      "Addition of data nodes for carrier termination to
       the standard Interface data model, for interfaces
       of the type 'microwaveCarrierTermination'.";
    leaf carrier-id {
      type string;
      default "A";
      description
        "ID of the carrier (e.g., A, B, C, or D).
         Used in XPIC and MIMO configurations to check that
         the carrier termination is connected to the correct
         far-end carrier termination.  Should be the same
         carrier ID on both sides of the hop.  Left as
         default value when MIMO and XPIC are not in use.";
    }
    leaf tx-enabled {
      type boolean;
      default "false";
      description
        "Disables (false) or enables (true) the transmitter.
         Only applicable when the interface is enabled
         (interface:enabled = true); otherwise, it's always
         disabled.";
    }
    leaf tx-oper-status {
      type enumeration {
        enum off {
          description
            "Transmitter is off.";
        }
        enum on {
          description
            "Transmitter is on.";
        }
        enum standby {
          description
            "Transmitter is in standby.";
        }
      }
      config false;
      description
        "Shows the operative status of the transmitter.";
    }
    leaf tx-frequency {
      type uint32;
      units "kHz";
      mandatory true;
      description
        "Selected transmitter frequency.";
    }
    choice freq-or-distance {
      leaf rx-frequency {
        type uint32;
        units "kHz";
        description
          "Selected receiver frequency.";
      }
      leaf duplex-distance {
        type int32;
        units "kHz";
        description
          "Distance between transmitter and receiver frequencies.";
      }
      mandatory true;
      description
        "A choice to configure rx-frequency directly or compute
         it as duplex-distance subtracted from tx-frequency.";
    }
    leaf actual-rx-frequency {
      type uint32;
      units "kHz";
      config false;
      description
        "Computed receiver frequency.";
    }
    leaf actual-duplex-distance {
      type uint32;
      units "kHz";
      config false;
      description
        "Computed distance between Tx and Rx frequencies.";
    }
    leaf channel-separation {
      type uint32;
      units "kHz";
      mandatory true;
      description
        "The amount of bandwidth allocated to a carrier.  The
         distance between adjacent channels in a radio
         frequency channels arrangement";
      reference
        "ETSI EN 302 217-1";
    }
    leaf polarization {
      type enumeration {
        enum horizontal {
          description
            "Horizontal polarization.";
        }
        enum vertical {
          description
            "Vertical polarization.";
        }
        enum not-specified {
          description
            "Polarization not specified.";
        }
      }
      default "not-specified";
      description
        "Polarization - a textual description for info only.";
    }
    choice power-mode {
      container rtpc {
        description
          "Remote Transmit Power Control (RTPC).";
        reference
          "ETSI EN 302 217-1";
        leaf maximum-nominal-power {
          type power {
            range "-99..99";
          }
          units "dBm";
          mandatory true;
          description
            "Selected output power.";
          reference
            "ETSI EN 302 217-1";
        }
      }
      container atpc {
        description
          "Automatic Transmitter Power Control (ATPC).";
        reference
          "ETSI EN 302 217-1";
        leaf maximum-nominal-power {
          type power {
            range "-99..99";
          }
          units "dBm";
          mandatory true;
          description
            "Selected maximum output power.  Minimum output
             power is the same as the system capability,
             minimum-power.";
          reference
            "ETSI EN 302 217-1";
        }
        leaf atpc-lower-threshold {
          type power {
            range "-99..-20";
          }
          units "dBm";
          must 'current() <= ../atpc-upper-threshold';
          mandatory true;
          description
            "The lower threshold for the input power at the
             far end, which is used in the ATPC mode.";
          reference
            "ETSI EN 302 217-1";
        }
        leaf atpc-upper-threshold {
          type power {
            range "-99..-20";
          }
          units "dBm";
          mandatory true;
          description
            "The upper threshold for the input power at the
             far end, which is used in the ATPC mode.";
          reference
            "ETSI EN 302 217-1";
        }
      }
      mandatory true;
      description
        "A choice of RTPC or ATPC.";
    }
    leaf actual-transmitted-level {
      type power {
        range "-99..99";
      }
      units "dBm";
      config false;
      description
        "Actual transmitted power level (0.1 dBm resolution).";
      reference
        "ETSI EN 301 129";
    }
    leaf actual-received-level {
      type power {
        range "-99..-20";
      }
      units "dBm";
      config false;
      description
        "Actual received power level (0.1 dBm resolution).";
      reference
        "ETSI EN 301 129";
    }
    choice coding-modulation-mode {
      container single {
        description
          "A single modulation order only.";
        reference
          "ETSI EN 302 217-1";
        leaf selected-cm {
          type identityref {
            base mw-types:coding-modulation;
          }
          mandatory true;
          description
            "Selected the single coding/modulation.";
        }
      }
      container adaptive {
        description
          "Adaptive coding/modulation.";
        reference
          "ETSI EN 302 217-1";
        leaf selected-min-acm {
          type identityref {
            base mw-types:coding-modulation;
          }
          mandatory true;
          description
            "Selected minimum coding/modulation.
             Adaptive coding/modulation shall not go
             below this value.";
        }
        leaf selected-max-acm {
          type identityref {
            base mw-types:coding-modulation;
          }
          mandatory true;
          description
            "Selected maximum coding/modulation.
             Adaptive coding/modulation shall not go
             above this value.";
        }
      }
      mandatory true;
      description
        "A selection of single or
         adaptive coding/modulation mode.";
    }
    leaf actual-tx-cm {
      type identityref {
        base mw-types:coding-modulation;
      }
      config false;
      description
        "Actual coding/modulation in transmitting direction.";
    }
    leaf actual-snir {
      type decimal64 {
        fraction-digits 1;
        range "0..99";
      }
      units "dB";
      config false;
      description
        "Actual signal to noise plus the interference ratio
         (0.1 dB resolution).";
    }
    leaf actual-xpi {
      if-feature "xpic";
      type decimal64 {
        fraction-digits 1;
        range "0..99";
      }
      units "dB";
      config false;
      description
        "The actual carrier to cross-polar interference.
         Only valid if XPIC is enabled (0.1 dB resolution).";
      reference
        "ETSI TR 102 311";
    }
    container ct-performance-thresholds {
      description
        "Specification of thresholds for when alarms should
         be sent and cleared for various performance counters.";
      leaf received-level-alarm-threshold {
        type power {
          range "-99..-20";
        }
        units "dBm";
        default "-99";
        description
          "An alarm is sent when the received power level is
           below the specified threshold.";
        reference
          "ETSI EN 301 129";
      }
      leaf transmitted-level-alarm-threshold {
        type power {
          range "-99..99";
        }
        units "dBm";
        default "-99";
        description
          "An alarm is sent when the transmitted power level
           is below the specified threshold.";
        reference
          "ETSI EN 301 129";
      }
      leaf ber-alarm-threshold {
        type enumeration {
          enum 1e-9 {
            description
              "Threshold at 1e-9 (10^-9).";
          }
          enum 1e-8 {
            description
              "Threshold at 1e-8 (10^-8).";
          }
          enum 1e-7 {
            description
              "Threshold at 1e-7 (10^-7).";
          }
          enum 1e-6 {
            description
              "Threshold at 1e-6 (10^-6).";
          }
          enum 1e-5 {
            description
              "Threshold at 1e-5 (10^-5).";
          }
          enum 1e-4 {
            description
              "Threshold at 1e-4 (10^-4).";
          }
          enum 1e-3 {
            description
              "Threshold at 1e-3 (10^-3).";
          }
          enum 1e-2 {
            description
              "Threshold at 1e-2 (10^-2).";
          }
          enum 1e-1 {
            description
              "Threshold at 1e-1 (10^-1).";
          }
        }
        default "1e-6";
        description
          "Specification of at which BER an alarm should
           be raised.";
        reference
          "ETSI EN 302 217-1";
      }
    }
    leaf if-loop {
      type enumeration {
        enum disabled {
          description
            "Disables the IF Loop.";
        }
        enum client {
          description
            "Loops the signal back to the client side.";
        }
        enum radio {
          description
            "Loops the signal back to the radio side.";
        }
      }
      default "disabled";
      description
        "Enable (client/radio) or disable (disabled)
         the IF Loop, which loops the signal back to
         the client side or the radio side.";
    }
    leaf rf-loop {
      type enumeration {
        enum disabled {
          description
            "Disables the RF Loop.";
        }
        enum client {
          description
            "Loops the signal back to the client side.";
        }
        enum radio {
          description
            "Loops the signal back to the radio side.";
        }
      }
      default "disabled";
      description
        "Enable (client/radio) or disable (disabled)
         the RF loop, which loops the signal back to
         the client side or the radio side.";
    }
    container capabilities {
      config false;
      description
        "Capabilities of the installed equipment and
         some selected configurations.";
      leaf min-tx-frequency {
        type uint32;
        units "kHz";
        description
          "Minimum Tx frequency possible to use.";
      }
      leaf max-tx-frequency {
        type uint32;
        units "kHz";
        description
          "Maximum Tx frequency possible to use.";
      }
      leaf min-rx-frequency {
        type uint32;
        units "kHz";
        description
          "Minimum Rx frequency possible to use.";
      }
      leaf max-rx-frequency {
        type uint32;
        units "kHz";
        description
          "Maximum Tx frequency possible to use.";
      }
      leaf minimum-power {
        type power;
        units "dBm";
        description
          "The minimum output power supported.";
        reference
          "ETSI EN 302 217-1";
      }
      leaf maximum-available-power {
        type power;
        units "dBm";
        description
          "The maximum output power supported.";
        reference
          "ETSI EN 302 217-1";
      }
      leaf available-min-acm {
        type identityref {
          base mw-types:coding-modulation;
        }
        description
          "Minimum coding-modulation possible to use.";
      }
      leaf available-max-acm {
        type identityref {
          base mw-types:coding-modulation;
        }
        description
          "Maximum coding-modulation possible to use.";
      }
    }
    container error-performance-statistics {
      config false;
      description
        "ITU-T G.826 error performance statistics relevant for
         a microwave/millimeter wave carrier.";
      leaf bbe {
        type yang:counter32;
        units "number of block errors";
        description
          "Number of Background Block Errors (BBEs).  A BBE is an
           errored block not occurring as part of Severely Errored
           Seconds (SES).  Discontinuities in the value of this
           counter can occur at re-initialization of the management
           system and at other times as indicated by the value of
           'discontinuity-time' in ietf-interfaces.";
        reference
          "ITU-T G.826";
      }
      leaf es {
        type yang:counter32;
        units "seconds";
        description
          "Number of Errored Seconds (ES).  An ES is a one-second
           period with one or more errored blocks or at least one
           defect.  Discontinuities in the value of this counter
           can occur at re-initialization of the management system
           and at other times as indicated by the value of
           'discontinuity-time' in ietf-interfaces.";
        reference
          "ITU-T G.826";
      }
      leaf ses {
        type yang:counter32;
        units "seconds";
        description
          "Number of SES.  SES is a one-second period that contains
           equal or more than 30% errored blocks or at least
           one defect.  SES is a subset of ES.  Discontinuities in
           the value of this counter can occur at re-initialization
           of the management system and at other times as indicated
           by the value of 'discontinuity-time' in ietf-interfaces.";
        reference
          "ITU-T G.826";
      }
      leaf uas {
        type yang:counter32;
        units "seconds";
        description
          "Number of Unavailable Seconds (UAS); that is, the
           total time that the node has been unavailable.
           Discontinuities in the value of this counter can occur
           at re-initialization of the management system and at
           other times as indicated by the value of
           'discontinuity-time' in ietf-interfaces.";
        reference
          "ITU-T G.826";
      }
    }
    container radio-performance-statistics {
      config false;
      description
        "ETSI EN 301 129 radio physical interface statistics relevant
         for a carrier termination.";
      leaf min-rltm {
        type power {
          range "-99..-20";
        }
        units "dBm";
        description
          "Minimum received power level.  Discontinuities in the
           value of this counter can occur at re-initialization
           of the management system and at other times as
           indicated by the value of 'discontinuity-time' in
           ietf-interfaces.";
        reference
          "ETSI EN 301 129";
      }
      leaf max-rltm {
        type power {
          range "-99..-20";
        }
        units "dBm";
        description
          "Maximum received power level.  Discontinuities in the
           value of this counter can occur at re-initialization
           of the management system and at other times as
           indicated by the value of 'discontinuity-time' in
           ietf-interfaces.";
        reference
          "ETSI EN 301 129";
      }
      leaf min-tltm {
        type power {
          range "-99..99";
        }
        units "dBm";
        description
          "Minimum transmitted power level.  Discontinuities
           in the value of this counter can occur at
           re-initialization of the management system and
           at other times as indicated by the value of
           'discontinuity-time' in ietf-interfaces.";
        reference
          "ETSI EN 301 129";
      }
      leaf max-tltm {
        type power {
          range "-99..99";
        }
        units "dBm";
        description
          "Maximum transmitted power level.  Discontinuities
           in the value of this counter can occur at
           re-initialization of the management system and
           at other times as indicated by the value of
           'discontinuity-time' in ietf-interfaces.";
        reference
          "ETSI EN 301 129";
      }
    }
  }

  /*
   * Radio Link Protection Groups
   */

  container radio-link-protection-groups {
    description
      "Configuration of radio link protected groups of
       carrier terminations in a radio link.  More than one
       protected group per radio link terminal is allowed.";
    uses ifprot:protection-groups {
      refine "protection-group/members" {
        must "derived-from-or-self(/if:interfaces/if:interface"
           + "[if:name = current()]"
           + "/if:type, 'ianaift:microwaveCarrierTermination')" {
          description
            "The type of a protection member must be
             'microwaveCarrierTermination'.";
        }
      }
      refine "protection-group/working-entity" {
        must "derived-from-or-self(/if:interfaces/if:interface"
           + "[if:name = current()]"
           + "/if:type, 'ianaift:microwaveCarrierTermination')" {
          description
            "The type of a working-entity must be
             'microwaveCarrierTermination'.";
        }
      }
    }
  }

  /*
   * XPIC & MIMO groups - Configuration data nodes
   */

  container xpic-pairs {
    if-feature "xpic";
    description
      "Configuration of carrier termination pairs
       for operation in XPIC mode.";
    reference
      "ETSI TR 102 311";
    list xpic-pair {
      key "name";
      description
        "List of carrier termination pairs in XPIC mode.";
      leaf name {
        type string;
        description
          "Name used for identification of the XPIC pair.";
      }
      leaf enabled {
        type boolean;
        default "false";
        description
          "Enable(true)/disable(false) XPIC";
      }
      leaf-list members {
        type if:interface-ref;
        must "derived-from-or-self(/if:interfaces/if:interface"
           + "[if:name = current()]"
           + "/if:type, 'ianaift:microwaveCarrierTermination')" {
          description
            "The type of a member must be
             'microwaveCarrierTermination'.";
        }
        min-elements 2;
        max-elements 2;
        description
          "Association to XPIC pairs used in the radio link
           terminal.";
      }
    }
  }
  container mimo-groups {
    if-feature "mimo";
    description
      "Configuration of carrier terminations
       for operation in MIMO mode.";
    reference
      "ETSI TR 102 311";
    list mimo-group {
      key "name";
      description
        "List of carrier terminations in MIMO mode.";
      leaf name {
        type string;
        description
          "Name used for identification of the MIMO group.";
      }
      leaf enabled {
        type boolean;
        default "false";
        description
          "Enable(true)/disable(false) MIMO.";
      }
      leaf-list members {
        type if:interface-ref;
        must "derived-from-or-self(/if:interfaces/if:interface"
           + "[if:name = current()]"
           + "/if:type, 'ianaift:microwaveCarrierTermination')" {
          description
            "The type of a member must be
             'microwaveCarrierTermination'.";
        }
        min-elements 2;
        description
          "Association to a MIMO group if used in the radio
           link terminal.";
      }
    }
  }
}

<CODE ENDS>
]]></artwork>
   </figure>  
  </section>

  <section anchor="codeB" title="Interface Protection YANG Data Model" toc="default">
   <t>The data nodes for management of the interface protection functionality is broken out from the Microwave Radio Link Module into a separate and generic YANG data model in order to make it also available for other interface types.</t>
   
   <t>This module imports modules from <xref target="RFC8343" pageno="false" format="default" />, and it references <xref target="G.808.1" pageno="false" format="default" />.</t>
   
   <figure title="" suppress-title="true" align="left" alt="" width="" height="">
    <artwork xml:space="preserve" name="" type="" align="left" alt="" width="" height=""><![CDATA[
<CODE BEGINS> file "ietf-interface-protection@2019-04-03.yang"

module ietf-interface-protection {
  yang-version 1.1;
  namespace "urn:ietf:params:xml:ns:yang:ietf-interface-protection";
  prefix ifprot;

  import ietf-interfaces {
    prefix if;
    reference
      "RFC 8343";
  }

  organization
    "Internet Engineering Task Force (IETF) CCAMP WG";
  contact
    "WG List: <mailto:ccamp@ietf.org>

     Editors:
      Jonas Ahlberg (jonas.ahlberg@ericsson.com)
      Min Ye (amy.yemin@huawei.com)
      Xi Li (Xi.Li@neclab.eu)
      Daniela Spreafico (daniela.spreafico@nokia.com)
      Marko Vaupotic (Marko.Vaupotic@aviatnet.com)";
  description
    "This is a module for the entities in
     a generic interface protection mechanism.

     Copyright (c) 2019 IETF Trust and the persons identified as
     authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Simplified BSD License
     set forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (http://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC 8561; see
     the RFC itself for full legal notices.";

  revision 2019-04-03 {
    description
      "Initial revision.";
    reference
      "RFC 8561: A YANG Data Model for Microwave Radio Link";
  }

  /*
   * Protection architecture type identities
   */

  identity protection-architecture-type {
    description
      "protection architecture type";
    reference
      "ITU-T G.808.1";
  }

  identity one-plus-one-type {
    base protection-architecture-type;
    description
      "1+1; one interface protects
       another one interface.";
    reference
      "ITU-T G.808.1";
  }

  identity one-to-n-type {
    base protection-architecture-type;
    description
      "1:N; one interface protects
       n other interfaces.";
    reference
      "ITU-T G.808.1";
  }

  /*
   * Protection states identities
   */

  identity protection-states {
    description
      "Identities describing the status of the protection
       in a group of interfaces configured in
       a protection mode.";
  }

  identity unprotected {
    base protection-states;
    description
      "Not protected.";
  }

  identity protected {
    base protection-states;
    description
      "Protected.";
  }

  identity unable-to-protect {
    base protection-states;
    description
      "Unable to protect.";
  }

  /*
   * Protection Groups
   */

  grouping protection-groups {
    description
      "Configuration of protected groups of interfaces
       providing protection for each other.  More than one
       protected group per higher-layer interface is allowed.";
    list protection-group {
      key "name";
      description
        "List of protected groups of interfaces
         in a higher-layer interface.";
      leaf name {
        type string;
        description
          "Name used for identification of the protection group.";
      }
      leaf protection-architecture-type {
        type identityref {
          base protection-architecture-type;
        }
        default "ifprot:one-plus-one-type";
        description
          "The type of protection architecture used, e.g., one
           interface protecting one or several other interfaces.";
        reference
          "ITU-T G.808.1";
      }
      leaf-list members {
        type if:interface-ref;
        min-elements 2;
        description
          "Association to a group of interfaces configured for
           protection and used by a higher-layer interface.";
      }
      leaf operation-type {
        type enumeration {
          enum non-revertive {
            description
              "In non-revertive operation, the traffic does not
               return to the working interface if the switch requests
               are terminated.";
            reference
              "ITU-T G.808.1";
          }
          enum revertive {
            description
              "In revertive operation, the traffic always
               returns to (or remains on) the working interface
               if the switch requests are terminated.";
            reference
              "ITU-T G.808.1";
          }
        }
        default "non-revertive";
        description
          "The type of protection operation, i.e., revertive
           or non-revertive operation.";
      }
      leaf-list working-entity {
        when "../operation-type = 'revertive'";
        type if:interface-ref;
        min-elements 1;
        description
          "The interfaces that the traffic normally should
           be transported over when there is no need to use the
           protecting interface.";
      }
      leaf revertive-wait-to-restore {
        when "../operation-type = 'revertive'";
        type uint16;
        units "seconds";
        default "0";
        description
          "The time to wait before switching back to the working
           interface if operation-type is revertive.";
        reference
          "ITU-T G.808.1";
      }
      leaf hold-off-timer {
        type uint16;
        units "milliseconds";
        default "0";
        description
          "Time interval after the detection of a fault and its
           confirmation as a condition requiring the protection-
           switching procedure.";
        reference
          "ITU-T G.808.1";
      }
      leaf status {
        type identityref {
          base protection-states;
        }
        config false;
        description
          "Status of the protection in a group of interfaces
           configured in a protection mode.";
        reference
          "ITU-T G.808.1";
      }
      action manual-switch-working {
        description
          "A switch action initiated by an operator command.
           It switches a normal traffic signal to the working
           transport entity.";
        reference
          "ITU-T G.808.1";
      }
      action manual-switch-protection {
        description
          "A switch action initiated by an operator command.
           It switches a normal traffic signal to the protection
           transport entity.";
        reference
          "ITU-T G.808.1";
      }
      action forced-switch {
        description
          "A switch action initiated by an operator command.
           It switches a normal traffic signal to the protection
           transport entity and forces it to remain on that
           entity even when criteria for switching back to
           the original entity are fulfilled.";
        reference
          "ITU-T G.808.1";
      }
      action lockout-of-protection {
        description
          "A switch action temporarily disables access to the
           protection transport entity for all signals.";
        reference
          "ITU-T G.808.1";
      }
      action freeze {
        description
          "A switch action temporarily prevents any switch action
           to be taken and, as such, freezes the current state.
           Until the freeze is cleared, additional near-end external
           commands are rejected, and fault condition changes and
           received Automatic Protection-Switching (APS) messages
           are ignored.";
        reference
          "ITU-T G.808.1";
      }
      action exercise {
        description
          "A switch action to test if the APS communication is
           operating correctly.  It is lower priority than any 'real'
           switch request.";
        reference
          "ITU-T G.808.1";
      }
      action clear {
        description
          "An action clears all switch commands.";
        reference
          "ITU-T G.808.1";
      }
    }
  }
}

<CODE ENDS>
]]></artwork>
   </figure>  
  </section>
  
  <section anchor="codeC" title="Microwave Types YANG Data Model" toc="default">
   <t>This module defines a collection of common data types using the YANG data modeling language. These common types are designed to be imported by other modules defined in the microwave area.</t>
   
   <figure title="" suppress-title="true" align="left" alt="" width="" height="">
    <artwork xml:space="preserve" name="" type="" align="left" alt="" width="" height=""><![CDATA[
<CODE BEGINS> file "ietf-microwave-types@2019-04-03.yang"

module ietf-microwave-types {
  yang-version 1.1;
  namespace "urn:ietf:params:xml:ns:yang:ietf-microwave-types";
  prefix mw-types;

  organization
    "Internet Engineering Task Force (IETF) CCAMP WG";
  contact
    "WG List: <mailto:ccamp@ietf.org>

     Editors:
      Jonas Ahlberg (jonas.ahlberg@ericsson.com)
      Min Ye (amy.yemin@huawei.com)
      Xi Li (Xi.Li@neclab.eu)
      Daniela Spreafico (daniela.spreafico@nokia.com)
      Marko Vaupotic (Marko.Vaupotic@aviatnet.com)";
  description
    "This module contains a collection of YANG data types
     considered generally useful for microwave interfaces.

     Copyright (c) 2019 IETF Trust and the persons identified as
     authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Simplified BSD License
     set forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (http://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC 8561; see
     the RFC itself for full legal notices.";

  revision 2019-04-03 {
    description
      "Initial revision.";
    reference
      "RFC 8561: A YANG Data Model for Microwave Radio Link";
  }

  /*
   * Radio-link-terminal mode identities
   */

  identity rlt-mode {
    description
      "A description of the mode in which the radio link
       terminal is configured.  The format is X plus Y.
       X represents the number of bonded carrier terminations.
       Y represents the number of protecting carrier
       terminations.";
  }

  identity one-plus-zero {
    base rlt-mode;
    description
      "1 carrier termination only.";
  }

  identity one-plus-one {
    base rlt-mode;
    description
      "1 carrier termination
       and 1 protecting carrier termination.";
  }

  identity two-plus-zero {
    base rlt-mode;
    description
      "2 bonded carrier terminations.";
  }

  /*
   * Coding and modulation identities
   */

  identity coding-modulation {
    description
      "The coding and modulation schemes.";
  }

  identity half-bpsk {
    base coding-modulation;
    description
      "Half BPSK coding and modulation scheme.";
  }

  identity half-bpsk-strong {
    base half-bpsk;
    description
      "Half BPSK strong coding and modulation scheme.";
  }

  identity half-bpsk-light {
    base half-bpsk;
    description
      "Half BPSK light coding and modulation scheme.";
  }

  identity bpsk {
    base coding-modulation;
    description
      "BPSK coding and modulation scheme.";
  }

  identity bpsk-strong {
    base bpsk;
    description
      "BPSK strong coding and modulation scheme.";
  }

  identity bpsk-light {
    base bpsk;
    description
      "BPSK light coding and modulation scheme.";
  }

  identity qpsk {
    base coding-modulation;
    description
      "QPSK coding and modulation scheme.";
  }

  identity qam-4 {
    base coding-modulation;
    description
      "4 QAM coding and modulation scheme.";
  }

  identity qam-4-strong {
    base qam-4;
    description
      "4 QAM strong coding and modulation scheme.";
  }

  identity qam-4-light {
    base qam-4;
    description
      "4 QAM light coding and modulation scheme.";
  }

  identity qam-16 {
    base coding-modulation;
    description
      "16 QAM coding and modulation scheme.";
  }

  identity qam-16-strong {
    base qam-16;
    description
      "16 QAM strong coding and modulation scheme.";
  }

  identity qam-16-light {
    base qam-16;
    description
      "16 QAM light coding and modulation scheme.";
  }

  identity qam-32 {
    base coding-modulation;
    description
      "32 QAM coding and modulation scheme.";
  }

  identity qam-32-strong {
    base qam-32;
    description
      "32 QAM strong coding and modulation scheme.";
  }

  identity qam-32-light {
    base qam-32;
    description
      "32 QAM light coding and modulation scheme.";
  }

  identity qam-64 {
    base coding-modulation;
    description
      "64 QAM coding and modulation scheme.";
  }

  identity qam-64-strong {
    base qam-64;
    description
      "64 QAM strong coding and modulation scheme.";
  }

  identity qam-64-light {
    base qam-64;
    description
      "64 QAM light coding and modulation scheme.";
  }

  identity qam-128 {
    base coding-modulation;
    description
      "128 QAM coding and modulation scheme.";
  }

  identity qam-128-strong {
    base qam-128;
    description
      "128 QAM strong coding and modulation scheme.";
  }

  identity qam-128-light {
    base qam-128;
    description
      "128 QAM light coding and modulation scheme.";
  }

  identity qam-256 {
    base coding-modulation;
    description
      "256 QAM coding and modulation scheme.";
  }

  identity qam-256-strong {
    base qam-256;
    description
      "256 QAM strong coding and modulation scheme.";
  }

  identity qam-256-light {
    base qam-256;
    description
      "256 QAM light coding and modulation scheme.";
  }

  identity qam-512 {
    base coding-modulation;
    description
      "512 QAM coding and modulation scheme.";
  }

  identity qam-512-strong {
    base qam-512;
    description
      "512 QAM strong coding and modulation scheme.";
  }

  identity qam-512-light {
    base qam-512;
    description
      "512 QAM light coding and modulation scheme.";
  }

  identity qam-1024 {
    base coding-modulation;
    description
      "1024 QAM coding and modulation scheme.";
  }

  identity qam-1024-strong {
    base qam-1024;
    description
      "1024 QAM strong coding and modulation scheme.";
  }

  identity qam-1024-light {
    base qam-1024;
    description
      "1024 QAM light coding and modulation scheme.";
  }

  identity qam-2048 {
    base coding-modulation;
    description
      "2048 QAM coding and modulation scheme.";
  }

  identity qam-2048-strong {
    base qam-2048;
    description
      "2048 QAM strong coding and modulation scheme.";
  }

  identity qam-2048-light {
    base qam-2048;
    description
      "2048 QAM light coding and modulation scheme.";
  }

  identity qam-4096 {
    base coding-modulation;
    description
      "4096 QAM coding and modulation scheme.";
  }

  identity qam-4096-strong {
    base qam-4096;
    description
      "4096 QAM strong coding and modulation scheme.";
  }

  identity qam-4096-light {
    base qam-4096;
    description
      "4096 QAM light coding and modulation scheme.";
  }

  /*
   * TDM-type identities
   */

  identity tdm-type {
    description
      "A description of the type of TDM connection,
       also indicating the supported capacity of the
       connection.";
  }

  identity E1 {
    base tdm-type;
    description
      "E1 connection, 2.048 Mbit/s.";
  }

  identity STM-1 {
    base tdm-type;
    description
      "STM-1 connection, 155.52 Mbit/s.";
  }
}

<CODE ENDS>
]]></artwork>
   </figure>  
  </section>

  <section anchor="Security" title="Security Considerations" toc="default">
   <t>The YANG data models specified in this document define schemas for data that is designed to be accessed via network management protocols such as NETCONF <xref target="RFC6241" pageno="false" format="default" /> or RESTCONF <xref target="RFC8040" pageno="false" format="default" />. The lowest NETCONF layer is the secure transport layer, and the mandatory-to-implement secure transport is Secure Shell (SSH) <xref target="RFC6242" pageno="false" format="default" />. The lowest RESTCONF layer is HTTPS, and the mandatory-to-implement secure transport is TLS <xref target="RFC8446" pageno="false" format="default" />.</t>
   
   <t>The Network Configuration Access Control Model (NACM) <xref target="RFC8341" pageno="false" format="default" /> provides the means to restrict access for particular NETCONF or RESTCONF users to a preconfigured subset of all available NETCONF or RESTCONF protocol operations and content.</t>
   
   <t>There are a number of data nodes defined in these YANG data models that are writable/creatable/deletable (i.e., config true, which is the default). These data nodes may be considered sensitive or vulnerable in some network environments.  Write operations (e.g., edit-config) to these data nodes without proper protection can have a negative effect on network operations. These are the subtrees and data nodes and their sensitivity/vulnerability:</t> 
   
   <t>Interfaces of type microwaveRadioLinkTerminal:</t>
   <figure>
    <artwork xml:space="preserve" name="" type="" align="left" alt="" width="" height=""><![CDATA[
   /if:interfaces/if:interface/mode,
   /if:interfaces/if:interface/carrier-terminations,
   /if:interfaces/if:interface/rlp-groups,
   /if:interfaces/if:interface/xpic-pairs,
   /if:interfaces/if:interface/mimo-groups, and
   /if:interfaces/if:interface/tdm-connections:
]]></artwork>
   </figure>


<!--[rfced] *AD, the first three paragraphs of the YANG Security
Considerations (Section 7) follow the recommended language (from 
https://trac.ietf.org/trac/ops/wiki/yang-security-guidelines),
but the paragraphs thereafter do not.  Please review and let us
know if this variance is acceptable or if any further updates are
needed.

Specifically, we are referring to the paragraphs that begin
"Some of the readable data nodes ..." and
"Some of the RPC operations ...", which are on the 
yang-security-guidelines page but are not included in this 
document.
-->

   <t>These data nodes represent the configuration of the radio link terminal, and they need to match the configuration of the radio link terminal on the other side of the radio link. Unauthorized access to these data nodes could interrupt the ability to forward traffic.</t>
   
   <t>Interfaces of type microwaveCarrierTermination:</t>
   <figure>
    <artwork xml:space="preserve" name="" type="" align="left" alt="" width="" height=""><![CDATA[
   /if:interfaces/if:interface/carrier-id,
   /if:interfaces/if:interface/tx-enabled,
   /if:interfaces/if:interface/tx-frequency,
   /if:interfaces/if:interface/rx-frequency,
   /if:interfaces/if:interface/duplex-distance,
   /if:interfaces/if:interface/channel-separation,
   /if:interfaces/if:interface/rtpc/maximum-nominal-power,
   /if:interfaces/if:interface/atpc/maximum-nominal-power,
   /if:interfaces/if:interface/atpc/atpc-lower-threshold,
   /if:interfaces/if:interface/atpc/atpc-upper-threshold,
   /if:interfaces/if:interface/single/selected-cm,
   /if:interfaces/if:interface/adaptive/selected-min-acm,
   /if:interfaces/if:interface/adaptive/selected-max-acm,
   /if:interfaces/if:interface/if-loop, and
   /if:interfaces/if:interface/rf-loop:
]]></artwork>
   </figure>
   <t>These data nodes represent the configuration of the carrier termination, and they need to match the configuration of the carrier termination on the other side of the carrier. Unauthorized access to these data nodes could interrupt the ability to forward traffic.</t>
   
   <t>Radio link protection:</t>
   <figure>
    <artwork xml:space="preserve" name="" type="" align="left" alt="" width="" height=""><![CDATA[
   /radio-link-protection-groups/protection-group:
]]></artwork>
   </figure>
   <t>This data node represents the configuration of the protection of carrier terminations. Unauthorized access to this data node could interrupt the ability to forward traffic or remove the ability to perform a necessary protection switch.</t>
   
   <t>XPIC:</t>
   <figure>
    <artwork xml:space="preserve" name="" type="" align="left" alt="" width="" height=""><![CDATA[
   /xpic-pairs:
]]></artwork>
   </figure>
   <t>This data node represents the XPIC configuration of a pair of carriers. Unauthorized access to this data node could interrupt the ability to forward traffic.</t>
   
   <t>MIMO:</t>
   <figure>
    <artwork xml:space="preserve" name="" type="" align="left" alt="" width="" height=""><![CDATA[
   /mimo-groups:
]]></artwork>
   </figure>
   <t>This data node represents the MIMO configuration of multiple carriers. Unauthorized access to this data node could interrupt the ability to forward traffic.</t>

<t>
Some of the RPC operations in this YANG data model may be considered sensitive or vulnerable in some network environments. It is thus important to control access to these operations. These are the operations and their sensitivity/vulnerability:</t>
 
<t>Radio link protection:</t>
 <figure>
    <artwork xml:space="preserve" name="" type="" align="left" alt="" width="" height=""><![CDATA[
   /radio-link-protection-groups/protection-group/manual-switch-working,
   /radio-link-protection-groups/protection-group/
                                               manual-switch-protection,
   /radio-link-protection-groups/protection-group/forced-switch,
   /radio-link-protection-groups/protection-group/lockout-of-protection,
   /radio-link-protection-groups/protection-group/freeze,
   /radio-link-protection-groups/protection-group/exercise, and
   /radio-link-protection-groups/protection-group/clear
]]></artwork>
   </figure>
 <t>
These data nodes represent actions that might have an impact on the configuration of the protection of carrier terminations.  Unauthorized access to these data nodes could interrupt the ability to forward traffic or remove the ability to perform a necessary protection switch.
 </t>
   
   <t>The security considerations of <xref target="RFC8343" pageno="false" format="default" /> also apply to this document.</t>
  </section>

 
  <section anchor="IANA" title="IANA Considerations" toc="default">
   <t>IANA has assigned new URIs from the "IETF XML Registry" <xref target="RFC3688" pageno="false" format="default" /> as follows:</t>
   <figure>
    <artwork xml:space="preserve" name="" type="" align="left" alt="" width="" height=""><![CDATA[
   URI: urn:ietf:params:xml:ns:yang:ietf-microwave-radio-link
   Registrant Contact: The IESG
   XML: N/A; the requested URI is an XML namespace.
   
   URI: urn:ietf:params:xml:ns:yang:ietf-interface-protection
   Registrant Contact: The IESG
   XML: N/A; the requested URI is an XML namespace.

   URI: urn:ietf:params:xml:ns:yang:ietf-microwave-types
   Registrant Contact: The IESG
   XML: N/A; the requested URI is an XML namespace.
]]></artwork>
   </figure>
   <t></t>
   <t>IANA has recorded YANG module names in the "YANG Module Names" registry <xref target="RFC6020" pageno="false" format="default" /> as follows:</t>
   <figure>
    <artwork xml:space="preserve" name="" type="" align="left" alt="" width="" height=""><![CDATA[
   Name: ietf-microwave-radio-link
   Maintained by IANA?: N
   Namespace: urn:ietf:params:xml:ns:yang:ietf-microwave-radio-link
   Prefix: mrl
   Reference: RFC 8561

   Name: ietf-interface-protection
   Maintained by IANA?: N
   Namespace: urn:ietf:params:xml:ns:yang:ietf-interface-protection
   Prefix: ifprot
   Reference: RFC 8561
   
   Name: ietf-microwave-types
   Maintained by IANA?: N
   Namespace: urn:ietf:params:xml:ns:yang:ietf-microwave-types
   Prefix: mw-types
   Reference: RFC 8561
]]></artwork>
   </figure>
   <t></t>

<!--[rfced] FYI, we have updated this text as follows so that it 
includes the IANA-registered description text. Please let us know 
if you prefer otherwise.

Current:
   It is proposed that IANA should register a new IANAifType TBD1 for
   the interface type radio-link-terminal and a new IANAifType TBD2 for
   the interface type carrier-termination at [IFTYPE-IANA-REGISTRY].

Perhaps:
   IANA has registered the following ifTypes in "ifType definitions"
   under [IANA-SMI]:

   Decimal  Name                         Description
   _______  ____________                 _______________________________
   295      microwaveCarrierTermination  air interface of a single
                                         microwave carrier

   296      microwaveRadioLinkTerminal   radio link interface for one
                                         or several aggregated microwave
                                         carriers
-->

   <t>IANA has registered the following ifTypes in "ifType definitions" under
   <xref target="IANA-SMI"/>:
   </t>
<figure><artwork>
Decimal  Name                         Description
-------  ------------                 -------------------------------
295      microwaveCarrierTermination  air interface of a single 
                                      microwave carrier

296      microwaveRadioLinkTerminal   radio link interface for one 
                                      or several aggregated microwave 
                                      carriers
</artwork></figure>
  </section>
 

 </middle>


 <back>
  <references title="Normative References">
<?rfc include="reference.RFC.3688" ?>
<?rfc include="reference.RFC.6020" ?>
<?rfc include="reference.RFC.6241" ?>
<?rfc include="reference.RFC.6242" ?>
<?rfc include="reference.RFC.6991" ?>
<?rfc include="reference.RFC.7224" ?>
<?rfc include="reference.RFC.8040" ?>
<?rfc include="reference.RFC.8341" ?>
<?rfc include="reference.RFC.8343" ?>
<?rfc include="reference.RFC.8446" ?>

   
   <reference anchor="IANA-SMI" target="https://www.iana.org/assignments/smi-numbers">
    <front>
     <title>Structure of Management Information (SMI) Numbers (MIB Module Registrations)</title>
      <author><organization>IANA</organization></author>
     <date/>
	</front>
   </reference>
   
  </references>

  <references title="Informative References">

<?rfc include="reference.RFC.8340" ?>
<?rfc include="reference.RFC.8342" ?>
<?rfc include="reference.RFC.8432" ?>

<!--draft-ahlberg-ccamp-microwave-radio-link-01; Expired-->
<reference anchor='MICROWAVE-RADIO-LINK'>
<front>
<title>Microwave Radio Link YANG Data Models</title>
<author initials='J' surname='Ahlberg' fullname='Jonas Ahlberg'>
    <organization />
</author>
<author initials='J' surname='Carlson' fullname='Jan-Olof Carlson'>
    <organization />
</author>
<author initials='H' surname='Lund' fullname='Hans-Ake Lund'>
    <organization />
</author>
<author initials='T' surname='Olausson' fullname='Thomas Olausson'>
    <organization />
</author>
<author initials='M' surname='Ye' fullname='Min Ye'>
    <organization />
</author>
<author initials='M' surname='Vaupotic' fullname='Marko Vaupotic'>
    <organization />
</author>
<date month='May' year='2016' />
<abstract><t>YANG model for managing microwave radio link functionality.</t></abstract>
</front>
<seriesInfo name='Work in Progress,' value='draft-ahlberg-ccamp-microwave-radio-link-01' />
</reference>


  
   <reference anchor="EN301129">
    <front>
     <title>Transmission and Multiplexing (TM); Digital Radio Relay Systems (DRRS); Synchronous Digital Hierarchy (SDH); System performance monitoring parameters of SDH DRRS</title>
     <author fullname="ETSI"/> 
     <date month="May" year="1999"/>
    </front>
    <seriesInfo name="EN 301 129" value="V1.1.2" />
   </reference>

   <reference anchor="EN302217-1">
    <front>
     <title>Fixed Radio Systems; Characteristics and requirements for point-to-point equipment and antennas; Part 1: Overview, common characteristics and system-dependent requirements</title>
    <author fullname="ETSI"/> 
     <date month="May" year="2017"/>
    </front>
    <seriesInfo name="EN 302 217-1" value="V3.1.0" />
   </reference>

   
   <reference anchor="EN302217-2">
    <front>
     <title>Fixed Radio Systems; Characteristics and requirements for point to-point equipment and antennas; Part 2: Digital systems operating in frequency bands from 1 GHz to 86 GHz; Harmonised Standard covering the essential requirements of article 3.2 of Directive 2014/53/EU</title>
     <author fullname="ETSI"/> 
     <date month="May" year="2017"/>
    </front>
    <seriesInfo name="EN 302 217-2" value="V3.1.1" />
   </reference>


   <reference anchor="G.808.1">
    <front>
     <title>SERIES G: TRANSMISSION SYSTEMS AND MEDIA, DIGITAL SYSTEMS AND NETWORKS; Digital networks ; General aspects Generic protection switching ; Linear trail and subnetwork protection</title>
     <author fullname="ITU-T"/> 
     <date month="May" year="2014"/>
    </front>
    <seriesInfo name="ITU-T Recommendation" value="G.808.1" />
   </reference>
   
   <reference anchor="G.826">
    <front>
     <title>SERIES G: TRANSMISSION SYSTEMS AND MEDIA, DIGITAL SYSTEMS AND NETWORKS; Digital networks -  Quality and availability targets; End-to-end error performance parameters and objectives for international, constant bit-rate digital paths and connections</title>
     <author fullname="ITU-T"/> 
     <date month="December" year="2002"/>
    </front>
    <seriesInfo name="ITU-T Recommendation" value="G.826"/>
   </reference>

   <reference anchor="TR102311">
    <front>
     <title>Fixed Radio Systems; Point-to-point equipment; Specific aspects of the spatial frequency reuse method</title>
     <author fullname="ETSI"/> 
     <date month="November" year="2015"/>
    </front>
    <seriesInfo name="ETSI TR 102 311" value="V1.2.1" />
   </reference>

   <reference anchor="ONF-model" target="https://www.opennetworking.org/images/stories/downloads/sdn-resources/technical-reports/TR-532-Microwave-Information-Model-V1.pdf">
    <front>
     <title>Microwave Information Model</title>
     <author fullname="ONF"/> 
     <date month="December" year="2016"/>
    </front>
    <seriesInfo name="TR-532," value="version 1.0" />
   </reference>
  </references>
 
  <section title="Example: 1+0 and 2+0 Configuration Instances" toc="default">
   <t>This section gives simple examples of 1+0 and 2+0 instances using the YANG data model defined in this document. The examples are not intended as a complete module for 1+0 and 2+0 configuration.</t>

   <section title="1+0 Instance" toc="default">
   
    <figure title="1+0 Example" anchor="fig_10example"><artwork><![CDATA[
                 /--------- Radio Link ---------\
                  Near End              Far End

           +---------------+           +---------------+
           |  Radio Link   |           | Radio Link    |
           |  Terminal A   |           | Terminal B    |
           |               |           |               |
           |               |           |               |
           | +-----------+ |           | +-----------+ |
           | |           | | Carrier A | |           | |
           | |  Carrier  | |<--------->| |  Carrier  | |
           | |Termination| |           | |Termination| |
           | |     1     | |           | |     1     | |
           | +-----------+ |           | +-----------+ |
           |               |           |               |
           |               |           |               |
           +---------------+           +---------------+

     \--- Microwave Node ---/          \--- Microwave Node ---/
]]></artwork></figure>   

    <t><xref target="fig_10example"/> shows a 1+0 example.  
The following instance
     shows the 1+0 configuration of the Near End node.
     </t>

  <figure><artwork><![CDATA[
   "interface": [
      {
        "name": "RLT-A",
        "description": "Radio Link Terminal A",
        "type": "microwaveRadioLinkTerminal",
        "id": "RLT-A",
        "mode": "one-plus-zero",
        "carrier-terminations": [
          "RLT-A:CT-1"
        ],
        "tdm-connections": [
          "tdm-type": "E1",
          "tdm-connections": "4"
        ]
      },

      {
        "name": "RLT-A:CT-1",
        "description": "Carrier Termination 1",
        "type": "microwaveCarrierTermination",
        "carrier-id": "A",
        "tx-enabled": true,
        "tx-frequency": 10728000,
        "duplex-distance": 644000,
        "channel-separation": 28000,
        "polarization": not-specified,
        "rtpc": {
          "maximum-nominal-power": 20
        },
        "single": {
          "selected-cm": "qam-512"
        } 
      }
   ]
]]></artwork></figure>   
   </section> 

   <section title="2+0 Instance" toc="default">

    <t><xref target="fig_20example"/> shows a 2+0 example.</t>   

    <figure title="2+0 Example" anchor="fig_20example"><artwork><![CDATA[
                 /--------- Radio Link ---------\
                  Near End              Far End

           +---------------+           +---------------+
           | Radio Link    |           | Radio Link    |
           | Terminal A    |           | Terminal B    |
           |               |           |               |
           |               |           |               |
           | +-----------+ |           | +-----------+ |
           | |           | | Carrier A | |           | |
           | |  Carrier  | |<--------->| |  Carrier  | |
           | |Termination| |           | |Termination| |
           | |     1     | |           | |     1     | |
           | +-----------+ |           | +-----------+ |
           |               |           |               |
           | +-----------+ |           | +-----------+ |
           | |           | | Carrier B | |           | |
           | |  Carrier  | |<--------->| |  Carrier  | |
           | |Termination| |           | |Termination| |
           | |     2     | |           | |     2     | |
           | +-----------+ |           | +-----------+ |
           |               |           |               |
           +---------------+           +---------------+

     \--- Microwave Node ---/          \--- Microwave Node ---/
]]></artwork></figure>  

   <t>
   The following instance shows the 2+0 configuration of the
   Near End node.
   </t>

<figure><artwork><![CDATA[
   "interface": [
      {
        "name": "RLT-A",
        "description": "Radio Link Terminal A",
        "type": "microwaveRadioLinkTerminal",
        "id": "RLT-A",
        "mode": "two-plus-zero",
        "carrier-terminations": [
          "RLT-A:CT-1",
          "RLT-A:CT-2"
        ],
        "tdm-connections": [
          "tdm-type": "E1",
          "tdm-connections": "4"
        ]
      },

      {
        "name": "RLT-A:CT-1",
        "description": "Carrier Termination 1",
        "type": "microwaveCarrierTermination",
        "carrier-id": "A",
        "tx-enabled": true,
        "tx-frequency": 10728000,
        "duplex-distance": 644000,
        "channel-separation": 28000,
        "polarization": not-specified,
        "rtpc": {
          "maximum-nominal-power": 20
        },
        "single": {
          "selected-cm": "qam-512"
        } 
      },

      {
        "name": "RLT-A:CT-2",
        "description": "Carrier Termination 2",
        "type": "microwaveCarrierTermination",
        "carrier-id": "B",
        "tx-enabled": true,
        "tx-oper-status": on,
        "tx-frequency": 10618000,
        "duplex-distance": 644000,
        "channel-separation": 28000,
        "polarization": not-specified,
        "rtpc": {
          "maximum-nominal-power": 20
        },
        "single": {
          "selected-cm": "qam-512"
        } 
      }
   ]
]]></artwork></figure>   
   </section> 
 

   <section title="2+0 XPIC Instance" toc="default">

   <t>The following instance shows the XPIC configuration of the
   Near End node.</t>
   
    <figure><artwork><![CDATA[
   "interface": [
      {
        "name": "RLT-A",
        "description": "Radio Link Terminal A",
        "type": "microwaveRadioLinkTerminal",
        "id": "RLT-A",
        "mode": "two-plus-zero",
        "carrier-terminations": [
          "RLT-A:CT-1",
          "RLT-A:CT-2"
        ],
        "xpic-pairs": [
          "RLT-A:CT-1",
          "RLT-A:CT-2"
        ],
        "tdm-connections": [
          "tdm-type": "E1",
          "tdm-connections": "4"
        ]
      },

      {
        "name": "RLT-A:CT-1",
        "description": "Carrier Termination 1",
        "type": "microwaveCarrierTermination",
        "carrier-id": "A",
        "tx-enabled": true,
        "tx-frequency": 10728000,
        "duplex-distance": 644000,
        "channel-separation": 28000,
        "polarization": not-specified,
        "rtpc": {
          "maximum-nominal-power": 20
        },
        "single": {
          "selected-cm": "qam-512"
        }
      },

      {
        "name": "RLT-A:CT-2",
        "description": "Carrier Termination 2",
        "type": "microwaveCarrierTermination",
        "carrier-id": "B",
        "tx-enabled": true,
        "tx-oper-status": on,
        "tx-frequency": 10618000,
        "duplex-distance": 644000,
        "channel-separation": 28000,
        "polarization": not-specified,
        "rtpc": {
          "maximum-nominal-power": 20
        },
        "single": {
          "selected-cm": "qam-512"
        } 
      }
   ] 
]]></artwork></figure>   
   </section> 

   
  </section>


  <section title="Contributors" numbered="no">  
  <figure><artwork><![CDATA[
Koji Kawada
NEC Corporation
1753, Shimonumabe Nakahara-ku
Kawasaki, Kanagawa 211-8666
Japan

Email: k-kawada@ah.jp.nec.com


Carlos J. Bernardos
Universidad Carlos III de Madrid
Av. Universidad, 30
Leganes, Madrid  28911
Spain

Email: cjbc@it.uc3m.es
]]></artwork></figure>
  </section>

  
 </back>
</rfc>
