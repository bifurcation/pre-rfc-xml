<?xml version="1.0" encoding="US-ASCII" ?>
<?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>

<?rfc toc="yes"?>
<?rfc tocompact="yes"?>
<?rfc tocdepth="3"?>
<?rfc tocindent="yes"?>
<?rfc tocappendix="yes"?>
<?rfc symrefs="yes"?>
<?rfc sortrefs="yes"?>
<?rfc compact="yes"?>
<?rfc subcompact="no"?>
<?rfc rfcedstyle="yes"?>

<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
  <!ENTITY rfc2119 PUBLIC '' 
  'http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml'>
  <!ENTITY rfc2131 PUBLIC '' 
  'http://xml.resource.org/public/rfc/bibxml/reference.RFC.2131.xml'>  
  <!ENTITY rfc6275 PUBLIC '' 
  'http://xml.resource.org/public/rfc/bibxml/reference.RFC.6275.xml'>
  <!ENTITY rfc5844 PUBLIC '' 
  'http://xml.resource.org/public/rfc/bibxml/reference.RFC.5844.xml'>
  <!ENTITY rfc5213 PUBLIC '' 
  'http://xml.resource.org/public/rfc/bibxml/reference.RFC.5213.xml'>
  <!ENTITY rfc3046 PUBLIC '' 
  'http://xml.resource.org/public/rfc/bibxml/reference.RFC.3046.xml'>
  <!ENTITY rfc1035 PUBLIC '' 
  'http://xml.resource.org/public/rfc/bibxml/reference.RFC.1035.xml'>
  <!ENTITY rfc3629 PUBLIC '' 
  'http://xml.resource.org/public/rfc/bibxml/reference.RFC.3629.xml'>
  <!ENTITY rfc6225 PUBLIC '' 
  'http://xml.resource.org/public/rfc/bibxml/reference.RFC.6225.xml'>
  <!ENTITY rfc2460 PUBLIC '' 
  'http://xml.resource.org/public/rfc/bibxml/reference.RFC.2460.xml'>
  <!ENTITY rfc5139 PUBLIC ''
  'http://xml.resource.org/public/rfc/bibxml/reference.RFC.5139.xml'>
]>


<rfc number="6757" category="std" ipr="trust200902" submissionType="IETF" consensus="yes">

<front>


<title abbrev="Access Network Identifier Option">
Access Network Identifier (ANI) Option for Proxy Mobile IPv6
</title>


<author role="editor" initials="S" surname="Gundavelli" fullname="Sri Gundavelli">
<organization abbrev="">Cisco</organization>
<address>
<postal>
<street>170 West Tasman Drive</street>
<city>San Jose</city> 
<region>CA</region>
<code>95134</code>
<country>USA</country>
</postal>
<email>sgundave@cisco.com</email>
</address>
</author>

<author role="editor" initials="J" surname="Korhonen" fullname="Jouni Korhonen">
<organization abbrev="">Nokia Siemens Networks</organization>
<address>
<postal>
<street>Linnoitustie 6</street>
<city>Espoo </city> 
<code>FIN-02600</code>
<country>Finland</country>
</postal>
<email>jouni.nospam@gmail.com</email>
</address>
</author>

<author initials="M" surname="Grayson" fullname="Mark Grayson">
<organization abbrev="">Cisco</organization>
<address>
<postal>
<street>11 New Square Park</street>
<city>Bedfont Lakes</city> 
<region>Feltham</region>
<code>TW14 8HA</code>
<country>England</country>
</postal>
<email>mgrayson@cisco.com</email>
</address>
</author>


<author initials="K" surname="Leung" fullname="Kent Leung">
<organization abbrev="">Cisco</organization>
<address>
<postal>
<street>170 West Tasman Drive</street>
<city>San Jose</city> 
<region>CA</region>
<code>95134</code>	
<country>USA</country>
</postal>
<email>kleung@cisco.com</email>
</address>
</author>




<author initials="R" surname="Pazhyannur" fullname="Rajesh Pazhyannur">
<organization abbrev="">Cisco</organization>
<address>
<postal>
<street>170 West Tasman Drive</street>
<city>San Jose</city> 
<region>CA</region>
<code>95134</code>	
<country>USA</country>
</postal>
<email>rpazhyan@cisco.com</email>
</address>
</author>

<date month="October" year="2012" />
<area>Internet</area>
<workgroup>NETEXT WG</workgroup>



<abstract>
<t>
The local mobility anchor in a Proxy Mobile IPv6 (PMIPv6) domain is able to
provide access-network- and access-operator-specific handling or
policing of the mobile node traffic using information about the access
network to which the mobile node is attached. This specification defines
a mechanism and a related mobility option for carrying the access network
identifier and the access operator identification information from the
mobile access gateway to the local mobility anchor over Proxy Mobile IPv6.
</t>
</abstract>

</front>


<middle>


<section anchor="sec:introduction"  title="Introduction">

<t>
Proxy Mobile IPv6 <xref target="RFC5213"/> can be used for supporting network-based
mobility management in various types of network deployments. Network
architectures such as
service provider Wi-Fi access aggregation or Wireless Local Area Network (WLAN)
integrated with mobile packet core are examples
where Proxy Mobile IPv6 is a  component of the overall architecture. Some of these architectures
require the ability of the local mobility anchor (LMA) <xref target="RFC5213"/>  to provide
differentiated services and policing of traffic to the  mobile nodes based on the access network
to which they are attached. Policy systems in mobility
architectures such as the Policy and Charging Control (PCC) Framework 
<xref target="TS23203"></xref> and the Access Network Discovery and Selection Function (ANDSF) 
<xref target="TS23402"></xref>
in Third Generation Partnership Project (3GPP) systems allow configuration of policy rules with conditions based on
the access network
information. For example, the service treatment for the mobile node's traffic may be different
when it is attached to an access network owned by the home operator than when
owned by a roaming
partner. The service treatment can also be different based on the configured Service Set Identifiers
(SSIDs) in the case of access networks based on IEEE 802.11. Other examples of location services include
the operator's ability to display a location-specific web page or apply tariff based on the 
location. 
</t>

<t>
The Proxy Mobile IPv6 specification <xref target="RFC5213"/> requires the Access Technology Type (ATT)
option to be carried from the mobile access gateway (MAG) to the local mobility anchor. This is a
mandatory option. However, the Access Technology Type alone is not necessarily
sufficient for a suitable policy to be applied at the local mobility anchor.  Therefore,
there is a need for additional access-network-related information to be
available at the
local mobility anchor. Learning the identity of the access network operator may
not be possible 
for a local mobility anchor without the support of an additional policy framework that is able
to provide required information out of band to the local mobility anchor. Such a policy
framework may not be required for all Proxy Mobile IPv6 deployments; hence, an alternative
approach for optionally carrying such  information is required to ensure that additional
information related to the access network is available.
</t> 


<t>
This document defines a new mobility option, the Access Network Identifier (ANI)
option, and its sub-options for Proxy Mobile IPv6, which can be used by the
mobile access gateway to signal the access network information to the local mobility
anchor.  The specific details on how the local mobility anchor uses the information contained in the 
Access Network Identifier option are out of scope for this document. 
This information is intended for use between infrastructure nodes providing mobile management service
and is not exposed to outside entities, which ensures the location of the network to which the mobile
node is attached, or any other access-network-specific information, is not
revealed to other mobile nodes
within the PMIPv6 domain or to other nodes outside the PMIPv6 domain. 

However, the location and access information MAY be exposed to
specific parties outside the PMIPv6 domain based on an agreement
approved by the subscriber; otherwise, this information MUST NOT be
exposed in the absence of such agreements. If the location
information is to be exposed outside the PMIPv6 domain, then that
MUST be done using a Presence Information Data Format Location Object (PIDF-LO)
<xref target="RFC5139"/> carrying the usage rules
to which the subscriber has agreed.

This
mobility option is optional and is not mandatory for the Proxy Mobile IPv6 protocol. However, the Access
Technology Type option  continues to be a mandatory option and always needs to be carried in the Proxy
Mobile IPv6 signaling messages.
</t>



<figure anchor='fig1' title="Access Networks Attached to MAG">
<artwork><![CDATA[
    SSID: IETF-1
    Geo-Location: 37o49'11"N 122o28'43"W
    Operator-Identifier: provider1.example.com
    +--+ 
    |AP|-------.                        {Access-Specific Policies)  
    +--+       |             _-----_             |
             +-----+       _(       )_        +-----+    
             | MAG |-=====(   PMIPv6  )======-| LMA |-
             +-----+       (_ Tunnel_)        +-----+
    +--+       |             '-----'       
    |AP|-------'    
    +--+
    SSID: IETF-2
    Geo-Location: 59o19'40.21"N  18o 3'18.36"E
    Operator-Identifier: provider2.example.com
]]></artwork>
</figure>


<t>
<xref target="fig1"/> illustrates an example Proxy Mobile IPv6 deployment where the mobile 
access gateway delivers the information elements related to the access network to 
the local mobility anchor over Proxy Mobile IPv6 signaling messages. In this 
example, the additional information could comprise the SSID of the used 
IEEE 802.11 network, the geo-location of the network to which the mobile node is attached,
and the identities of the operators running the IEEE 802.11 access network infrastructure.
</t>
      
</section>





<section anchor="sec:conventions_terminology" title="Conventions and Terminology">



<section anchor="sec:conventions" title="Conventions">
<t>
The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
"SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
document are to be interpreted as described in RFC 2119 <xref target="RFC2119"/>.
</t>
</section> 



<section anchor="sec:terminology" title="Terminology">
<t>
All the mobility-related terms used in this document are to be
interpreted as defined in the Proxy Mobile IPv6 specifications
<xref target="RFC5213"/> and <xref target="RFC5844"/>. Additionally,
this document uses the following abbreviations: 
</t>


<t>
<list style="hanging">

 <t hangText="Service Set Identifier">
 <vspace blankLines="1"/>
 Service Set Identifier (SSID) identifies the name of the IEEE 802.11 network.
 SSID differentiates one network from the other.
 </t>

 <t hangText="Operator-Identifier">
 <vspace blankLines="1"/>
 The Operator-Identifier is the Structure of Management Information (SMI) Network
Management Private Enterprise Code of the
 IANA-maintained "Private Enterprise Numbers" registry <xref target="SMI"/>. It
 identifies the operator running
 the network attached to a specific interface of the mobile access gateway.
 </t>

</list>
</t>
		
</section> 
</section> 





<section title="Access Network Identifier Option" anchor="sec:ani">
<t>
The Access Network Identifier option is a mobility header option used to exchange
information related to the access network between a local mobility anchor and a mobile
access gateway. The option can be included in both Proxy Binding Update (PBU) and
Proxy Binding Acknowledgement (PBA) messages, and there MUST NOT be more than a
single instance of this mobility option in a mobility message. The Access Network
Identifier mobility option MUST contain one or more Access Network Identifier
sub-options. The Access Network Identifier sub-option is described in
<xref target="sec:ani-subopt"/>. 
</t>
<t>
The alignment requirement for this option is 4n <xref target="RFC2460"/>.
</t>

<figure anchor='fig2' title="Access Network Identifier Option">
<artwork>
<![CDATA[ 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|      Type     |   Length      |   
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
               ...      ANI Sub-option(s) ...                   ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
]]></artwork>
</figure> 

<t>
<list style="hanging">
<t hangText="Type:">
MUST be set to the value of 52,
indicating that it is a Network-Identifier option.
</t>

<t hangText="Length:">
8-bit unsigned integer indicating the length in octets of the option, excluding
the Type and Length fields. 
</t>
</list>
</t>






<section title="Format of the Access Network Identifier Sub-Option" anchor="sec:ani-subopt">
<t>
The Access Network Identifier sub-options are used for carrying information
elements related to the access network to which the mobile node is attached.
These sub-options can be included in the Access Network Identifier option defined
in <xref target="sec:ani"/>. The format of this sub-option is as follows:
</t>
 

<figure anchor='fig3' title="Access Network Identifier Sub-Option">
<artwork><![CDATA[ 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|    ANI Type   | ANI Length    |         Option Data           ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
]]></artwork>
</figure> 

<t>
<list style="hanging">
 
<t hangText="ANI Type:">
8-bit unsigned integer indicating the type of the Access Network Identifier
sub-option. This specification defines the following types:


<list style="hanging">      

<t hangText="0 -">Reserved</t>

<t hangText="1 -">Network-Identifier sub-option</t>

<t hangText="2 -">Geo-Location sub-option</t>

<t hangText="3 -">Operator-Identifier sub-option</t>

</list>
</t>

<t hangText="ANI Length:">
8-bit unsigned integer indicating the number of octets needed to encode the
Option Data, excluding the ANI Type and ANI Length fields of the sub-option. 
</t>
</list>
</t>




<section title="Network-Identifier Sub-Option" anchor="sec:ssid">
<t>
The Network-Identifier is a mobility sub-option carried in the Access
Network Identifier option defined in <xref target="sec:ani"/>. This 
sub-option carries the name of the access network (e.g., an SSID
in the case of an IEEE 802.11 Access Network or a Public Land-based Mobile
Network (PLMN) Identifier <xref
target="TS23003"></xref> 
in the case of 3GPP access) to which the mobile node is attached. There MUST be no more
than a single instance of this specific sub-option in any Access Network Identifier
option. The format of this option is defined below.
</t>


<figure anchor='fig:ssid' title="Network-Identifier Sub-Option" >
<artwork><![CDATA[   
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| ANI Type=1    |  ANI Length   |E|   Reserved  | Net-Name Len  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                     Network Name (e.g., SSID or PLMNID)       ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+   
| AP-Name Len   |        Access-Point Name                      ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
]]></artwork>
</figure> 

<t>
<list style="hanging">
<t hangText="ANI Type:">MUST be set to the value of (1), indicating that
it is a Network-Identifier sub-option
</t> 
 
<t hangText="ANI Length:">Total length of this sub-option in octets, excluding
the ANI Type and
ANI Length fields. The value can be in the range of 5 to 32 octets.
</t>

<t hangText="E:"> 1-bit flag indicating whether the Network Name is encoded in
UTF-8. If this flag is set to one (1), then the Network Name is encoded
using UTF-8 <xref target="RFC3629"/>. If the flag is set to zero (0), this indicates
that the encoding is undefined and is determined by out-of-band mechanisms.
Implementations SHOULD use UTF-8 encoding.
</t>

<t hangText="Reserved:">MUST be set to zero when sending and ignored when received. 
</t>

<t hangText="Net-Name Length:">8-bit field for representing the length of the Network Name in octets. This field MUST NOT
be set to zero. 
</t>

<t hangText="Network Name:">The name of the access network to which the mobile
node is attached. The type of the Network Name
is dependent on the access technology to which the mobile node is attached. If
it is 802.11 access, the Network Name MUST be the 
SSID of the network. If the access network is 3GPP access, the Network Name is the PLMN Identifier of the network. If the access 
network is 3GPP2 access, the Network Name is the Access Network Identifier <xref target="ANI"/>. <vspace blankLines="1"/> When
encoding the PLMN Identifier, both the Mobile Network Code (MNC) <xref target="TS23003"></xref> and Mobile Country Code (MCC) 
<xref target="TS23003"></xref> MUST be 3 digits. If the MNC in use only has 2 digits, then it MUST be preceded with a '0'. 
Encoding MUST be UTF-8.
</t>

<t hangText="AP-Name Len:">8-bit field for representing the length of the Access-Point Name in octets. If the Access-Point Name is not included, then this length MUST be set to a value of zero.
</t>

<t hangText="Access-Point Name:">The name of the access point (physical device name) to which the mobile node is attached. This 
is the identifier that uniquely identifies the access point. While Network Name
(e.g., SSID) identifies the operator's access network, 
Access-Point Name identifies a specific network device in the network to which
the mobile node is attached. In some deployments, the
Access-Point Name can be set to the Media Access Control (MAC) address of the device or some unique
identifier that can be used by the policy systems in
the operator network to unambiguously identify the device. The string is
carried in UTF-8 representation. 
</t>


</list>
</t>
</section>




<section title="Geo-Location Sub-Option" anchor="sec:geo">
<t>
The Geo-Location is a mobility sub-option carried in the Access
Network Identifier option defined in <xref target="sec:ani"/>.  This sub-option
carries the geo-location of the network to which the mobile node is
attached, as known to the mobile access gateway.  There MUST be no
more than a single instance of this specific sub-option in any Access
Network Identifier option.  The format of this option is defined
below and encodes the coordinates of an ellipsoid point. The
format is based on the coordinate reference system specified in the
World Geodetic System 1984 <xref target="WGS84"></xref>.
</t>

<figure anchor='fig:geo' title="Geo-Location ANI Sub-Option" >
<artwork><![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  ANI Type=2   | ANI Length=6  |       Latitude Degrees
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                |              Longitude Degrees                |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
]]></artwork>
</figure> 


<t>
<list style="hanging">

<t hangText="ANI Type:">MUST be set to the value of (2), indicating that it
is the Geo-Location
sub-option</t> 
 
<t hangText="ANI Length:">
Total length of this sub-option in octets, excluding the ANI Type and ANI
Length fields.  It MUST be set to a value of (6).
</t>
 
<t hangText="Latitude Degrees:">  
A 24-bit latitude degree value encoded as a two's complement, fixed point number with 9 whole bits. Positive degrees 
correspond to the Northern Hemisphere and negative degrees correspond to the
Southern Hemisphere. The value ranges from
-90 to +90 degrees.
</t>
    
<t hangText="Longitude Degrees:">
A 24-bit longitude degree value encoded as a two's complement, fixed point
number with 9 whole bits. The value ranges
from -180 to +180 degrees.
</t>
  
</list>
</t>
 
</section>












<section title="Operator-Identifier Sub-Option" anchor="sec:opid">
<t>
The Operator-Identifier is a mobility sub-option carried in the Access
Network Identifier option defined in <xref target="sec:ani"/>. This 
sub-option carries the Operator-Identifier of the
access network to which the mobile node is attached. There MUST be no
more than a single instance of this specific sub-option in any Access
Network Identifier option. The format of this option is defined below.
</t>



<figure anchor='fig:operator' title="Operator-Identifier Sub-Option">
<artwork><![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| ANI Type=3    |    ANI Length   |   Op-ID Type  | 
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                         Operator-Identifier                    ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+   
]]></artwork>
</figure> 

<t>
<list style="hanging">

<t hangText="ANI Type:">It MUST be set to the value of (3), indicating that
it is the Operator-Identifier sub-option</t> 
 
<t hangText="ANI Length:">Total length of this sub-option in octets, excluding the ANI Type and
ANI Length fields.</t>
  
 
<t hangText="Operator-Identifier (Op-ID) Type:">
8-bit unsigned integer indicating the type of the Operator-Identifier. Currently, the
following types are defined:

<list style="hanging" hangIndent="5">      
<t hangText="0 -">Reserved.</t>
<t hangText="1 -">Operator-Identifier as a variable-length Private Enterprise Number 
(PEN) <xref target="SMI"/> encoded in a network-byte order. The maximum PEN
value depends on the ANI Length and is calculated using the formula: maximum
PEN = 2^((ANI_length-1)*8)-1.  For example, the ANI Length of 4 allows for 
encoding PENs from 0 to 2^24-1, i.e., from 0 to 16777215, and uses 3 octets of 
Operator-Identifier space.
</t>
<t hangText="2 -">Realm of the operator. Realm names are required to be unique
and are piggybacked
on the administration of the DNS namespace. Realms meet the syntactic
requirements of the "Preferred Name Syntax" defined in
Section 2.3.1 of <xref target="RFC1035"/>. They
are encoded as US-ASCII. 3GPP
specifications also define realm names that can be used to
convey PLMN Identifiers <xref target="TS23003"/>.
</t>
</list>
</t>

<t hangText="Operator-Identifier:">
Up to 253 octets of the Operator-Identifier. The encoding of the identifier
depends on the used Operator-Identifier Type. For Operator-Identifiers defined in this specification, the Operator-Identifier MUST NOT be empty.
</t>
</list>
</t>

</section>

</section>

</section>










<section anchor="sec:pc" title="Protocol Considerations">
<t>
The following considerations apply to the local mobility anchor 
and the mobile access gateway.
</t>




<section anchor="sec:pc-mag" title="Mobile Access Gateway Considerations">

<t>
<list style="symbols">
<t>
The conceptual Binding Update List entry data structure maintained by
the mobile access gateway, described in Section 6.1 of <xref target="RFC5213"/>,
MUST be extended to store the access-network-related information elements
associated with the current session. Specifically, the following parameters MUST
be defined:
 
<list style="hanging">
 <t hangText="Network-Identifier"></t>
 <t hangText="Operator-Identifier"></t>
 <t hangText="Geo-Location"></t>
</list>
</t>



<t>
If the mobile access gateway is configured to support the Access Network
Information option, it
SHOULD include this option with the specific sub-options in all Proxy Binding Update messages
(including Proxy Binding Updates for lifetime extension and for deregistration) that it
sends to the local mobility anchor. The Access Network Information option MUST be constructed
as specified in <xref target="sec:ani"/>. It SHOULD include the ANI sub-option(s) that
the mobile access gateway is configured to carry in the Proxy Mobile IPv6 messages.  
</t>


<t>
The access network information elements, such as Network-Identifier,
Geo-Location, and
Operator-Identifier, typically are statically configured on the mobile access gateway on a
per-interface basis (for example, access point (AP-1) is attached through interface-1,
and the SSID is X, Geo-Location is Y). In some deployments, this information can also be
dynamically obtained, such as through DHCP Option (82), which is the DHCP Relay Agent Information
option  <xref target="RFC3046"/>. When the mobile node sends a DHCP Request, the access points
typically add the SSID information to the  Option 82 of the DHCP request, and
when the mobile access
gateway receives this  request, it can parse the Option 82 of the DHCP request and obtain the
SSID name. The mobility access gateway can also obtain this information from the DHCPv6 GeoLoc
Option  <xref target="RFC6225"/>. The specific details on how the mobile access gateway obtains these
information elements are access technology and deployment specific and are
outside the scope of this 
document. It is possible those information elements are configured on the MAG on a per-interface
basis or dynamically obtained through some out-of-band means, such as based
on the Control and Provisioning of Wireless Access Points (CAPWAP) protocol.
</t>

<t>
If the protocol configuration variable EnableANISubOptNetworkIdentifier (<xref
target="sec-pvars"/>) is 
set to a value of (1), the mobile access gateway SHOULD include the Network-Identifier sub-option
in the Access Network Identifier option carried in the Proxy Binding Update.
However, if the mobile access gateway is unable to obtain the Network-Identifier, then it MUST NOT
include this sub-option. For including the Network-Identifier sub-option, the mobile access gateway needs to
be aware of the Network Name of the access network (e.g., SSID in the
case of a WLAN access network) to which
the mobile node is attached. This sub-option also includes the Access-Point Name for carrying the
name of the access point to which the mobile node is attached. The Access-Point Name is specially
important for applying location services, given that the Network Name (e.g.,
SSID) may not provide
the needed uniqueness for identifying a location. When included, this sub-option 
MUST  be constructed as described
in <xref target="sec:ssid"/>
</t>

<t>
If the protocol configuration variable EnableANISubOptGeoLocation  (<xref
target="sec-pvars"/>) is set to
a value of (1), the mobile access gateway SHOULD include the Geo-Location sub-option
in the Access Network Identifier option carried in the Proxy Binding Update.
However, if the mobile access gateway is unable to obtain the Geo-location, then it MUST NOT
include this sub-option. For including the Geo-Location sub-option, the mobile access gateway needs to be
aware of the GPS coordinates of the network to which the mobile node is
attached. When included, this
sub-option MUST be constructed as described in <xref target="sec:geo"/>.
</t>

<t>
If the protocol configuration variable EnableANISubOptOperatorIdentifier
(<xref target="sec-pvars"/>) is set to
a value of (1), the mobile access gateway SHOULD include the
Operator-Identifier sub-option 
in the Access Network Identifier option carried in the Proxy Binding Update.  For including the Operator-Identifier
sub-option, the mobile access gateway needs to  be aware of the operator identity of that access network. The 
access network operator SHOULD obtain an identifier from the "Private Enterprise Number" registry, in order for the
mobile access gateway to carry the Operator-Identifier.  If a given access network operator has not obtained an
identifier from the "Private Enterprise Number" registry or if the  mobile access gateway is unable to learn the
operator identity for any other administrative reasons, then it MUST NOT
include this sub-option. 
When included, this sub-option
MUST  be constructed as described in <xref target="sec:opid"/>. 
</t>

</list>
</t>

<t>If the mobile access gateway had any of the Access Network Information mobility options
included the Proxy Binding Update sent to a local mobility anchor, then the Proxy Binding 
Acknowledgement received from the local mobility anchor SHOULD contain the
Access Network Information mobility option with the specific sub-options. If the mobile
access gateway receives a Proxy Binding Acknowledgement with a successful Status Value but
without an Access Network Information mobility option, then the mobile access gateway SHOULD
log the event and, based on its local policy, MAY proceed to terminate the
mobility session.
In this case, the mobile access gateway knows the local mobility anchor does not understand
the Access Network Information mobility option and therefore MAY consider it as a
misconfiguration of the Proxy Mobile IPv6 domain.
</t>


</section>




<section anchor="sec:pc-lma" title="Local Mobility Anchor Considerations">
<t>
<list style="symbols">

<t>
The conceptual Binding Cache entry data structure maintained by the local
mobility anchor, described in Section 5.1 of <xref target="RFC5213"/>,  MUST be
extended to store the access-network-related information elements associated with
the current session. Specifically, the following parameters MUST
be defined:

<list style="hanging">
<t hangText="Network-Identifier"></t>
<t hangText="Geo-Location"></t>
<t hangText="Operator-Identifier"></t>

</list>
</t>


<t>
On receiving a Proxy Binding Update message <xref target="RFC5213"/> 
from a mobile access gateway with the Access Network Information 
option, the local mobility anchor must process the option and update
the corresponding fields in the Binding Cache entry. If the option is not
understood by that LMA implementation, it will skip the option.
</t>

<t>
If the local mobility anchor understands the Access Network Identifier mobility
option received in a Proxy Binding Update and also supports the sub-option(s), 
then the local mobility anchor MUST echo
the Access Network Identifier mobility option with the specific sub-option(s)
that it accepted  back to the mobile access gateway in a
Proxy Binding Acknowledgement. The Access Network Identifier sub-options defined in
this specification MUST NOT be altered by the local mobility anchor. 
</t>


<t>
If the received Proxy Binding Update message does not include the 
Access Network Information option, then the mobility session associated
with that Proxy Binding Update MUST be updated to remove any 
access network information elements.
</t>

<t>
The local mobility anchor MAY choose to use the Access Network Information
sub-options for applying any access-operator-specific handling or policing of the
mobile node traffic. The specific details on how these sub-options are used is
outside the scope of this document.
</t>

</list>
</t>
</section>

</section>




<section anchor="sec:iana"  title="IANA Considerations">
<t>
Per this document, the following IANA actions have been completed.
</t>

<t>
<list style="symbols">


<t>
Action 1: This specification defines a new mobility header option, the Access
Network Identifier. This mobility option is described in <xref target="sec:ani"/>. The
type value (52) for this option has been assigned from the same numbering space as
allocated for the other mobility options, as defined in <xref target="RFC6275"/>.
</t>

<t>
Action 2: This specification defines a new mobility sub-option format, the Access
Network Information
(ANI) sub-option. The format of this mobility sub-option is described in  <xref target="sec:ani-subopt"/>.
This sub-option can be carried in the Access Network Information option. The type value for
this sub-option is managed by IANA, under the registry "Access Network
Information (ANI)
Sub-Option Type Values". This specification reserves the following type values. Approval of new
Access Network Information (ANI) sub-option type values are to be made through IANA Expert Review.



<figure>
<artwork><![CDATA[
   +=========================================================+
   | 0 | Reserved                                            |
   +=========================================================+
   | 1 | Network-Identifier sub-option                       |
   +=========================================================+
   | 2 | Geo-Location sub-option                             |
   +=========================================================+
   | 3 | Operator-Identifier sub-option                      |
   +=========================================================+
]]></artwork>
</figure> 
</t>

<t>
Action 3: This specification defines a new mobility sub-option, the Operator-Identifier sub-option.
The format of this mobility sub-option is described in  <xref target="sec:opid"/>. 
The Operator-Identifier (Op-ID) Type field of this sub-option introduces a new number space. This
number space is managed by IANA, under the registry "Operator-Identifier Type Registry". This
specification reserves the following type values.  Approval of new Operator-Identifier type
values are to be made through IANA Expert Review.

<figure>
<artwork><![CDATA[
   +===============================================+
   | 0 | Reserved                                  |
   +===+===========================================+
   | 1 | Operator-Identifier as a variable-length  |
   |   | Private Enterprise Number (PEN)           |
   +===+===========================================+
   | 2 | Realm of the Operator                     |
   +===+===========================================+
]]></artwork>
</figure> 

</t>
</list>
</t>


</section>



<section title="Protocol Configuration Variables" anchor="sec-pvars">
<t>
This specification defines the following configuration variables that control
the use of sub-options related to the Access Network Information in Proxy Mobile 
IPv6 signaling messages. The mobility entities, local mobility anchor, and
mobile access gateway MUST allow these  variables to be configured by the system
management.  The configured values for these protocol variables MUST survive
server reboots and service restarts.
</t>


<t>
<list style="hanging">

<t hangText="EnableANISubOptNetworkIdentifier">

<vspace blankLines="1" />
This flag indicates the operational state of the Network-Identifier sub-option
support. This configuration variable is available at both the
mobile access gateway and the local mobility anchor. The default value for
this flag is set to (0), indicating that support for the Network-Identifier
sub-option is disabled. 

<vspace blankLines="1" />
When this flag on the mobile access gateway is set to a value of (1), the mobile
access gateway SHOULD include this sub-option in the Proxy Binding Update messages
that it sends to the local mobility anchor; otherwise, it SHOULD NOT include the
sub-option. There can be situations where the mobile access gateway is unable to
obtain the Network-Identifier and may not be able to construct this sub-option.

<vspace blankLines="1" />
Similarly, when this flag on the local mobility anchor is set to a value of (1),
the local mobility anchor SHOULD enable support for this sub-option; otherwise, it
SHOULD ignore this sub-option.
</t>





<t hangText="EnableANISubOptGeoLocation">

<vspace blankLines="1" />
This flag indicates the operational state of the Geo-Location sub-option 
support. This configuration variable is available at both the
mobile access gateway and the local mobility anchor. The default value for
this flag is set to (0), indicating that support for the Geo-Location
sub-option is disabled. 

<vspace blankLines="1" />
When this flag on the mobile access gateway is set to a value of (1), the mobile
access gateway SHOULD include this sub-option in the Proxy Binding Update messages
that it sends to the local mobility anchor; otherwise, it SHOULD NOT include the
sub-option. There can be situations where the mobile access gateway is unable to
obtain the geo-location information and may not be able to construct this sub-option. 

<vspace blankLines="1" />
Similarly, when this flag on the local mobility anchor is set to a value of (1),
the local mobility anchor SHOULD enable support for this sub-option; otherwise, it
SHOULD ignore this sub-option.

</t>




<t hangText="EnableANISubOptOperatorIdentifier">

<vspace blankLines="1" />
This flag indicates the operational state of the Operator-Identifier sub-option
support. This configuration variable is available at both the
mobile access gateway and the local mobility anchor. The default value for
this flag is set to (0), indicating that support for the Operator-Identifier
sub-option is disabled. 

<vspace blankLines="1" />
When this flag on the mobile access gateway is set to a value of (1), the mobile
access gateway SHOULD include this sub-option in the Proxy Binding Update messages
that it sends to the local mobility anchor; otherwise, it SHOULD NOT include the
sub-option. There can be situations where the mobile access gateway is unable to
obtain the Operator-Identifier information and may not be able to construct this
sub-option. 

<vspace blankLines="1" />
Similarly, when this flag on the local mobility anchor is set to a value of (1),
the local mobility anchor SHOULD enable support for this sub-option; otherwise, it
SHOULD ignore this sub-option.

</t>
</list>
</t>


</section>






<section anchor="sec:secons"  title="Security Considerations">
<t>
The Access Network Information option defined in this specification
is for use in Proxy Binding Update and Proxy Binding Acknowledgement
messages.  This option is carried like any other mobility header
option as specified in <xref target="RFC6275"/> and does not require
any special security considerations.
</t>

<t>
The Geo-Location sub-option carried in the Access Network Information option 
exposes the geo-location of the network to which the mobile node is attached.
This information is considered to be very sensitive, so care must be taken
to secure the Proxy Mobile IPv6 signaling messages when carrying this sub-option.
The base Proxy  Mobile IPv6 specification <xref target="RFC5213"/>  specifies the
use of IPsec for securing the signaling messages, and those mechanisms can be
enabled for protecting this information. Operators can potentially apply IPsec
Encapsulating Security Payload (ESP) with confidentiality and integrity protection for protecting the location
information.
</t>

<t>
Access-network-specific information elements that the mobile access gateway
sends may have been dynamically learned over DHCP or using other protocols. If
proper security mechanisms are not in place, the exchanged information may be
potentially compromised with the mobile access gateway sending incorrect
access network parameters to the local mobility anchor. This situation may potentially
result in incorrect service policy enforcement at the local mobility anchor and
impact to other services that depend on this access network information. This threat
can be mitigated by ensuring the communication path between the mobile access
gateway and the access points is properly secured by the use of IPsec,
Transport Layer Security (TLS), or other
security protocols.
</t>


</section>











<section anchor="sec:ack" title="Acknowledgements">
<t>
The authors would like to thank Basavaraj Patil, Carlos Bernardos,
Gerardo Gieratta, Eric Voit, Hidetoshi Yokota, Ryuji Wakikawa, Sangram Kishore,
William Wan, Stefano Faccin, and Brian Haberman for all the discussions related 
to this topic. The authors would also like to acknowledge the IESG reviews from 
Benoit Claise, Stephen Farrell, Pete Resnick, Robert Spark, Martin Thomson, and
Ralph Droms.
</t>
</section>


</middle>
<back>











<references title="Normative References">
&rfc2119;
&rfc5213;
&rfc5844;
&rfc6275;
&rfc1035;
&rfc3629;
&rfc5139;

</references>




<references title="Informative References">
&rfc2460;
&rfc3046;
&rfc6225;

<reference anchor="TS23402">
<front>
<title>
Architecture enhancements for non-3GPP accesses
</title>
<author>
<organization>3GPP</organization>
</author>
<date year="2012" />
</front>
<seriesInfo name="3GPP TS" value="23.402 10.7.0"/><format type="HTML" target="http://www.3gpp.org/ftp/Specs/html-info/23402.htm"/>
</reference>


<reference anchor="TS23203">
<front>
<title>
Policy and Charging Control Architecture
</title>
<author>
<organization>3GPP</organization>
</author>
<date year="2012" />
</front>
<seriesInfo name="3GPP TS" value="23.203 10.7.0"/><format type="HTML" target="http://www.3gpp.org/ftp/Specs/html-info/23203.htm"/>
</reference>


<reference anchor="TS23003">
<front>
<title>
Numbering, addressing and identification
</title>
<author>
<organization>3GPP</organization>
</author>
<date year="2012" />
</front>
<seriesInfo name="3GPP TS" value="23.003 3.15.0"/><format type="HTML" target="http://www.3gpp.org/ftp/Specs/html-info/23003.htm"/>
</reference>




<reference  anchor="SMI" target="http://www.iana.org/assignments/enterprise-numbers">
<front> 
<title>PRIVATE ENTERPRISE NUMBERS</title> 
<author><organization>IANA</organization></author> 
<date/>
</front>
<seriesInfo name="SMI" value="Network Management Private Enterprise Codes"/> 
</reference>

<reference  anchor="ANI">
<front> 
<title>Interoperability Specification (IOS) for High Rate Packet
Data (HRPD) Radio Access Network Interfaces with Session Control in the
Access Network</title> 
<author><organization>3GPP2 TSG-A</organization></author> 
<date month='October' year='2008' /> 
</front>
<seriesInfo name="A.S0008-A" value="v3.0"/> 
</reference>


<reference anchor="WGS84">
<front>
<title>
World Geodetic System 1984
</title>
<author>
<organization>NIMA</organization>
</author>
<date month="June" year="2004" />
</front>
<seriesInfo name="Third" value="Edition"/>
<seriesInfo name="NIMA" value="TR8350.2"/>
</reference>
</references>


</back>
</rfc>
