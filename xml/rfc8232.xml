<?xml version="1.0" encoding="US-ASCII"?> 
<!DOCTYPE rfc SYSTEM "rfc2629.dtd">

<?rfc toc="yes"?> 
<?rfc tocompact="yes"?> 
<?rfc tocdepth="4"?> 
<?rfc tocindent="yes"?> 
<?rfc symrefs="yes"?> 
<?rfc sortrefs="yes"?> 
<?rfc compact="yes"?> 
<?rfc subcompact="no"?>
 <rfc category="std" number="8232" ipr="trust200902" submissionType="IETF" consensus="yes">
 <front>
  <title abbrev="Optimizations of State Synchronization">Optimizations of Label Switched Path State Synchronization Procedures&nbsp;for&nbsp;a Stateful PCE</title> 
 <author fullname="Edward Crabbe" initials="E." surname="Crabbe">
 <organization>Oracle</organization> 
 <address>
 <postal>
  <street /> 
  <city /> 
  <region /> 
  <code /> 
  <country /> 
  </postal>
  <email>edward.crabbe@gmail.com</email> 
  </address>
  </author>
 <author fullname="Ina Minei" initials="I." surname="Minei">
  <organization>Google, Inc.</organization> 
 <address>
 <postal>
  <street>1600 Amphitheatre Parkway</street> 
  <city>Mountain View</city> 
  <region>CA</region> 
  <code>94043</code> 
  <country>United States of America</country> 
  </postal>
  <email>inaminei@google.com</email> 
  </address>
  </author>
 <author fullname="Jan Medved" initials="J." surname="Medved">
  <organization>Cisco Systems, Inc.</organization> 
 <address>
 <postal>
  <street>170 West Tasman Dr.</street> 
  <city>San Jose</city> 
  <region>CA</region> 
  <code>95134</code> 
  <country>United States of America</country> 
  </postal>
  <email>jmedved@cisco.com</email> 
  </address>
  </author>
 <author fullname="Robert Varga" initials="R." surname="Varga">
  <organization>Pantheon Technologies SRO</organization> 
 <address>
 <postal>
  <street>Mlynske Nivy 56</street> 
  <city>Bratislava</city> 
  <code>821 05</code> 
  <country>Slovakia</country> 
  </postal>
  <email>robert.varga@pantheon.tech</email> 
  </address>
  </author>
 <author fullname="Xian Zhang" initials="X." surname="Zhang">
  <organization>Huawei Technologies</organization> 
 <address>
 <postal>
  <street>F3-5-B R&amp;D Center, Huawei Industrial Base, Bantian, Longgang District</street> 
  <city>Shenzhen</city> 
  <region>Guangdong</region> 
  <code>518129</code> 
  <country>China</country> 
  </postal>
  <email>zhang.xian@huawei.com</email> 
  </address>
  </author>
 <author initials="D" surname="Dhody" fullname="Dhruv Dhody">
  <organization>Huawei Technologies</organization> 
 <address>
 <postal>
  <street>Divyashree Techno Park, Whitefield</street> 
  <city>Bangalore</city> 
  <region>Karnataka</region> 
  <code>560066</code> 
  <country>India</country> 
  </postal>
  <email>dhruv.ietf@gmail.com</email> 
  </address>
  </author>
  <date month="September" year="2017" /> 
  <workgroup>PCE Working Group</workgroup> 

 <keyword>Stateful PCE, state synchronization, optimization</keyword>
 <abstract>
  <t>A stateful Path Computation Element (PCE) has access to not only the information disseminated by the network's Interior Gateway Protocol (IGP) but also the set of active paths and their reserved resources for its computation. The additional Label Switched Path (LSP) state information allows the PCE to compute constrained paths while considering individual LSPs and their interactions. This requires a State Synchronization mechanism between the PCE and the network, the PCE and Path Computation Clients (PCCs), and cooperating PCEs. The basic mechanism for State Synchronization is part of the stateful PCE specification. This document presents motivations for optimizations to the base State Synchronization procedure and specifies the required Path Computation Element Communication Protocol (PCEP) extensions.</t> 
  </abstract>

  </front>
 <middle>
 <section title="Introduction" toc="default">
  <t>The Path Computation Element Communication Protocol (PCEP) provides mechanisms for Path Computation Elements (PCEs) to perform path computations in response to Path Computation Client (PCC) requests.</t> 

 <t>
  <xref target="RFC8231" pageno="false" format="default" /> 
  describes a set of extensions to PCEP to provide stateful control. A
  stateful PCE has access to not only the information carried by the
  network's Interior Gateway Protocol (IGP) but also the set of active
  paths and their reserved resources for its computations. The
  additional state allows the PCE to compute constrained paths while
  considering individual LSPs and their interactions. This requires a
  State Synchronization mechanism between the PCE and the network, the PCE
  and the PCC, and cooperating PCEs.
  <xref target="RFC8231" pageno="false" format="default" /> 
  describes the basic mechanism for State Synchronization. This document specifies following optimizations for State Synchronization and the corresponding PCEP procedures and extensions: 
 <list style="symbols">
 <t>
  State Synchronization Avoidance: To skip State Synchronization if the state has survived and not changed during session restart. (See <xref target="sync-avoidance" pageno="false" format="default" />.) 
  </t>
 <t>
  Incremental State Synchronization: To do incremental (delta) State Synchronization when possible. (See 
  <xref target="incremental-sync" pageno="false" format="default" />.) 
  </t>
 <t>
  PCE-Triggered Initial Synchronization: To let PCE control the timing of the initial State Synchronization. (See 
  <xref target="triggered-initial-sync" pageno="false" format="default" />.) 
  </t>
 <t>
  PCE-Triggered Resynchronization: To let PCE resynchronize the state for sanity check. (See 
  <xref target="triggered-resync" pageno="false" format="default" />.) 
  </t>
  </list>
  </t>
  <t>Support for each of the synchronization optimization capabilities is advertised during the PCEP initialization phase. See <xref target="Capability-TLV" pageno="false" format="default" /> for the new flags defined in this document. The handling of each flag is described in the relevant section.</t>

 <section title="Requirements Language">
 <t>
  The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
      NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED",
      "MAY", and "OPTIONAL" in this document are to be interpreted as
      described in BCP 14 <xref target="RFC2119" /> <xref target="RFC8174" /> when, and only when, they
      appear in all capitals, as shown here. 
  </t>
  </section>
 </section>

 <section title="Terminology" toc="default">
 <t>
  This document uses the following terms defined in 
  <xref target="RFC5440" pageno="false" format="default" />: PCC, PCE, and PCEP Peer. 
  </t>
  <t>
  This document uses the following terms defined in 
  <xref target="RFC8051" pageno="false" format="default" />: Stateful PCE, Delegation, and LSP State Database (LSP-DB). 
  </t>
 <t>
  This document uses the following terms defined in 
  <xref target="RFC8231" pageno="false" format="default" />: Redelegation Timeout Interval, LSP State Report, and LSP Update Request. 
  </t>
  <t>Within this document, when describing PCE-PCE communications, the requesting PCE fills the role of a PCC as usual.
</t> 

  </section>

 <section anchor="sync-avoidance" title="State Synchronization Avoidance" toc="default">
 <section anchor="sync-avoidance-motivation" title="Motivation" toc="default">
 <t>
  The purpose of State Synchronization is to provide a checkpoint&nbhy;in&nbhy;time state replica of a PCC's LSP state in a stateful PCE. State Synchronization is performed immediately after the initialization phase <xref target="RFC5440" pageno="false" format="default" />. 
  <xref target="RFC8231" pageno="false" format="default" /> 
  describes the basic mechanism for State Synchronization. 
  </t>
  <t>State Synchronization is not always necessary following a PCEP session restart. If the state of both PCEP peers did not change, the synchronization phase may be skipped. This can result in significant savings in both control-plane data exchanges and the time it takes for the stateful PCE to become fully operational.</t> 
  </section>

 <section anchor="sync-avoidance-procedures" title="State Synchronization Avoidance Procedure" toc="default">
  <t>State Synchronization MAY be skipped following a PCEP session restart if the state of both PCEP peers did not change during the period prior to session re-initialization. To be able to make this determination, state must be exchanged and maintained by both PCE and PCC during normal operation. This is accomplished by keeping track of the changes to the LSP-DB, using a version tracking field called the LSP-DB Version Number.</t> 
 <t>
  The INCLUDE-DB-VERSION (S) bit in the STATEFUL-PCE-CAPABILITY TLV (<xref target="Capability-TLV" pageno="false" format="default" />) is advertised on a PCEP session during session startup to indicate that the LSP-DB Version Number is to be included when the LSPs are reported to the PCE.   
   
  The LSP-DB Version Number, carried in LSP-DB-VERSION TLV (see 
  <xref target="DB-VERSION-TLV" pageno="false" format="default" />), is owned by a PCC, and it MUST be incremented by 1 for each successive change in the PCC's LSP-DB. The LSP-DB Version Number MUST start at 1 and may wrap around. Values 0 and 0xFFFFFFFFFFFFFFFF are reserved. 
If either of the two values are used during LSP State (re)Synchronization, the PCE speaker receiving this value MUST send back a PCEP Error (PCErr) with Error-type=20 and Error-value=6 'Received an invalid LSP-DB Version Number', and close the PCEP session. Operations that trigger a change to the local LSP-DB include a change in the LSP operational state, delegation of an LSP, removal or setup of an LSP, or change in any of the LSP attributes that would trigger a report to the PCE. 
  </t>
  
 <t>
  If the include LSP-DB version capability is enabled, a PCC MUST increment its LSP-DB Version Number when the 'Redelegation Timeout Interval' timer expires (see 
  <xref target="RFC8231" pageno="false" format="default" /> for the use of the Redelegation Timeout Interval). 
  </t>

  
  <t>If both PCEP speakers set the S flag in the OPEN object's
  STATEFUL&nbhy;PCE&nbhy;CAPABILITY TLV to 1, the PCC MUST include the
  LSP-DB-VERSION TLV in each LSP object of the Path Computation LSP State
  Report (PCRpt) message. If the LSP-DB-VERSION TLV is missing in a PCRpt
  message, the PCE will generate an error with Error-type=6 (Mandatory Object
  missing) and Error-value=12 'LSP-DB-VERSION TLV missing', and close the
  session. If the include LSP-DB version capability has not been enabled on a
  PCEP session, the PCC SHOULD NOT include the LSP-DB-VERSION TLV in the LSP
  Object, and the PCE MUST ignore it, were it to receive one.</t>  
  

  
  <t>If a PCE's LSP-DB survived the restart of a PCEP session, the PCE will include the LSP-DB-VERSION TLV in its OPEN object, and the TLV will contain the last LSP-DB Version Number received on an LSP State Report from the PCC in the previous PCEP session. If a PCC's LSP-DB survived the restart of a PCEP session, the PCC will include the LSP-DB-VERSION TLV in its OPEN object, and the TLV will contain the latest LSP-DB Version Number. If a PCEP speaker's LSP-DB did not survive the restart of a PCEP session or at startup when the database is empty, the PCEP speaker MUST NOT include the LSP-DB-VERSION TLV in the OPEN object.</t> 
 <t>
  If both PCEP speakers include the LSP-DB-VERSION TLV in the OPEN object and the TLV values match, the PCC MAY skip State Synchronization, and the PCE does not wait for the end-of-synchronization marker <xref target="RFC8231" pageno="false" format="default"/>. Otherwise, the PCC MUST perform full State Synchronization (see 
  <xref target="RFC8231" pageno="false" format="default" />) or incremental State Synchronization (see 
  <xref target="incremental-sync" pageno="false" format="default" /> if this capability is advertised) to the stateful PCE. 
  In other words, if the incremental State Synchronization capability is not advertised by the peers, based on the LSP-DB Version Number match, either the State Synchronization is skipped or a full State Synchronization is performed.  
  If the PCC attempts to skip State Synchronization, by setting the SYNC flag to 0 and PLSP-ID to a non-zero value on the first LSP State Report from the PCC as per <xref target="RFC8231" pageno="false" format="default" />, the PCE MUST send back a PCErr with Error-type=20 and Error-value=2 'LSP-DB version mismatch', and close the PCEP session. 
  </t>
 <t>
  If State Synchronization is required, then prior to completing the
  initialization phase, the PCE MUST mark any LSPs in the LSP-DB that were previously reported by the PCC as stale. When the PCC reports an LSP during State Synchronization, if the LSP already exists in the LSP-DB, the PCE MUST update the LSP-DB and clear the stale marker from the LSP. When it has finished State Synchronization, the PCC MUST immediately send an end-of-synchronization marker. The end-of-synchronization marker is a PCRpt message with an LSP object containing a PLSP-ID of 0 and with the SYNC flag set to 0 <xref target="RFC8231" pageno="false" format="default" />. The LSP-DB-VERSION TLV MUST be included in this PCRpt message. On receiving this state report, the PCE MUST purge any LSPs from the LSP-DB that are still marked as stale. 
  </t>
  <t>Note that a PCE/PCC MAY force State Synchronization by not including the LSP-DB-VERSION TLV in its OPEN object.</t> 
  <t>Since a PCE does not make changes to the LSP-DB Version Number, a PCC should never encounter this TLV in a message from the PCE (other than the OPEN message). A PCC SHOULD ignore the LSP&nbhy;DB&nbhy;VERSION TLV, were it to receive one from a PCE.</t> 
  
 <t>
  <xref target="state-sync-skipped" pageno="false" format="default" /> 
  shows an example sequence where the State Synchronization is skipped. 
  </t>
 <figure anchor="state-sync-skipped" title="State Synchronization Skipped" suppress-title="false" align="left" alt="" width="" height="">
 <artwork xml:space="preserve" name="" type="" align="left" alt="" width="" height="">
 <![CDATA[ 
                  +-+-+                    +-+-+
                  |PCC|                    |PCE|
                  +-+-+                    +-+-+
                    |                        |
                    |--Open--,               |
                    |  DBv=42 \    ,---Open--|
                    |    S=1   \  /   DBv=42 |
                    |           \/      S=1  |
                    |           /\           |
                    |          /   `-------->| (OK to skip sync)
        (Skip sync) |<--------`              |
                    |            .           |
                    |            .           |
                    |            .           |
                    |                        |
                    |--PCRpt,DBv=43,SYNC=0-->| (Regular
                    |                        |  LSP State Report)
                    |--PCRpt,DBv=44,SYNC=0-->| (Regular
                    |                        |  LSP State Report)
                    |--PCRpt,DBv=45,SYNC=0-->|
                    |                        |
  ]]> 
  </artwork>
  </figure>
 <t>
  <xref target="state-sync-performed" pageno="false" format="default" /> 
  shows an example sequence where the State Synchronization is performed due to LSP-DB version mismatch during the PCEP session setup. Note that the same State Synchronization sequence would happen if either the PCC or the PCE would not include the LSP-DB-VERSION TLV in their respective Open messages. 
  </t>
 <figure anchor="state-sync-performed" title="State Synchronization Performed" suppress-title="false" align="left" alt="" width="" height="">
 <artwork xml:space="preserve" name="" type="" align="left" alt="" width="" height="">
 <![CDATA[ 
                  +-+-+                    +-+-+
                  |PCC|                    |PCE|
                  +-+-+                    +-+-+
                    |                        |
                    |--Open--,               |
                    |  DBv=46 \    ,---Open--|
                    |    S=1   \  /   DBv=42 |
                    |           \/      S=1  |
                    |           /\           |
                    |          /   `-------->| (Expect sync)
          (Do sync) |<--------`              |
                    |                        |
                    |--PCRpt,DBv=46,SYNC=1-->| (Sync start)
                    |            .           |
                    |            .           |
                    |            .           |
                    |--PCRpt,DBv=46,SYNC=0-->| (Sync done)
                    |            .           | (Purge LSP state
                    |            .           |  if applicable)
                    |            .           |
                    |--PCRpt,DBv=47,SYNC=0-->| (Regular
                    |                        |  LSP State Report)
                    |--PCRpt,DBv=48,SYNC=0-->| (Regular
                    |                        |  LSP State Report)
                    |--PCRpt,DBv=49,SYNC=0-->|
                    |                        |
  ]]> 
  </artwork>
  </figure>
 <t>
  <xref target="state-sync-skipped-no-dbver" pageno="false" format="default" /> 
  shows an example sequence where the State Synchronization is skipped, but because one or both PCEP speakers set the S flag to 0, the PCC does not send LSP-DB-VERSION TLVs in subsequent PCRpt messages to the PCE. If the current PCEP session restarts, the PCEP speakers will have to perform State Synchronization, since the PCE does not know the PCC's latest LSP-DB Version Number information. 
  </t>
 <figure anchor="state-sync-skipped-no-dbver" title="State Synchronization Skipped; No LSP-DB-VERSION TLVs Sent from the PCC" suppress-title="false" align="left" alt="" width="" height="">
 <artwork xml:space="preserve" name="" type="" align="left" alt="" width="" height="">
 <![CDATA[ 
                  +-+-+                    +-+-+
                  |PCC|                    |PCE|
                  +-+-+                    +-+-+
                    |                        |
                    |--Open--,               |
                    |  DBv=42 \    ,---Open--|
                    |    S=0   \  /   DBv=42 |
                    |           \/      S=0  |
                    |           /\           |
                    |          /   `-------->| (OK to skip sync)
        (Skip sync) |<--------`              |
                    |            .           |
                    |            .           |
                    |            .           |
                    |------PCRpt,SYNC=0----->| (Regular
                    |                        |  LSP State Report)
                    |------PCRpt,SYNC=0----->| (Regular
                    |                        |  LSP State Report)
                    |------PCRpt,SYNC=0----->|
                    |                        |    
  ]]> 
  </artwork>
  </figure>
  <section anchor="Ip-Addr" title="IP Address Change during Session Re-establishment" toc="default">
     <t>There could be a case during PCEP session re-establishment when the
   PCC's or PCE's IP address can change.  This includes, but is not limited to, the following
   cases:
     <list style="symbols">
     <t>A PCC could use a physical interface IP address to connect to the PCE.
      In this case, if the line card that the PCC connects from changes,
      then the PCEP session goes down
      and comes back up again, with a different IP address associated with a new line card.</t>
     <t>The PCC or PCE may move in the network, either physically or logically,
      which may cause its IP address to change. For example, the PCE may be deployed as a virtual network function (VNF), and 
      another virtualized instance of the PCE may be populated with the
      original PCE instance's state, but it may be given a different IP address.</t>
     </list>
     </t>    

     <t>To ensure that a PCEP peer can recognize a previously connected peer,
   each PCEP peer includes the SPEAKER-ENTITY-ID TLV described in
  <xref target="SPEAKER-ENTITY-ID-TLV-OPEN" pageno="false" format="default" /> 
  in the OPEN message. </t>

  <t>This TLV is used during the State Synchronization procedure to
   identify the PCEP session as a re-establishment of a previous session
   that went down.  Then State Synchronization optimizations such as state
   sync avoidance can be applied to this session.  Note that this usage is only
   applicable within the State Timeout Interval <xref target="RFC8231" pageno="false" format="default" />.
   After the State Timeout Interval expires, all state
   associated with the PCEP session is removed, which includes the
   SPEAKER-ENTITY-ID received.  Note that the PCEP session
   initialization <xref target="RFC5440"/> procedure remains unchanged. </t>
  </section>
  </section>
  
 <section anchor="PCEP-Ext-for-avoidance" title="PCEP Extensions" toc="default">
 <t>
  A new INCLUDE-DB-VERSION (S) bit is added in the stateful capabilities TLV (see 
  <xref target="Capability-TLV" pageno="false" format="default" /> 
  for details). 
  </t>

 <section anchor="DB-VERSION-TLV" title="LSP-DB Version Number TLV" toc="default">
  <t>The LSP-DB Version Number (LSP-DB-VERSION) TLV is an optional TLV that MAY be included in the OPEN object and the LSP object.</t> 
  <t>This TLV is included in the LSP object in the PCRpt message to indicate the LSP-DB version at the PCC. This TLV SHOULD NOT be included in other PCEP messages (Path Computation Update Request (PCUpd), Path Computation Request (PCReq), and Path Computation Reply (PCRep)) and MUST be ignored if received.</t>

  <t>The format of the LSP-DB-VERSION TLV is shown in the following figure:</t> 
 <figure anchor="DB-VERSION-Fmt" title="LSP-DB-VERSION TLV Format" suppress-title="false" align="left" alt="" width="" height="">
 <artwork xml:space="preserve" name="" type="" align="left" alt="" width="" height="">
 <![CDATA[ 
   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |           Type=23             |            Length=8           |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                     LSP-DB Version Number                     |
  |                                                               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
             

  ]]> 
  </artwork>
  </figure>
  <t>The type of the TLV is 23, and it has a fixed length of 8 octets. The value contains a 64-bit unsigned integer, carried in network byte order, representing the LSP-DB Version Number. </t> 
  </section>

 <section anchor="SPEAKER-ENTITY-ID-TLV-OPEN" title="Speaker Entity Identifier TLV" toc="default">
  <t>The Speaker Entity Identifier TLV (SPEAKER-ENTITY-ID) is an optional TLV that MAY be included in the OPEN object when a PCEP speaker wishes to determine if State Synchronization can be skipped when a PCEP session is restarted. It contains a unique identifier for the node that does not change during the lifetime of the PCEP speaker. It identifies the PCEP speaker to its peers even if the speaker's IP address is changed.</t> 

  <t>In case of a remote peer IP address change, a PCEP speaker would learn the Speaker Entity Identifier on receiving the open message, but it MAY have already sent its open message without realizing that it is a known PCEP peer. In such a case, either a full synchronization is done or the PCEP session is terminated. This may be a local policy decision. The new IP address is associated with the Speaker Entity Identifier for the future either way. In the latter case when the PCEP session is re-established, it would be correctly associated with the Speaker Entity Identifier and not be considered as an unknown peer.</t> 

  <t>The format of the SPEAKER-ENTITY-ID TLV is shown in the following figure:</t> 
 <figure anchor="speaker-entity-id-Fmt" title="SPEAKER-ENTITY-ID TLV Format" suppress-title="false" align="left" alt="" width="" height="">
 <artwork xml:space="preserve" name="" type="" align="left" alt="" width="" height="">
 <![CDATA[ 
   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |           Type=24             |       Length (variable)       |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                                                               |
  //                 Speaker Entity Identifier                    //
  |                                                               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
            

  ]]> 
  </artwork>
  </figure>
  <t>The type of the TLV is 24, and it has a variable length, which MUST be
  greater than 0. The value is padded to a 4-octet alignment. The padding is
  not included in the Length field. The value contains the Speaker Entity Identifier
  (an identifier of the PCEP speaker transmitting this TLV). This identifier is required to be
  unique within its scope of visibility, which is usually limited to a single
  domain. It MAY be configured by the operator. Alternatively, it can be
  derived automatically from a suitably stable unique identifier, such as a
  Media Access Control (MAC) address, serial number, Traffic Engineering
  Router ID, or similar. In the case of inter-domain connections, the speaker
  SHOULD prefix its usual identifier with the domain identifier of its
  residence, such as an Autonomous System number, an IGP area identifier, or
  similar to make sure it remains unique.</t>  

  <t>The relationship between this identifier and entities in the Traffic
  Engineering database is intentionally left undefined.</t>  
  <t>From a manageability point of view, a PCE or PCC implementation SHOULD allow the operator to configure this Speaker Entity Identifier.</t> 
  <t>If a PCEP speaker receives the SPEAKER-ENTITY-ID on a new PCEP session, that matches with an existing alive PCEP session, the PCEP speaker MUST send a PCErr with Error-type=20 and Error-value=7 'Received an invalid Speaker Entity Identifier', and close the PCEP session.</t> 
  </section>
  </section> 
  </section>
 
 <section anchor="incremental-sync" title="Incremental State Synchronization" toc="default">
 <t>
  <xref target="RFC8231" pageno="false" format="default" /> 
  describes the LSP State Synchronization mechanism between PCCs and stateful PCEs. During the State Synchronization, a PCC sends the information of all its LSPs (i.e., the full LSP-DB) to the stateful PCE. In order to reduce the State Synchronization overhead when there is a small number of LSP state changes in the network between the PCEP session restart, this section defines a mechanism for incremental (Delta) LSP-DB synchronization. 
  </t>
 <section anchor="incremental-sync-motivation" title="Motivation" toc="default">
 <t>
  According to <xref target="RFC8231" pageno="false" format="default" />, if a PCE restarts and its LSP-DB survived, PCCs with a mismatched LSP-DB Version Number will send all their LSPs information (full LSP-DB) to the stateful PCE, even if only a small number of LSPs underwent state change. It can take a long time and consume large communication channel bandwidth. 
  </t>
 <t>
  <xref target="fig_topo" pageno="false" format="default" /> 
  shows an example of LSP State Synchronization. 
  </t>
 <figure anchor="fig_topo" title="Topology Example" suppress-title="false" align="left" alt="" width="" height="">
 <artwork xml:space="preserve" name="" type="" align="left" alt="" width="" height="">
 <![CDATA[ 
                               +-----+
                               | PCE |
                               +-----+
                              /
                             /
                            /
                           /
                    +------+            +------+
                    | PCC1 |------------| PCC2 |
                    +------+            +------+
                       |                   |
                       |                   |
                    +------+            +------+
                    | PCC3 |------------| PCC4 |
                    +------+            +------+
             

  ]]> 
  </artwork>
  </figure>
  <t>Assume that there are 320 LSPs in the network, with each PCC having 80 LSPs. During the time when the PCEP session is down, 20 LSPs of each PCC (i.e., 80 LSPs in total), are changed. Hence, when the PCEP session restarts, the stateful PCE needs to synchronize 320 LSPs with all PCCs. But actually, 240 LSPs stay the same. If performing full LSP State Synchronization, it can take a long time to carry out the synchronization of all LSPs. It is especially true when only a low bandwidth communication channel is available (e.g., in-band control channel for optical transport networks), and there is a substantial number of LSPs in the network. Another disadvantage of full LSP synchronization is that it is a waste of communication bandwidth to perform full LSP synchronization given the fact that the number of LSP changes can be small during the time when the PCEP session is down.</t> 

  <t>An incremental (Delta) LSP-DB State Synchronization is described in this section, where only the LSPs that underwent state change are synchronized between the session restart. This may include new/modified/deleted LSPs.</t> 
  </section> 
 <section anchor="incremental-sync-procedures" title="Incremental Synchronization Procedure" toc="default">
 <t>
  <xref target="RFC8231" pageno="false" format="default" /> 
  describes State Synchronization and 
  <xref target="sync-avoidance" pageno="false" format="default" /> of this document
  describes State Synchronization avoidance by using LSP&nbhy;DB&nbhy;VERSION TLV in its OPEN object. This section extends this idea to only synchronize the delta (changes) in case of version mismatch. 
  </t>
 <t>
  If both PCEP speakers include the LSP-DB-VERSION TLV in the OPEN object and the LSP-DB-VERSION TLV values match, the PCC MAY skip State Synchronization. Otherwise, the PCC MUST perform State Synchronization. Incremental State Synchronization capability is advertised on a PCEP session during session startup using the DELTA&nbhy;LSP&nbhy;SYNC&nbhy;CAPABILITY (D) bit in the capabilities TLV (see 
  <xref target="Capability-TLV" pageno="false" format="default" />). Instead of dumping full LSP-DB to the stateful PCE again, the PCC synchronizes the delta (changes) as described in 
  <xref target="fig_inc" pageno="false" format="default" /> 
  when the D and S flags are set to 1 by both the PCC and PCE. Other combinations of D and S flags set by the PCC and PCE result in full LSP-DB synchronization procedures as described in 
  <xref target="RFC8231" pageno="false" format="default" />.  By setting the D flag to zero in the OPEN message, a PCEP speaker can skip the incremental synchronization optimization, resulting in a full LSP-DB synchronization. 
  </t>
 <figure anchor="fig_inc" title="Incremental Synchronization Procedure" suppress-title="false" align="left" alt="" width="" height="">
 <artwork xml:space="preserve" name="" type="" align="left" alt="" width="" height="">
 <![CDATA[ 
                    +-+-+                    +-+-+
                    |PCC|                    |PCE|
                    +-+-+                    +-+-+
                      |                        |
                      |--Open--,               |
                      |  DBv=46 \    ,---Open--|
                      |    S=1   \  /   DBv=42 |
                      |    D=1    \/      S=1  |
                      |           /\      D=1  |
                      |          /  \          |
                      |         /    `-------->| (Expect delta sync)
             (Do sync)|<--------`              | (DO NOT purge LSP
             (Delta)  |                        |  state)
                      |                        |
  (Delta sync starts) |--PCRpt,DBv=46,SYNC=1-->|
                      |            .           |
                      |            .           |
                      |            .           |
                      |            .           |
                      |--PCRpt,DBv=46,SYNC=0-->| (Sync done,
                      |                        |  PLSP-ID=0)
                      |                        |
                      |--PCRpt,DBv=47,SYNC=0-->| (Regular
                      |                        |  LSP State Report)
                      |--PCRpt,DBv=48,SYNC=0-->| (Regular
                      |                        |  LSP State Report)
                      |--PCRpt,DBv=49,SYNC=0-->|
                      |                        |

              

  ]]> 
  </artwork>
  </figure>
 <t>
  As per <xref target="sync-avoidance" pageno="false" format="default" />, the LSP-DB Version Number is incremented each time a change is made to the PCC's local LSP-DB. Each LSP is associated with the DB version at the time of its state change. This is needed to determine which LSP and what information needs to be synchronized in incremental State Synchronization. 
   The incremental state sync is done from the last LSP-DB version received by the PCE to the latest DB version at the PCC. Note that the LSP-DB Version Number can wrap around, in which case the incremental state sync would also wrap till the latest LSP-DB Version Number at the PCC. </t> 

 <t>
  In order to carry out incremental State Synchronization, it is not necessary for a PCC to store a complete history of LSP-DB change for all time, but remember the LSP state changes (including LSP modification, setup, and deletion) that the PCE did not get to process during the session down. Note that, a PCC would be unaware that a particular LSP report has been processed by the PCE before the session to the PCE went down. So a PCC implementation MAY choose to store the LSP-DB Version Number with each LSP at the time its status changed, so that when a session is re-established, an incremental synchronization can be attempted 
  based on the PCE's last LSP-DB Version Number. For an LSP that is deleted at the PCC, the PCC implementation would need to remember the deleted LSP in some way to make sure this could be reported as part of incremental synchronization later. 
  The PCC would discard this information based on a local policy or when it determines that this information is no longer needed with sufficient confidence. In the example shown in <xref target="fig_inc" pageno="false" format="default" />, the PCC needs to store the LSP state changes that happened between DB Versions 43 to 46 and synchronize these changes, when performing incremental LSP state update. 
  </t>

 <t>
  If a PCC finds out it does not have sufficient information to complete incremental synchronization after advertising incremental LSP State Synchronization capability, it MUST send a PCErr with Error-type=20 and Error-value=5 'A PCC indicates to a PCE that it can not complete the State Synchronization' (defined in <xref target="RFC8231" pageno="false" format="default" />), and terminate the session.  The PCC SHOULD re-establish the session with the D bit set to 0 in the OPEN message.
  </t>
 <t>
  The other procedures and error checks remain unchanged from the full State Synchronization <xref target="RFC8231" pageno="false" format="default" />. 
  </t>
  </section> 
  </section>

 <section anchor="triggered-initial-sync" title="PCE-Triggered Initial Synchronization" toc="default">
 <section anchor="triggered-init-sync-motivation" title="Motivation" toc="default">
 <t>
  In networks such as optical transport networks, the control channel between network nodes can be realized through in-band overhead, thus it has limited bandwidth. With a stateful PCE connected to the network via one network node, it is desirable to control the timing of PCC State Synchronization so as not to overload the low communication channel available in the network during the initial synchronization (be it incremental or full) when the session restarts, when there is a comparatively large amount of control information needing to be synchronized between the stateful PCE and the network. The method proposed, i.e., allowing PCE to trigger the State Synchronization, is similar to the function proposed in <xref target="triggered-resync" pageno="false" format="default" /> but is used in different scenarios and for different purposes. 
  </t>
  </section>

 <section anchor="triggered-init-procedures" title="PCE-Triggered Initial State Synchronization Procedure" toc="default">
 <t>
  Support of PCE-triggered initial State Synchronization is advertised during session startup using the TRIGGERED-INITIAL-SYNC (F) bit in the STATEFUL-PCE-CAPABILITY TLV (see <xref target="Capability-TLV" pageno="false" format="default" />). 
  </t>

  <t>
  In order to allow a stateful PCE to control the LSP-DB synchronization after establishing a PCEP session, both PCEP speakers MUST set the F bit to 1 in the OPEN message.
  If the LSP-DB-VERSION TLV is included by both PCEP speakers and the TLV value matches, the State Synchronization can be skipped as described in <xref target="sync-avoidance-procedures" pageno="false" format="default" />.
  If the TLV is not included or the LSP-DB Version is mismatched, the PCE can trigger the State Synchronization process by sending a PCUpd message with PLSP-ID = 0 and SYNC = 1. The PCUpd message SHOULD include an empty Explicit Route Object (ERO) (with no ERO sub-object and object length of 4) as its intended path and SHOULD NOT include the optional objects for its attributes for any parameter update. The PCC MUST ignore such an update when the SYNC flag is set.
  If the TRIGGERED-INITIAL-SYNC capability is not advertised by a PCE and the
  PCC receives a PCUpd with the SYNC flag set to 1, the PCC MUST send a PCErr
  with the SRP-ID-number of the PCUpd, Error-type=20, and Error&nbhy;value=4
  'Attempt to trigger a synchronization when the PCE triggered synchronization capability has
  not been advertised' (see <xref target="PCEP-Error-Object" pageno="false" format="default" />). If the TRIGGERED-INITIAL-SYNC capability is advertised by a PCE and the PCC, the
  PCC MUST NOT trigger State Synchronization on its own. If the PCE receives a PCRpt message before the PCE has triggered the State Synchronization, the PCE MUST send a PCErr with Error-type=20 and Error-value=3 'Attempt to trigger synchronization before PCE trigger' (see 
  <xref target="PCEP-Error-Object" pageno="false" format="default" />).</t> 
 
   <t>  
In this way, the PCE can control the sequence of LSP synchronization among all the PCCs that are re-establishing PCEP sessions with it. When the capability of PCE control is enabled, only after a PCC receives this message, it will start sending information to the PCE.  This PCE-triggering capability can be applied to both full and incremental State Synchronization. If applied to the latter, the PCCs only send information that PCE does not possess, which is inferred from the LSP-DB version information exchanged in the OPEN message (see 
  <xref target="incremental-sync-procedures" pageno="false" format="default" /> 
  for a detailed procedure). 
  </t>

 <t>
  Once the initial State Synchronization is triggered by the PCE, the procedures and error checks remain unchanged <xref target="RFC8231" pageno="false" format="default" />. 
  </t>
  <t>If a PCC implementation that does not implement this extension should not receive a PCUpd message to trigger State Synchronization as per the capability advertisement, but if it were to receive it, it will behave as per <xref target="RFC8231" pageno="false" format="default"/>.</t>
  
  </section>

  </section>

 <section anchor="triggered-resync" title="PCE-Triggered Resynchronization" toc="default">
 <section anchor="triggered-resync-motivation" title="Motivation" toc="default">
  <t>The accuracy of the computations performed by the PCE is tied to the accuracy of the view the PCE has on the state of the LSPs. Therefore, it can be beneficial to be able to resynchronize this state even after the session has been established. The PCE may use this approach to continuously sanity check its state against the network or to recover from error conditions without having to tear down sessions.</t> 
  </section>

 <section anchor="triggered-resync-procedures" title="PCE-Triggered State Resynchronization Procedure" toc="default">
 <t>
  Support of PCE-triggered state resynchronization is advertised by both PCEP speakers during session startup using the TRIGGERED-RESYNC (T) bit in the STATEFUL-PCE-CAPABILITY TLV (see <xref target="Capability-TLV" pageno="false" format="default" />).  The PCE can choose to resynchronize its entire LSP-DB or a single LSP. 
  </t>
  <t>To trigger resynchronization for an LSP, the PCE sends a Path Computation State Update (PCUpd) for the LSP, with the SYNC flag in the LSP object set to 1. The PCE SHOULD NOT include any parameter updates for the LSP, and the PCC MUST ignore such an update when the SYNC flag is set. The PCC MUST respond with a PCRpt message with the LSP state, SYNC flag set to 0 and MUST include the SRP-ID-number of the PCUpd message that triggered the resynchronization. If the PCC cannot find the LSP in its database, PCC MUST also set the R (remove) flag <xref target="RFC8231" pageno="false" format="default" /> in the LSP object in the PCRpt message.</t> 
 <t>
  The PCE can also trigger resynchronization of the entire LSP-DB. The PCE MUST first mark all LSPs in the LSP-DB that were previously reported by the PCC as stale, and then send a PCUpd with an LSP object containing a PLSP-ID of 0 and with the SYNC flag set to 1. The PCUpd message MUST include an empty ERO (with no ERO sub-object and object length of 4) as its intended path and SHOULD NOT include the optional objects for its attributes for any parameter update. The PCC MUST ignore such update if the SYNC flag is set. 
This PCUpd message is the trigger for the PCC to enter the synchronization phase as described in 
  <xref target="RFC8231" pageno="false" format="default" /> 
  and start sending PCRpt messages. After the receipt of the end-of-synchronization marker, the PCE will purge LSPs that were not refreshed. The SRP&nbhy;ID-number of the PCUpd that triggered the resynchronization SHOULD be included in each of the PCRpt messages. 
  If the PCC cannot resynchronize the entire LSP-DB, the PCC MUST respond with a PCErr message with Error-type=20 and Error-value=5 'cannot complete the State Synchronization' <xref target="RFC8231"/>, and it MAY terminate the session.  The PCE MUST remove the stale mark for the LSPs that were previously reported by the PCC. Based on the local policy, the PCE MAY reattempt synchronization at a later time.</t> 
  
 <t>
  If the TRIGGERED-RESYNC capability is not advertised by a PCE and the PCC receives a PCUpd with the SYNC flag set to 1, it MUST send a PCErr with the SRP-ID-number of the PCUpd, Error-type=20, and Error&nbhy;value=4 'Attempt to trigger a synchronization when the PCE triggered synchronization capability has not been advertised' (see <xref target="PCEP-Error-Object" pageno="false" format="default" />). 
  </t>
 <t>
  Once the state resynchronization is triggered by the PCE, the procedures and error checks remain unchanged from the full state synchronization <xref target="RFC8231" pageno="false" format="default" />. This would also include the PCE triggering multiple state resynchronization requests while synchronization is in progress. 
  </t>
  <t>If a PCC implementation that does not implement this extension should not receive a PCUpd message to trigger resynchronization as per the capability advertisement, but if it were to receive it, it will behave as per <xref target="RFC8231" pageno="false" format="default"/>.</t>
  </section>
 
  </section>

 <section anchor="Capability-TLV" title="Advertising Support of Synchronization Optimizations" toc="default">
  <t>Support for each of the optimizations described in this document requires advertising the corresponding capabilities during session establishment time.</t> 
 <t>
  The STATEFUL-PCE-CAPABILITY TLV is defined in <xref target="RFC8231" pageno="false" format="default" />. This document defines the following 
  new flags in the STATEFUL&nbhy;PCE&nbhy;CAPABILITY TLV:  
  </t>
 <texttable anchor="STATEFUL-PCE-CAPABILITY-TLV-Flags" style="none" suppress-title="true" title="" align="center">
  <ttcol align="left" width="20%">Bit</ttcol> 
  <ttcol align="left" width="30%">Description</ttcol> 
  <c>-------------------------</c>
  <c>---------------------------------</c>
  <c>30 </c> 
  <c>S bit (INCLUDE-DB-VERSION)</c> 
  <c>27 </c> 
  <c>D bit (DELTA-LSP-SYNC-CAPABILITY)</c> 
  <c>26 </c> 
  <c>F bit (TRIGGERED-INITIAL-SYNC)</c> 
  <c>28 </c> 
  <c>T bit (TRIGGERED-RESYNC)</c> 
  </texttable>


  <t>If the S bit (INCLUDE-DB-VERSION) is set to 1 by both PCEP speakers, the PCC will include the LSP-DB-VERSION TLV in each LSP object.  See 
  <xref target="sync-avoidance-procedures" pageno="false" format="default" /> for details. </t>
  <t>If the D bit (DELTA-LSP-SYNC-CAPABILITY) is  set to 1 by a PCEP speaker, it indicates that the PCEP speaker allows incremental (delta) State Synchronization. See 
  <xref target="incremental-sync-procedures" pageno="false" format="default" /> for details. </t>
  <t>If the F bit (TRIGGERED-INITIAL-SYNC) is set to 1 by both PCEP speakers, the PCE SHOULD trigger initial (first) State Synchronization. See 
  <xref target="triggered-init-procedures" pageno="false" format="default" />  for details. </t> 
  <t>If the T bit (TRIGGERED-RESYNC) is set to 1 by both PCEP speakers, the PCE can trigger resynchronization of LSPs at any point in the life of the session. See 
  <xref target="triggered-resync-procedures" pageno="false" format="default" />  for details. </t>

  <t>See <xref target="STATEFUL-PCE-CAPABILITY-TLV-CP"/> for IANA allocations. </t>

  </section>

 <section anchor="IANA" title="IANA Considerations" toc="default">
  <t>IANA has allocated code points for the
  protocol elements defined in this document.</t>  
 <section anchor="PCEP-Error-Object" title="PCEP-Error Object" toc="default">
  <t>IANA has allocated the following values in the "PCEP-ERROR Object Error Types
  and Values" registry.</t> 
 
 <figure title="" suppress-title="false" align="left" alt="" width="" height="">

 <artwork xml:space="preserve" name="" type="" align="left" alt="" width="" height="">
 <![CDATA[ 
Error-Type   Meaning                            Reference
------------------------------------------------------------
    6        Mandatory Object missing           [RFC5440]

             Error-value
             12: LSP-DB-VERSION TLV missing     This document

    20       LSP State Synchronization Error    [RFC8231]

             Error-value
             2: LSP-DB version mismatch.        This document
          
             3: Attempt to trigger              This document
             synchronization before PCE 
             trigger. 

             4: Attempt to trigger a            This document
             synchronization when the
             PCE triggered synchronization
             capability has not been
             advertised.

             6: Received an invalid             This document
             LSP-DB Version Number.

             7: Received an invalid             This document
             Speaker Entity Identifier.
  ]]> 
  </artwork>
  </figure>

  </section>

 <section anchor="PCEP-TLV-Type-Indicators" title="PCEP TLV Type Indicators" toc="default">
  <t>IANA has allocated the following values in the "PCEP TLV Type Indicators" registry. </t> 
 <texttable anchor="PCEP-New-TLV-CP" style="none" suppress-title="true" title="" align="center">
  <ttcol align="left" width="30%">Value</ttcol> 
  <ttcol align="left" width="20%">Meaning</ttcol> 
  <ttcol align="left" width="30%">Reference</ttcol> 
  <c>-------------------------</c>
  <c>-----------------</c>
  <c>-------------</c>
  <c>23</c> 
  <c> LSP-DB-VERSION</c> 
  <c>This document</c> 
  <c>24</c> 
  <c> SPEAKER-ENTITY-ID</c> 
  <c>This document</c> 
  </texttable>
  </section>

 <section anchor="STATEFUL-PCE-CAPABILITY-TLV-CP" title="STATEFUL-PCE-CAPABILITY TLV" toc="default">
  <?rfc subcompact="no"?> 
  <t>The STATEFUL-PCE-CAPABILITY TLV is defined in <xref target="RFC8231"
  pageno="false" format="default" />. The "STATEFUL-PCE-CAPABILITY TLV Flag
  Field" registry has been created to manage the flags in the TLV. IANA has
  allocated the following values in this registry.</t>  
 <texttable  style="none" suppress-title="true" title="" align="center">
  <ttcol align="left" width="20%">Bit</ttcol> 
  <ttcol align="left" width="30%">Description</ttcol> 
  <ttcol align="left" width="20%">Reference</ttcol> 
  <c>--------------------------</c>
  <c>--------------------------</c>
  <c>-------------</c>
  <c>26</c> 
  <c>TRIGGERED-INITIAL-SYNC</c> 
  <c>This document</c> 
  <c>27</c> 
  <c>DELTA-LSP-SYNC-CAPABILITY</c> 
  <c>This document</c> 
  <c>28</c> 
  <c>TRIGGERED-RESYNC</c> 
  <c>This document</c> 
  <c>30</c> 
  <c>INCLUDE-DB-VERSION</c> 
  <c>This document</c> 
  </texttable>
  </section>

  </section>

 <section title="Manageability Considerations" toc="default">
 <t>
  All manageability requirements and considerations listed in <xref target="RFC5440" pageno="false" format="default" /> 
  and <xref target="RFC8231" pageno="false" format="default" /> 
  apply to PCEP protocol extensions defined in this document. In addition, requirements and considerations listed in this section apply. 
  </t>

 <section title="Control of Function and Policy" toc="default">
 <t>
  A PCE or PCC implementation MUST allow configuring the State Synchronization optimization capabilities as described in this document. The implementation SHOULD also allow the operator to configure the Speaker Entity Identifier (<xref target="SPEAKER-ENTITY-ID-TLV-OPEN" pageno="false" format="default" />). Further, the operator SHOULD be to be allowed to trigger the resynchronization  procedures as per <xref target="triggered-resync-procedures" pageno="false" format="default" />. 
  </t>
  </section>

 <section title="Information and Data Models" toc="default">
  <t>An implementation SHOULD allow the operator to view the stateful capabilities advertised by each peer and the current synchronization status with each peer.  To serve this purpose, the PCEP YANG module <xref target="PCEP-YANG"/> can be extended to include advertised stateful capabilities and synchronization status.</t> 
  </section>
 <section title="Liveness Detection and Monitoring" toc="default">
 <t>
  Mechanisms defined in this document do not imply any new liveness detection and monitoring requirements in addition to those already listed in <xref target="RFC5440" pageno="false" format="default" />. 
  </t>
  </section>

 <section title="Verify Correct Operations" toc="default">
 <t>
  Mechanisms defined in this document do not imply any new operation verification requirements in addition to those already listed in <xref target="RFC5440" pageno="false" format="default" /> 
  and <xref target="RFC8231" pageno="false" format="default" />. 
  </t>
  </section>

 <section title="Requirements on Other Protocols" toc="default">
  <t>Mechanisms defined in this document do not imply any new requirements on other protocols.</t> 
  </section>

 <section title="Impact on Network Operations" toc="default">
 <t></t>

 <t>
  Mechanisms defined in <xref target="RFC5440" pageno="false" format="default" /> 
  and 
  <xref target="RFC8231" pageno="false" format="default" /> also apply to PCEP extensions defined in this document. </t>
  <t>The State Synchronization optimizations described in this document can result in a reduction of the amount of data exchanged and the time taken for a stateful PCE to be fully operational when a PCEP session is re-established. The ability to trigger resynchronization by the PCE can be utilized by the operator to sanity check its state and recover from any mismatch in state without tearing down the session.</t>
  </section>
  </section>
 <section anchor="Security" title="Security Considerations" toc="default">
 <t>
  The security considerations listed in <xref target="RFC8231" pageno="false" format="default" /> 
  apply to this document as well. However, this document also introduces some new attack vectors.
  An attacker could spoof the SPEAKER-ENTITY-ID and pretend to be 
  another PCEP speaker.  
  An attacker may flood the PCC with triggered resynchronization requests at a rate that exceeds the PCC's ability to process them by either spoofing messages or compromising the PCE itself. The PCC can respond with a PCErr message as described in <xref target="triggered-resync-procedures"/> and terminate the session.  
  Thus, securing the PCEP session using Transport Layer Security (TLS) 
  <xref target="PCEPS"/>, as per the recommendations and best current practices in <xref target="RFC7525"/>, is RECOMMENDED. An administrator could also expose the Speaker Entity Identifier as part of the certificate, for the peer identity verification.  
  </t>
  </section>

  </middle>

 <back>

<references title="Normative References">


<reference anchor='RFC8231' target='http://www.rfc-editor.org/info/rfc8231'>
<front>
<title>Path Computation Element Communication Protocol (PCEP) Extensions for Stateful PCE</title>
<author initials='E' surname='Crabbe' fullname='Edward Crabbe'>
    <organization />
</author>
<author initials='I' surname='Minei' fullname='Ina Minei'>
    <organization />
</author>
<author initials='J' surname='Medved' fullname='Jan Medved'>
    <organization />
</author>
<author initials='R' surname='Varga' fullname='Robert Varga'>
    <organization />
</author>
<date month='September' year='2017' />
</front>
<seriesInfo name='RFC' value='8231' />
<seriesInfo name='DOI' value='10.17487/RFC8231' />
</reference>

  <?rfc include="reference.RFC.2119.xml"?> 
  <?rfc include="reference.RFC.5440.xml"?> 
  <?rfc include="reference.RFC.8174.xml"?> 
</references>
 
<references title="Informative References">

  <?rfc include="reference.RFC.7525.xml"?> 
  <?rfc include="reference.RFC.8051.xml"?> 

<!--draft-ietf-pce-pcep-yang-05; Active, I-D Exists-->
<reference anchor='PCEP-YANG'>
<front>
<title>A YANG Data Model for Path Computation Element Communications Protocol (PCEP)</title>
<author initials='D' surname='Dhody' fullname='Dhruv Dhody'>
    <organization />
</author>
<author initials='J' surname='Hardwick' fullname='Jonathan Hardwick'>
    <organization />
</author>
<author initials='V' surname='Beeram' fullname='Vishnu Beeram'>
    <organization />
</author>
<author initials='j' surname='jefftant@gmail.com' fullname='jefftant@gmail.com'>
    <organization />
</author>
<date month='July' year='2017' />
</front>
<seriesInfo name='Work in Progress,' value='draft-ietf-pce-pcep-yang-05' />
</reference>

<!--draft-ietf-pce-pceps-18 (was -16); in EDIT as of 9/20/17-->
<reference anchor='PCEPS'>
<front>
<title>Secure Transport for PCEP</title>
<author initials='D' surname='Lopez' fullname='Diego Lopez'>
    <organization />
</author>
<author initials='O' surname='Dios' fullname='Oscar de Dios'>
    <organization />
</author>
<author initials='Q' surname='Wu' fullname='Qin Wu'>
    <organization />
</author>
<author initials='D' surname='Dhody' fullname='Dhruv Dhody'>
    <organization />
</author>
<date month='September' year='2017' />
</front>
<seriesInfo name='Work in Progress,' value='draft-ietf-pce-pceps-18' />
</reference>

</references>

 
 <section anchor="Acknowledgments" title="Acknowledgments" numbered="no">
  <t>We would like to thank Young Lee, Sergio Belotti, and Cyril Margaria for their comments and discussions.</t> 
  <t>Thanks to Jonathan Hardwick for being the document shepherd and providing comments and guidance.</t>
  <t>Thanks to Tomonori Takeda for the Routing Area Directorate review.</t>
  <t>Thanks to Adrian Farrel for the TSVART review and providing detailed comments and suggestions.</t>
  <t>Thanks to Daniel Franke for the SECDIR review.</t>
  <t>Thanks to Alvaro Retana, Kathleen Moriarty, and Stephen Farrell for comments during the IESG evaluation.</t>
  <t>Thanks to Deborah Brungard for being the responsible AD and guiding the authors as needed.</t>
  </section>

<section anchor="Contributor" title="Contributors" numbered="no">
 <t>
  Gang Xie 
  <vspace blankLines="0" /> 
  Huawei Technologies 
  <vspace blankLines="0" /> 
  F3-5-B R&amp;D Center, Huawei Industrial Base, Bantian, Longgang District 
  <vspace blankLines="0" /> 
  Shenzhen, Guangdong, 518129 
  <vspace blankLines="0" /> 
  China 
  <vspace blankLines="0" /> 
  Email: xiegang09@huawei.com 
  <vspace blankLines="0" /> 
  </t>
  </section>

  </back>
  </rfc>
