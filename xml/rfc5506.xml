<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY rfc2119 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml">
<!ENTITY rfc3550 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3550.xml">
<!ENTITY rfc3551 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3551.xml">
<!ENTITY rfc4585 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4585.xml">
<!ENTITY rfc5124 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.5124.xml">
<!ENTITY rfc3095 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3095.xml">
<!ENTITY rfc4588 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4588.xml">
<!ENTITY rfc5104 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.5104.xml">
]>
<?rfc toc="yes"?>
<?rfc tocompact="yes"?>
<?rfc tocdepth="3"?>
<?rfc tocindent="yes"?>
<?rfc symrefs="yes"?>
<?rfc sortrefs="yes"?>
<?rfc compact="yes"?>
<?rfc subcompact="no"?>
<?rfc rfcedstyle="yes"?>
<rfc category="std" number="5506" updates="3550, 3711, 4585">
  <front>
    <title abbrev="Reduced-Size RTCP in RTP Profile">Support for Reduced-Size
    Real-Time Transport
    Control&nbsp;Protocol&nbsp;(RTCP):&nbsp;Opportunities&nbsp;and&nbsp;Consequences</title>

    <author fullname="Ingemar Johansson" initials="I." surname="Johansson">
      <organization>Ericsson AB</organization>

      <address>
        <postal>
          <street>Laboratoriegrand 11</street>

          <city>SE-971 28 Lulea</city>

          <country>SWEDEN</country>
        </postal>

        <phone>+46 73 0783289</phone>

        <email>ingemar.s.johansson@ericsson.com</email>
      </address>
    </author>

    <author fullname="Magnus Westerlund" initials="M." surname="Westerlund">
      <organization>Ericsson AB</organization>

      <address>
        <postal>
          <street>Faeroegatan 6</street>

          <city>SE-164 80 Stockholm</city>

          <country>SWEDEN</country>
        </postal>

        <phone>+46 10 7148287</phone>

        <email>magnus.westerlund@ericsson.com</email>
      </address>
    </author>

    <date month="April" year="2009" />

    <note title="">
      <t>This document may contain material from IETF Documents or IETF
      Contributions published or made publicly available before November 10,
      2008. The person(s) controlling the copyright in some of this material
      may not have granted the IETF Trust the right to allow modifications of
      such material outside the IETF Standards Process. Without obtaining an
      adequate license from the person(s) controlling the copyright in such
      materials, this document may not be modified outside the IETF Standards
      Process, and derivative works of it may not be created outside the IETF
      Standards Process, except to format it for publication as an RFC or to
      translate it into languages other than English.</t>
    </note>

    <abstract>
      <t>This memo discusses benefits and issues that arise when allowing
      Real-time Transport Protocol (RTCP) packets to be transmitted with
      reduced size. The size can be reduced if the rules on how to create
      compound packets outlined in RFC 3550 are removed or changed. Based on
      that analysis, this memo defines certain changes to the rules to allow
      feedback messages to be sent as Reduced-Size RTCP packets under certain
      conditions when using the RTP/AVPF (Real-time Transport Protocol /
      Audio-Visual Profile with Feedback) profile (RFC 4585). This document
      updates RFC 3550, RFC 3711, and RFC 4585.</t>
    </abstract>
  </front>

  <middle>
    <section title="Introduction">
      <t>In <xref target="RFC3550">RTP</xref> it is currently mandatory to
      send RTP Control Protocol (RTCP) packets as compound packets containing
      at least a sender report (SR) or receiver report (RR), followed by a
      source description (SDES) packet containing at least the CNAME item.
      There are good reasons for this, as discussed below (see <xref
      target="sec-compound-packets"></xref>); however, it does result in the
      minimal RTCP packets being quite large.</t>

      <t>The <xref target="RFC4585">RTP/AVPF profile</xref> specifies new RTCP
      packet types for feedback messages. Some of these feedback messages
      would benefit from being transmitted with minimal delay. AVPF provides
      some mechanisms to support this; however, for environments with
      low-bitrate links, these messages can still consume a large amount of
      resources and can introduce extra delay in the time it takes to
      completely send the compound packet in the network. It is therefore
      desirable to send just the feedback, without the other parts of a
      compound RTCP packet. This memo proposes such a mechanism for this and
      other use cases, as discussed in <xref
      target="sec-use-cases"></xref>.</t>

      <t>There are a number of benefits with Reduced-Size RTCP; these are
      discussed in <xref target="sec-benefits"></xref>.</t>

      <t>The use of Reduced-Size RTCP is not without issues. This is discussed
      in <xref target="sec-issues"></xref>. These issues need to be considered
      and are part of the motivation for this document.</t>

      <t>Finally, this document defines how AVPF is updated to allow for the
      transmission of Reduced-Size RTCP in a way that would not substantially
      affect the mechanisms that compound packets provide; see <xref
      target="sec-rules"></xref> for more details. The connection to AVPF (or
      <xref target="RFC5124">SAVPF</xref>) is motivated by the fact that
      Reduced-Size RTCP is mainly beneficial for event-driven feedback
      purposes and that the AVPF Early RTCP and Immediate Feedback modes make
      this possible.</t>

      <t>This document updates <xref target="RFC3550"></xref>, <xref
      target="RFC3711"></xref>, and <xref target="RFC4585"></xref>.</t>
    </section>

    <section title="Terminology">
      <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <xref
      target="RFC2119"></xref>.</t>

      <t>The naming convention for RTCP is often confusing. Below is a list of
      RTCP terms and what they mean. See also Section 6.1 in <xref
      target="RFC3550"></xref> and Section 3.1 in <xref
      target="RFC4585"></xref> for details.<list style="hanging">
          <t hangText="RTCP packet:">Can be of different types, contains a
          fixed header part followed by structured elements depending on RTCP
          packet type.</t>

          <t hangText="Lower layer datagram:">Can be interpreted as the UDP
          payload. It may however, depending on the transport, be a TCP or
          Datagram Congestion Control Protocol (DCCP) payload or something
          else. Synonymous to the "underlying protocol" defined in Section 3
          in <xref target="RFC3550"></xref>.</t>

          <t hangText="Compound RTCP packet:">A collection of two or more RTCP
          packets. A compound RTCP packet is transmitted in a lower-layer
          datagram. It must contain at least an RTCP RR or SR packet and an
          SDES packet with the CNAME item. Often "compound" is left out, the
          interpretation of RTCP packet is therefore dependent on the
          context.</t>

          <t hangText="Minimal compound RTCP packet:">A compound RTCP packet
          that contains the RTCP RR or SR packet and the SDES packet with the
          CNAME item with a specified ordering.</t>

          <t hangText="(Full) compound RTCP packet:">A compound RTCP packet
          that conforms to the requirements on minimal compound RTCP packets
          and contains more RTCP packets.</t>

          <t hangText="Reduced-size RTCP packet:">May contain one or more RTCP
          packets but does not follow the compound RTCP rules defined in
          Section 6.1 in <xref target="RFC3550"></xref> and is thus neither a
          minimal nor a full compound RTCP. See <xref
          target="sec-definition"></xref> for a full definition.</t>
        </list></t>
    </section>

    <section anchor="use-cases" title="Use Cases and Design Rationale">
      <section anchor="sec-compound-packets"
               title="RTCP Compound Packets (Background)">
        <t>Section 6.1 in <xref target="RFC3550"></xref> specifies that an
        RTCP packet must be sent as a compound RTCP packet consisting of at
        least two individual RTCP packets, first a sender report (SR) or
        receiver report (RR), followed by additional packets including a
        mandatory SDES packet containing a CNAME item for the transmitting
        source identifier. Below is a short description of what these RTCP
        packet types are used for.</t>

        <t><list style="numbers">
            <t>The sender and receiver reports (see Section 6.4 of <xref
            target="RFC3550"></xref>) provide the RTP session participant with
            the synchronization source (SSRC) identifier of all RTP session
            participants. Having all participants send these packets
            periodically allows everyone to determine the current number of
            participants. This information is used in the transmission
            scheduling algorithm. Thus, this is particularly important for new
            participants so that they can quickly establish a good estimate of
            the group size. Failure to do this would result in RTCP senders
            consuming too much bandwidth.</t>

            <t>Before a new session participant has sent any RTP or RTCP
            packet, it can also avoid SSRC collisions with all the SSRCs it
            sees prior to that transmission. So the possibility to see a
            substantial proportion of the participating sources minimizes the
            risk of any collision when selecting SSRC.</t>

            <t>The sender and receiver reports contain some basic statistics
            usable for monitoring of the transport and thus enable adaptation.
            These reports become more useful if sent regularly, as the
            receiver of a report can perform analyses to find trends between
            the individual reports. When used for media transmission
            adaptation, the information becomes more useful the more
            frequently it is received, at least until one report per
            round-trip time (RTT) is achieved. Therefore, there is, in most
            cases, no reason not to include the sender or receiver report in
            all RTCP packets.</t>

            <t>The CNAME SDES item (see Section 6.5.1 of <xref
            target="RFC3550"></xref>) exists to allow receivers to determine
            which media flows should be synchronized with each other, both
            within an RTP session and between different RTP sessions carrying
            different media types. Thus, it is important to quickly receive
            this for each media sender in the session when joining an RTP
            session.</t>

            <t>Sender reports (SR) are used in combination with the above SDES
            CNAME mechanism to synchronize multiple RTP streams, such as audio
            and video. After having determined which media streams should be
            synchronized using the CNAME field, the receiver uses the sender
            report's NTP and RTP timestamp fields to establish
            synchronization.</t>

            <t>The CNAME SDES item also allows a session participant to detect
            SSRC collisions and separate them from routing loops. The 32-bit,
            randomly selected SSRC has some probability of collision. The
            CNAME is used as the longer canonical identifier of a particular
            endpoint instance that is bound to an SSRC. If that binding isn't
            received and kept current, the receiver may not detect an SSRC
            collision, i.e., two different CNAMEs using the same SSRC. It also
            can't detect an RTP-level routing loop, with the result that the
            same SSRC and CNAME arrive from multiple lower-layer source
            addresses.</t>
          </list> Reviewing the above, it is obvious that both SR/RR and the
        CNAME are very important in order for new session participants to be
        able to utilize any received media and to avoid flooding the network
        with RTCP reports. In addition, the dynamic nature of the information
        provided would make it less useful if not sent regularly.</t>

        <t>The following sections will describe the cases when Reduced-Size
        RTCP is beneficial and will also show the possible issues that must be
        considered.</t>
      </section>

      <section anchor="sec-use-cases" title="Use Cases for Reduced-Size RTCP">
        <t>Below are listed a few use cases for Reduced-Size RTCP. <list
            style="hanging">
            <t hangText="Control Plane Signaling:">The Open Mobile Alliance
            (OMA) Push-to-talk over Cellular (PoC) <xref target="OMA-PoC">
            </xref> makes use of Reduced-Size RTCP when transmitting certain
            events. The OMA PoC service is primarily used over cellular links
            capable of IP transport, such as the Global System for Mobile
            Connections (GSM) General Packet Radio Service (GPRS).</t>

            <t hangText="Codec Control Signaling:">An example that can be used
            with Reduced-Size RTCP is, e.g., Temporary Maximum Media Stream
            Bitrate Request (TMMBR) messages as specified in <xref
            target="RFC5104"></xref>, which signal a request for a change in
            codec bitrate. These messages benefit from the usage of
            Reduced-Size RTCP in bad channel conditions, as Reduced-Size RTCP
            are much more likely to be successfully transmitted than larger
            compound RTCP. This is critical, as these messages are likely to
            occur when channel conditions are poor. Other examples of codec
            control usage for Reduced-Size RTCP are found in <xref
            target="MTSI-3GPP"></xref></t>

            <t hangText="Feedback:">An example of a feedback scenario that
            would benefit from Reduced-Size RTCP is Video streams with generic
            NACK. In cases where the RTT is shorter than the receiver buffer
            depth, generic NACK can be used to request retransmission of
            missing packets, thus improving playout quality considerably. If
            the generic NACK packets are transmitted as Reduced-Size RTCP, the
            bandwidth requirement for RTCP will be minimal, enabling more
            frequent feedback. As in the codec control case, it is important
            that these packets can be transmitted with as little delay as
            possible. Another interesting use for Reduced-Size RTCP is in
            cases when regular feedback is needed, as described in <xref
            target="sec-benefits"></xref>.</t>

            <t hangText="Status Reports:">One proposed idea is to transmit
            small measurement or status reports in Reduced-Size RTCP, and to
            split the minimal compound RTCP and transmit the individual RTCP
            separately. The status reports can be used either by the endpoints
            or by other network monitoring boxes in the network. The benefit
            is that, with some radio access technologies, small packets are
            more robust to poor radio conditions than large packets.
            Additionally, with small (report) packets, there is a smaller risk
            that the report packets will affect the channel upon which they
            report. Another benefit is that it is possible, with Reduced-Size
            RTCP, to allow, for example, anonymous status reporting to be
            transmitted unencrypted. This is something that may be beneficial,
            for instance, for network monitoring purposes.</t>
          </list></t>
      </section>

      <section anchor="sec-benefits" title="Benefits of Reduced-Size RTCP">
        <t>As mentioned in the introduction, most advantages of using
        Reduced-Size RTCP packets exist in cases when the available RTCP
        bitrate is limited. This is because they can become substantially
        smaller than compound packets. A compound packet is forced to contain
        both an RR or an SR and the CNAME SDES item. The RR containing a
        report block for a single source is 32 bytes, an SR is 52 bytes. Both
        may be larger if they contain report blocks for multiple sources. The
        SDES packet containing a CNAME item will be 10 bytes plus the CNAME
        string length. Here, it is reasonable that the CNAME string is at
        least 10 bytes to get a decent collision resistance. If the
        recommended form of user@host is used, then most strings will be
        longer than 20 characters. Thus, a Reduced-Size RTCP can become at
        least 70-80 bytes smaller than the compound packet.</t>

        <t anchor="sec-benefits-low-bitrate" hangText="">For low bitrate
        links, the benefits of this reduction in size are as follows:<list
            style="symbols">
            <t>For links where the packet-loss rate grows with the packet
            size, smaller packets are less likely to be dropped. Radio links
            are an example of such links. In the cellular world, there exist
            links that are optimized to handle RTP packets sized for carrying
            compressed speech. This increases the capacity and coverage for
            voice services in a given wireless network. Minimal compound RTCP
            packets are commonly 2-3 times the size of an RTP packet carrying
            compressed speech. If the speech packet over such a bearer has a
            packet-loss probability of p, then the RTCP packet will experience
            a loss probability of 1-(1-p)^x, where x is the number of
            fragments the compound packet will be split into on the link
            layer, i.e., commonly into 2 or 3 fragments.</t>

            <t>There is a shorter serialization time, i.e., the time it takes
            the link to transmit the packet. For slower links, this time can
            be substantial. For example, transmitting 120 bytes over a link
            interface capable of 30 kbps takes 32 milliseconds (ms), assuming
            uniform transmission rate.</t>
          </list></t>

        <t>In cases when Reduced-Size RTCP carries important and
        time-sensitive feedback, both shorter serialization time and the lower
        loss probability are important to enable the best possible
        functionality. Having a packet-loss rate that is much higher for the
        feedback packets than the media packets hurts when trying to perform
        media adaptation to, for example, handle the changed performance
        present at the cell border in a cellular system.</t>

        <t>For high-bitrate applications, there is usually no problem to
        supply RTCP with sufficient bitrates. When using AVPF, one can use the
        "trr-int" parameter to restrict the regular reporting interval to
        approximately once per RTT or less often. As in most cases, there is
        little reason to provide regular reports of higher density than this;
        any additional bandwidth can then be used for feedback messages. The
        benefit of Reduced-Size RTCP in this case is limited, but exists. One
        typical example is video using generic NACK in cases where the RTT is
        low. Using Reduced-Size RTCP would reduce the total amount of bits
        used for RTCP. This is primarily applicable if the number of reports
        is large. This would also result in lower processing delay and less
        complexity for the feedback packets, as they do not need to query the
        RTCP database to construct the right messages.</t>

        <t>As message size is generally a smaller issue at higher bitrates, it
        is also possible to transmit multiple RTCP in each lower-layer
        datagram in these cases. The motivation behind Reduced-Size RTCP in
        this case is not size, rather it is to avoid the extra overhead caused
        by inclusion of the SR/RR and SDES CNAME items in each transmitted
        RTCP.</t>

        <t>Independently of the link type, there are additional benefits with
        sending feedback in small Reduced-Size RTCP. Applications that use
        RTCP AVPF in Early RTCP or Immediate Feedback mode need to send
        frequent event-driven feedback. Under these circumstances, the risk is
        reduced that the RTCP bandwidth becomes too high during periods of
        heavy feedback signaling.</t>

        <t>In cases when regular feedback is needed, such as the profile under
        development for TCP friendly rate control (TFRC) for RTP <xref
        target="TCP-FRIEND"></xref>, the size of compound RTCPs can result in
        very high bandwidth requirements if the round-trip time is short. For
        this particular application, Reduced-Size RTCP gives a very
        substantial improvement.</t>
      </section>

      <section anchor="sec-issues" title="Issues with Reduced-Size RTCP">
        <t>This section describes the known issues with Reduced-Size RTCP and
        also provides a brief analysis of their effects and mitigation.</t>

        <section anchor="sec-middleboxes" title="Middle Boxes">
          <t>Middle boxes in the network may discard RTCP that do not follow
          the rules outlined in Section 6.1 of RFC 3550. Newer report types
          may be interpreted as unknown by the middle box. For instance, if
          the payload type number is 207 instead of 200 or 201, it may be
          treated as unknown. The effect of this might, for instance, be that
          compound RTCP would get through while the Reduced-Size RTCP would be
          lost.</t>

          <t>Verification of the delivery of Reduced-Size RTCP is discussed in
          <xref target="sec-verification"></xref>.</t>
        </section>

        <section anchor="sec-packet-validation" title="Packet Validation">
          <t>A Reduced-Size RTCP packet will be discarded by the packet
          validation code in Appendix A of <xref target="RFC3550"></xref>.
          This has several impacts: <list style="hanging">
              <t hangText="Weakened Packet Validation:">The packet validation
              code needs to be rewritten to accept Reduced-Size RTCP. In
              particular, this affects Section 9.1 in <xref
              target="RFC3550"></xref> in the sense that the header
              verification must take into account that the payload type
              numbers for the (first) RTCP in the lower-layer datagram may
              differ from 200 or 201 (SR or RR). One potential effect of this
              change is much weaker validation that received packets actually
              are RTCP and not packets of some other type being wrongly
              delivered. Thus, some consideration should be given to ensure
              the best possible validation is available, for example,
              restricting Reduced-Size RTCP to contain only some specific RTCP
              packet types that are preferably signalled on a per-session
              basis. However, the application of a security mechanism for
              source authentication on the packets will provide much stronger
              protection.</t>

              <t hangText="Old RTP Receivers:">Any RTCP receiver without an
              updated packet validation code will discard the Reduced-Size
              RTCP, which means that the receiver will not see e.g., the
              contained feedback messages. The effect of this depends on the
              type of feedback message and the role of the receiver. For
              example, this may cause complete function loss in the case of
              attempting to send a Reduced-Size NACK message (see Section
              6.2.1 of <xref target="RFC4585"></xref>) to a non-updated media
              sender in a session using the retransmission scheme defined by
              <xref target="RFC4588"></xref>. This type of discarding would
              also affect the feedback suppression defined in AVPF. The result
              would be a partitioning of the receivers within the session,
              with the old receivers only seeing the compound RTCP feedback
              messages and the newer ones seeing both. In this case, the old
              receivers may send feedback messages for events already reported
              on in Reduced-Size RTCP.</t>

              <t hangText="Bandwidth Considerations:">The discarding of
              Reduced-Size RTCP would affect the RTCP transmission calculation
              in that the avg_rtcp_size value would become larger than for RTP
              receivers that exclude the Reduced-Size RTCP in this calculation
              (assuming that Reduced-Size RTCP are smaller than compound
              ones). Therefore, these senders would under-utilize the
              available bitrate and send with a longer interval than updated
              receivers. For most sessions, this should not be an issue.
              However, for sessions with a large portion of Reduced-Size RTCP,
              the updated receivers may time out non-updated senders
              prematurely. This is, however, not likely to occur, as the time
              between compound RTCP transmissions needs to become 5 times that
              used by the Reduced-Size RTCP senders for it to happen.</t>

              <t hangText="Computation of avg_rtcp_size:">Long intervals
              between compound RTCP with many Reduced-Size RTCP in between may
              lead to a computation of a value for avg_rtcp_size that varies
              greatly over time. Investigation shows that although it varies,
              this is not enough of a problem to warrant further changes or
              complexities to the RTCP scheduling algorithm.</t>
            </list></t>
        </section>

        <section title="Encryption/Authentication">
          <t>The Secure Real-time Transport Protocol (SRTP) presents a problem
          for Reduced-Size RTCP. Section 3.4 of <xref target="RFC3711"></xref>
          states, "SRTCP MUST be given packets according to that requirement
          in the sense that the first part MUST be a sender report or a
          receiver report".</t>

          <t>Upon examination of how SRTP processes packets, it becomes
          obvious that SRTP has no real dependency on whether the first packet
          is an SR or an RR packet. What is needed is the common RTCP packet
          header, which is present in all the packet types, with a source
          SSRC. The conclusion is therefore that it is possible to use
          Reduced-Size RTCP with SRTP. Nevertheless, as this implies a change
          to the rules in <xref target="RFC3711"></xref>, changes in SRTP
          implementations MAY become necessary.</t>
        </section>

        <section anchor="sec-issue-mux"
                 title="RTP and RTCP Multiplex on the Same Port">
          <t>In applications in which multiplex RTP and RTCP are on the same
          port, as defined in <xref target="MULTI-RTP"></xref>, care must be
          taken to ensure that de-multiplexing is done properly even though
          the RTCP packets are reduced size. The downside of Reduced-Size RTCP
          is that more values representing RTCP packets exist, reducing the
          available RTP payload type space. However, Section 4 in <xref
          target="MULTI-RTP"></xref> already requires the corresponding RTP
          payload type range not be used when performing this
          multiplexing.</t>
        </section>

        <section title="Header Compression">
          <t>Two issues are related to header compression. Possible changes
          are left for future work:<list style="symbols">
              <t>Payload type number identification: The Robust Header
              Compression (RoHC) algorithm <xref target="RFC3095"></xref>
              needs to create different compression contexts for RTP and RTCP
              for optimum performance. If RTP and RTCP are multiplexed on the
              same port, the classification may be based on payload type
              numbers. The classification algorithm must here acknowledge the
              fact that the payload type number for (the first) RTCP may
              differ from 200 or 201.</t>

              <t>Compression of RTCP: No IETF-defined header compression
              method compress RTCP; however, if such methods are developed in
              the future, these methods must take Reduced-Size RTCP in
              account.</t>
            </list></t>
        </section>
      </section>
    </section>

    <section anchor="sec-rules" title="Use of Reduced-Size RTCP with AVPF">
      <t>Based on the above analysis, it seems feasible to allow transmission
      of Reduced-Size RTCP under some restrictions: <list style="symbols">
          <t>First of all, it is important that compound RTCPs are transmitted
          at regular intervals to ensure that the mechanisms maintained by the
          compound packets, like feedback reporting, work. The tracking of
          session size and number of participants warrants mentioning again,
          as this ensures that the RTCP bandwidth remains bounded independent
          of the number of session participants.</t>

          <t>Second, as the compound RTCP packets are also used to establish
          and maintain synchronization between media, any newly joining
          participant in a session would need to receive compound RTCP from
          the media sender(s).</t>
        </list></t>

      <t>This implies that the regular transmission of compound RTCP MUST be
      maintained throughout an RTP session. Reduced-Size RTCP SHOULD be
      restricted to be used as extra RTCP (e.g., feedback), sent in cases when
      a regular compound RTCP packet would not otherwise have been sent.</t>

      <t>The usage of Reduced-Size RTCP SHALL only be done in RTP sessions
      operating in <xref target="RFC4585">AVPF</xref> or <xref
      target="RFC5124">SAVPF</xref> Early RTCP or Immediate Feedback mode.
      Reduced-Size RTCP SHALL NOT be sent until at least one compound RTCP has
      been sent. In Immediate Feedback mode, all feedback messages MAY be sent
      as Reduced-Size RTCP. In Early RTCP mode, a feedback message scheduled
      for transmission as an Early RTCP, i.e., not a Regular RTCP, MAY be sent
      as Reduced-Size RTCP. All RTCP that are scheduled for transmission as
      Regular RTCP SHALL be sent as compound RTCP as indicated by <xref
      target="RFC4585">AVPF</xref>.</t>

      <section anchor="sec-definition" title="Definition of Reduced-Size RTCP">
        <t>A Reduced-Size RTCP packet is an RTCP packet with the following
        properties that make it deviate from the compound RTCP packet
        definition given in Section 6.1 in <xref
        target="RFC3550"></xref>:<list style="symbols">
            <t>contains one or more RTCP packet(s)</t>

            <t>allows any RTCP packet type; however, see <xref
            target="sec-verification"></xref></t>

            <t>MUST NOT be used for Regular (scheduled) RTCP report
            purposes</t>

            <t>MUST NOT be used with the RTP/AVP profile <xref
            target="RFC3551"></xref> or the RTP/SAVP profile <xref
            target="RFC3711"></xref></t>
          </list></t>
      </section>

      <section anchor="sec-algorithm" title="Algorithm Considerations">
        <section anchor="sec-verification" title="Verification of Delivery">
          <t>If an application is to use Reduced-Size RTCP, it is important to
          verify that the Reduced-Size RTCP packets actually reach the session
          participants. As outlined above in <xref
          target="sec-middleboxes"></xref> and <xref
          target="sec-packet-validation"></xref>, packets may be discarded
          along the path or in the endpoint.</t>

          <t>A few verification rules are RECOMMENDED to ensure robust RTCP
          transmission and reception and to solve the identified issues when
          Reduced-Size RTCP is used:<list style="symbols">
              <t>The endpoint issue can be solved by introducing signaling
              that informs if all session participants are capable of
              Reduced-Size RTCP. See <xref
              target="sec-sdp-attribute"></xref>.</t>

              <t>The middle box issue is more difficult, and here one will be
              required to use heuristics to determine whether or not the
              Reduced-Size RTCP packets are delivered. The method used to
              detect successful delivery of Reduced-Size RTCP packets depends
              on the packet type. The RTCP packet types for which successful
              delivery can be detected are: <list style="symbols">
                  <t>Sender reports (SR): Successful transmission of a sender
                  report can be verified by inspection of the echoed timestamp
                  in the received receiver report (RR). This can also be used
                  as a method to verify if Reduced-Size RTCP can be used at
                  all.</t>

                  <t>Feedback RTCP packets: In many cases, the feedback
                  messages sent using Reduced-Size RTCP will result in either
                  explicit or implicit indications that they have been
                  received. An example of this is the <xref
                  target="RFC4588">RTP retransmission</xref> that results from
                  a <xref target="RFC4585">NACK message</xref>. Another
                  example is the <xref target="RFC5104">Temporary Maximum
                  Media Stream Bitrate Notification (TMMBN) message resulting
                  from a Temporary Maximum Media Stream Bitrate Request
                  (TMMBR)</xref>. A third example is the presence of a <xref
                  target="RFC5104">decoder refresh point</xref> in the video
                  media stream resulting from the Full Intra Request that was
                  sent.</t>
                </list> RTCP packet types for which it is not possible to
              detect successful delivery SHOULD NOT be transmitted as
              Reduced-Size RTCP packets unless they are transmitted in the
              same lower-layer datagram as another RTCP packet type for which
              successful delivery can be detected.</t>

              <t>An algorithm to detect consistent failure of delivery of
              Reduced-Size RTCP MUST be used by any application using
              Reduced-Size RTCP. The details of this algorithm are application
              dependent and therefore outside the scope of this document.</t>
            </list></t>

          <t>If the verification fails, it is strongly RECOMMENDED that only
          compound RTCP, according to the rules outlined in RFC 3550, is
          transmitted.</t>
        </section>

        <section title="Single vs Multiple RTCP in a Reduced-Size RTCP">
          <t>The result of the definition in <xref
          target="sec-definition"></xref> may be that the resulting size of
          Reduced-Size RTCP can become larger than a regularly scheduled
          compound RTCP packet. For applications that use access types that
          are sensitive to packet size (see <xref
          target="sec-benefits-low-bitrate"></xref> in <xref
          target="sec-benefits"></xref>), it is strongly RECOMMENDED that the
          use of Reduced-Size RTCP is limited to the transmission of a single
          RTCP packet in each lower-layer datagram. The method to determine
          the need for this is outside the scope of this document.</t>

          <t>In general, as the benefit with large Reduced-Size RTCP packets
          is very limited, it is strongly RECOMMENDED to transmit large
          Reduced-Size RTCP packets as compound RTCP packets instead.</t>
        </section>

        <section title="Enforcing Compound RTCP">
          <t>As discussed earlier, it is important that the transmission of
          compound RTCP occurs at regular intervals. However, this will occur
          as long as the RTCP senders follow the AVPF scheduling algorithm
          defined in Section 3.5 of <xref target="RFC4585"></xref>. This
          follows as all Regular RTCP MUST be full compound RTCP. Note that
          there is also a requirement on sending Regular RTCP in Immediate
          Feedback mode.</t>
        </section>

        <section title="Immediate Feedback Mode">
          <t>Section 3.3 of <xref target="RFC4585"></xref> gives the option to
          use AVPF Immediate Feedback mode as long as the group size is below
          a certain limit. As transmissions using Reduced-Size RTCP may reduce
          the bandwidth demand, such transmissions also open up the
          possibility of a more liberal use of Immediate Feedback mode.</t>
        </section>
      </section>
    </section>

    <section anchor="sec-sdp-attribute" title="Signaling">
      <t>This document defines the "a=rtcp-rsize" <xref
      target="RFC4566">Session Description Protocol (SDP)</xref> attribute to
      indicate if the session participant is capable of supporting
      Reduced-Size RTCP for applications that use SDP for configuration of RTP
      sessions. It is REQUIRED that a participant that proposes the use of
      Reduced-Size RTCP shall itself support the reception of Reduced-Size
      RTCP.</t>

      <t>An offering client that wishes to use Reduced-Size RTCP MUST include
      the attribute "a=rtcp-rsize" in the SDP offer. If "a=rtcp-rsize" is
      present in the offer SDP, the answerer that supports Reduced-Size RTCP
      and wishes to use it SHALL include the "a=rtcp-rsize" attribute in the
      answer.</t>

      <t>In declarative usage of SDP, such as <xref target="RFC2326"> the Real
      Time Streaming Protocol (RTSP)</xref> and <xref target="RFC2974"> the
      Session Announcement Protocol (SAP)</xref>, the presence of the
      attribute indicates that the session participant MAY use Reduced-Size
      RTCP packets in its RTCP transmissions.</t>
    </section>

    <section anchor="Security" title="Security Considerations">
      <t>The security considerations of <xref target="RFC3550">RTP</xref> and
      <xref target="RFC4585">AVPF</xref> will apply also to Reduced-Size RTCP.
      The reduction in validation strength for received packets on the RTCP
      port may result in a higher degree of acceptance of spurious data as
      real RTCP. This vulnerability can mostly be addressed by usage of any
      security mechanism that provides authentication; one such mechanism is
      SRTP <xref target="RFC3711"></xref>.</t>
    </section>

    <section anchor="IANA" title="IANA Considerations">
      <t>Following the guidelines in <xref target="RFC4566"></xref>, the IANA
      has registered a new SDP attribute:<list style="symbols">
          <t>Contact name, email address, and telephone number: Authors of RFC
          5506</t>

          <t>Attribute-name: rtcp-rsize</t>

          <t>Long-form attribute name: Reduced-Size RTCP</t>

          <t>Type of attribute: media-level</t>

          <t>Subject to charset: no</t>
        </list></t>

      <t>This attribute defines the support for Reduced-Size RTCP, i.e., the
      possibility to transmit RTCP that does not conform to the rules for
      compound RTCP defined in RFC 3550. It is a property attribute, which
      does not take a value.</t>
    </section>

    <section anchor="Acknowledgements" title="Acknowledgements">
      <t>The authors would like to thank all the people who gave feedback on
      this document. Special thanks go to Colin Perkins.</t>

      <t>This document also contains some text copied from <xref
      target="RFC3550"></xref>, <xref target="RFC4585"></xref>, and <xref
      target="RFC3711"></xref>. We take this opportunity to thank the authors
      of said documents.</t>
    </section>
  </middle>

  <back>
    <references title="Normative References">
      &rfc2119;

      &rfc3550;

      &rfc3551;

      &rfc4585;

      &rfc5124;
    </references>

    <references title="Informative References">
      &rfc3095;

      &rfc4588;

      &rfc5104;

      <reference anchor="OMA-PoC">
        <front>
          <title>Specification : Push to talk Over Cellular User Plane,
          http://member.openmobilealliance.org/ftp/public_documents/poc/Permanent_documents/OMA-TS-PoC_UserPlane-V2_0-20080507-C.zip</title>

          <author fullname="">
            <organization>Open Mobile Alliance</organization>
          </author>

          <date day="28" month="November" year="2006" />
        </front>
      </reference>

      <reference anchor="MTSI-3GPP">
        <front>
          <title>Specification : 3GPP TS 26.114 (v8.2.0 or later),
          http://www.3gpp.org/ftp/Specs/html-info/26-series.htm</title>

          <author fullname="3gpp.org">
            <organization>3GPP</organization>
          </author>

          <date day="29" month="March" year="2007" />
        </front>
      </reference>

      <reference anchor="TCP-FRIEND">
        <front>
          <title>RTP with TCP Friendly Rate Control</title>

          <author fullname="Ladan Gharai" initials="L" surname="Gharai">
            <organization></organization>
          </author>

          <date day="25" month="July" year="2007" />
        </front>

        <seriesInfo name="Work in" value="Progress" />
      </reference>

      <?rfc include='reference.RFC.4566'?>

      <?rfc include='reference.RFC.3711'?>

      <reference anchor="MULTI-RTP">
        <front>
          <title>Multiplexing RTP Data and Control Packets on a Single
          Port</title>

          <author fullname="Colin Perkins" initials="C" surname="Perkins">
            <organization></organization>
          </author>

          <author fullname="Magnus Westerlund" initials="M"
                  surname="Westerlund">
            <organization></organization>
          </author>

          <date day="6" month="August" year="2007" />
        </front>

        <seriesInfo name="Work in" value="Progress" />
      </reference>

      <?rfc include='reference.RFC.2326'?>

      <?rfc include='reference.RFC.2974'?>
    </references>
  </back>
</rfc>
