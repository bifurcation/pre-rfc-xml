<?xml version="1.0" encoding="US-ASCII"?>

<!DOCTYPE rfc SYSTEM "rfc2629.dtd"[]>
<?rfc toc="yes" ?>
<?rfc compact="yes" ?>
<?rfc symrefs="yes"?>
<?rfc subcompact="no"?>
<?rfc sortrefs="no" ?>
<?rfc rfcedstyle="yes"?>

<rfc ipr="trust200902" category="std" number="6809" submissionType="IETF" consensus="yes">

        <front>
                <title abbrev="Proxy Feature">
                Mechanism to Indicate Support of Features and Capabilities in the Session Initiation Protocol (SIP)
                </title>
                <author initials="C.H." surname="Holmberg" fullname="Christer Holmberg">
                    <organization>Ericsson</organization>
                    <address>
                        <postal>
                           <street>Hirsalantie 11</street>
                           <code>02420</code>
                           <city>Jorvas</city>
                           <country>Finland</country>
                        </postal>
                    <email>christer.holmberg@ericsson.com</email>
                   </address>
                </author>
                <author initials="I.S." surname="Sedlacek" fullname="Ivo Sedlacek">
                   <organization>Ericsson</organization>
                     <address>
                        <postal>
                           <street>Scheelevaegen 19C</street>
                           <code>22363</code>
                           <city>Lund</city>
                           <country>Sweden</country>
                        </postal>
                    <email>ivo.sedlacek@ericsson.com</email>
                   </address>
                </author>

                <author initials="H.K." surname="Kaplan" fullname="Hadriel Kaplan">
                    <organization>Acme Packet</organization>
                    <address>
                        <postal>
                           <street>71 Third Ave.</street>
                           <city>Burlington</city>
                           <region>MA</region>
                           <code>01803</code>
                           <country>USA</country>
                        </postal>
                      <email>hkaplan@acmepacket.com</email>        
                    </address>
                </author>                
                
                <date month="November" year="2012" />

                <area>Transport</area>
                <workgroup>SIPCORE Working Group</workgroup>

                <keyword>SIP</keyword>
                <keyword>proxy</keyword>
                <keyword>feature</keyword>
                <keyword>feature tag</keyword>
                <keyword>feature-capability indicator</keyword>
                <keyword>Feature-Caps</keyword>
                <keyword>capability</keyword>

                <abstract>

                        <t>
                This specification defines a new SIP header field, Feature-Caps. The
                Feature-Caps header field conveys feature-capability indicators that
                are used to indicate support of features and capabilities for SIP
                entities that are not represented by the Uniform Resource
                Identifier (URI) of the Contact header field.
                        </t>
                        <t>
                SIP entities that are represented by the URI of the SIP Contact header
                field can convey media feature tags in the Contact header field to indicate 
                support of features and capabilities.
                        </t>
                        <t>
                This specification also defines feature-capability indicators and creates 
                a new IANA registry, "Proxy-Feature Feature-Capability Indicator Trees", for 
                registering feature-capability indicators.
                        </t>
                </abstract>
        </front>
        <middle>
                <section title="Introduction" toc="default">
                        <t>
                The Session Initiation Protocol (SIP) <xref target="RFC3261" pageno="false" 
                format="default"/> extension for indicating User Agent (UA)
                capabilities, defined in RFC 3840 <xref 
                target="RFC3840" pageno="false" format="default"/>, provides a
                mechanism that allows a SIP message to convey information
                relating to the originator's features and capabilities,
                using the Contact header field.
                        </t>
                        <t>
                This specification defines a new SIP header field, Feature-Caps. The
                Feature-Caps header field conveys feature-capability indicators that
                are used to indicate support of features and capabilities for
SIP

                entities that are not represented by the Uniform Resource
                Identifier (URI) of the Contact header
                field. Such cases are:
                <t>
                  <list style="symbols">
                     <t>
                     The SIP entity acts as a SIP proxy.
                     </t>

                     <t>
                     The SIP entity acts as a SIP registrar.
                     </t>

                     <t>
                     The SIP entity acts as a Back-to-Back User Agent (B2BUA)
                     <xref target="RFC3261" pageno="false" format="default"/>,
                     where the Contact header field URI represents another SIP
                     entity.
                     </t>                        
                  </list>
                </t>
               </t>
 
              <t>
                SIP entities that are represented by the URI of the SIP Contact header
                field can convey media feature tags in the Contact header field to indicate 
                support of features and capabilities.
                        </t>
                        <t>
                Unlike media feature tags, feature-capability indicators are 
                intended to only be used with SIP.
                        </t>
                        <t>
                This specification also defines feature-capability indicators and creates 
                a new IANA registry, "Proxy-Feature Feature-Capability Indicator Trees", for 
                registering feature-capability indicators.
                        </t>
                </section>
                
                <section title="Conventions" toc="default">
                        <t>
                The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", 
                "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in 
                BCP 14, RFC 2119 <xref target="RFC2119" pageno="false" format="default" />.
                        </t>
                </section>

                <section title="Definitions" toc="default">
                        <t>
                Downstream SIP entity: SIP entity in the direction towards which a SIP request is sent.
                        </t>
                        <t>
                Upstream SIP entity: SIP entity in the direction from which a SIP request is received.
                        </t>
                </section>
                
                <section title="Feature-Caps Header Field" anchor="sec.fchf" toc="default">
                        <section title="Introduction" anchor="sec.fchf.int" toc="default">
                <t>
                        The Feature-Caps header field is used by SIP entities to convey support 
                        of features and capabilities, by setting feature-capability indicators. 
                        A feature-capability indicator conveyed in a
Feature&nbhy;Caps header field indicates 
                        that a SIP entity in the SIP message signaling path supports the associated 
                        feature and capability.
                </t>
                        </section>        

                        <section title="User Agent and Proxy Behavior" anchor="sec.fchf.ua" toc="default">
                <section title="General" anchor="sec.fchf.ua.gen" toc="default">                        
                        <t>
                        If the URI in a Contact header field of a request or response represents 
                        a SIP entity, the entity MUST NOT indicate supported features and capabilities 
                        using a Feature-Caps header field within that request or response.
                        </t>
                        <t>
                        When a SIP entity receives a SIP request, or response, that contains one or more 
                        Feature-Caps header fields, the feature-capability indicators in the header field inform 
                        the entity about the features and capabilities supported by entities in the SIP message
                        signaling path. The procedure by which features and capabilities are invoked are outside the scope 
                        of this specification and MUST be described by individual feature-capability indicator 
                        specifications.
                        </t>
                        <t>
                        A Feature-Caps header field value cannot convey the address of the SIP 
                        entity that inserted the Feature-Caps header field. 
                        If additional data about a supported feature needs to be conveyed, such 
                        as the address of the SIP entity that indicated support of the feature, then 
                        the feature definition needs to define a way to convey that information as 
                        a value of the associated feature-capability indicator.
                        </t>
                        <t>
                        When a SIP entity adds a Feature-Caps header field to a SIP message, it MUST place
                        the header field before any existing Feature-Caps header field in the message to
                        be forwarded, so that the added header field becomes the top-most one.
                        Then, when another SIP entity receives a SIP request or
the response, the SIP 
                        feature-capability indicators in the top-most Feature-Caps header field will represent the
                        supported features and capabilities "closest", from a SIP signaling point of view, to the 
                        entity.
                        </t>
                        <t>
                        Based on features and policies, a SIP entity MAY remove a Feature&nbhy;Caps header 
                        field from a SIP message. Also, a SIP entity MAY remove a feature-capability 
                        indicator from a Feature&nbhy;Caps header field within a SIP message. A SIP entity 
                        SHOULD NOT re-order the Feature&nbhy;Caps header fields within a SIP message.
                        </t>
                        <t>
                        For a given fc-value, as defined in <xref target="sec.syn.fchf.abnf"/>, the order in which
                        feature-capability indicators are listed has no significance.
                        For example, "foo;bar" and "bar;foo" have the same meaning (i.e., that the SIP entity 
                        that inserted the feature-capability indicator supports the features and 
                        capabilities associated with the "foo" and "bar" feature-capability indicators).
                        </t>
                        <t>
                        
                        </t>
                </section>
                <section title="B2BUA Behavior" anchor="sec.fchf.ua.b2bua" toc="default">                        
                        <t>
                        The procedures in this section apply to User Agents (UAs) 
                        <xref target="RFC3261" pageno="false" format="default" /> that are part of
                        B2BUAs that are referenced in the message by a Record-Route header field 
                        rather than by the URI of the Contact header field.
                        </t>
                        <t>
                        When such a UA sends a SIP request, if the UA wants to indicate support of 
                        features and capabilities towards its downstream SIP entities, it inserts a Feature-Caps 
                        header field in the request, containing one or more feature-capability indicators 
                        associated with the supported features and capabilities, before it forwards the request.
                        </t>
                        <t>
                        If the SIP request is triggered by another SIP request that the B2BUA 
                        has received, the UA MAY forward received Feature-Caps header fields by 
                        copying them to the outgoing SIP request, similar to a SIP proxy, before 
                        it inserts its own Feature-Caps header field in the SIP request.                
                        </t>
                        <t>
                        When such a UA receives a SIP response, if the UA wants to indicate support 
                        of features and capabilities towards its upstream SIP entities, it inserts a Feature-Caps 
                        header field in the response, containing one or more feature-capability indicators 
                        associated with the supported features and capabilities, before it forwards the response.
                        </t>
                        <t>
                        If the SIP response is triggered by another SIP response that the B2BUA 
                        has received, the UA MAY forward received Feature-Caps header fields by 
                        copying them to the outgoing SIP response, similar to a SIP proxy, before 
                        it inserts its own Feature-Caps header field in the SIP response.                
                        </t>
                </section>
                        
                <section title="Registrar Behavior" anchor="sec-ua-reg" toc="default">                        
                        <t>
                        If a SIP registrar wants to indicate support of features and capabilities towards its 
                        upstream SIP entities, it inserts a Feature-Caps header field, containing 
                        one or more feature-capability indicators associated with the supported features and capabilities, in
                        a REGISTER response.
                        </t>
                </section>
                
                <section title="Proxy Behavior" anchor="sec-proxy" toc="default">                        
                        <t>
                        When a SIP proxy receives a SIP request, if the proxy wants to indicate 
                        support of features and capabilities towards its downstream SIP entities, it inserts a 
                        Feature-Caps header field in the request, containing one or more SIP 
                        feature-capability indicators associated with the supported features and capabilities, before it 
                        forwards the request.
                        </t>
                        <t>
                        When a proxy receives a SIP response, if the proxy wants to indicate 
                        support of features and capabilities towards its upstream SIP entities, it inserts a 
                        Feature-Caps header field in the response, containing one or more SIP 
                        feature-capability indicators associated with the supported features and capabilities, before it forwards 
                        the response.
                        </t>
                </section>
                        </section>

                        <section title="SIP Message Type and Response Code Semantics" anchor="sec-fc" toc="default">
                <section title="General" anchor="sec-fc-sip-gen" toc="default">
                        <t>
                        This section describes the general usage and semantics of the Feature-Caps
                        header field for different SIP message types and response codes.                         
                        </t>
                        <t>
                        <xref target="sec.syn.fchf.abnf"/> defines the Feature-Caps header field ABNF.                        
                        </t>
                </section>
                <section title="SIP Dialog" anchor="sec-fc-sip-dia" toc="default">                
                        <t>
                        The Feature-Caps header field can be used within an initial SIP request for a dialog, 
                        within a target refresh SIP request, and within any 18x or 2xx response associated 
                        with such requests.
                        </t>
                        <t>
                        If a feature-capability indicator is inserted in a Feature-Caps header field of an initial request
                        for a dialog, or within a response of such a request, it indicates to the receivers of
                        the request (or response) that the feature associated with the feature-capability indicator is supported 
                        for the duration of the dialog, until a target refresh request is sent for the dialog, or until
                        the dialog is terminated.
                        </t>
                        <t>
                        Unless a feature-capability indicator is inserted in a Feature-Caps header field of a target
                        refresh request, or within a response of such a request, it indicates to the receivers of
                        the request (or response) that the feature is no longer supported for the dialog.        
                        </t>
                        <t>
                        For a given dialog, a SIP entity MUST insert the same feature-capability indicators in all 18x and 
                        2xx responses associated with a given transaction.
                        </t>
                        <t>
                        As it cannot be guaranteed that 2xx responses associated with
                        SIP SUBSCRIBE requests will reach the User Agent Client (UAC) 
                        <xref target="RFC3261" pageno="false" format="default" />, due to forking of the request,
                        entities need to indicate supported features and capabilities in the SIP NOTIFY 
                        request that will be sent for each of the created subscription dialogs.
                        </t>
                </section>
                <section title="SIP Registration (REGISTER)" anchor="sec-fc-sip-reg" toc="default">                
                        <t>
                        The Feature-Caps header field can be used within a SIP REGISTER request and within 
                        the 200 (OK) response associated with such a request.
                        </t>
                        <t>
                        If a feature-capability indicator is conveyed in a Feature-Caps header field of a REGISTER request, or
                        within an associated response, it indicates to the receivers of the message that the
                        feature associated with the feature-capability indicator is supported for the registration, until the 
                        registration of the contact that was explicitly conveyed in the REGISTER request expires, 
                        or until the registered contact is explicitly refreshed and the refresh REGISTER request 
                        does not contain the feature-capability indicator associated with the feature.                
                        </t>
                        <t>
                        While a REGISTER response can contain contacts that have been
                        registered as part of other registration transactions, support of any
                        indicated feature only applies to requests sent to the contact(s) that 
                        were explicitly conveyed in the associated REGISTER request.
                        </t>
                        <t>
                        This specification does not define any semantics for usage of the Feature-Caps header field
                        in pure registration binding fetching messages (see Section 10.2.3 of RFC 3261), where the 
                        REGISTER request does not contain a Contact header field. Unless such semantics are defined
                        in a future extension, fetching messages will not have any impact on previously indicated 
                        support of features and capabilities, and SIP entities MUST NOT insert a Feature-Caps header 
                        field in such messages.                        
                        </t>
                        <t>
                        If SIP outbound <xref target="RFC5626" pageno="false" format="default"/> is used, the rules
                        above apply. However, supported features and capabilities only apply for the registration 
                        flow on which support has been explicitly indicated.                        
                        </t>
                </section>
                <section title="SIP Standalone Transactions" anchor="sec-fc-sip-sa" toc="default">
                        <t>
                        The Feature-Caps header field can be used within a standalone SIP request
                        and within any 2xx response associated with such a request.
                        </t>
                        <t>
                        If a feature-capability indicator is inserted in a Feature-Caps header field of a standalone
                        request, or within a response of such a request, it indicates to the receivers of
                        the request (or response) that the feature associated with the feature-capability indicator
                        is supported for the duration of the standalone transaction.
                        </t>
                </section>
                        </section>                
                </section>
                
                <section title="Feature-Capability Indicators" anchor="sec.fc" toc="default">
                        <section title="Introduction" anchor="sec.fc.int" toc="default">
                <t>                
                        Feature-capability indicators are used by SIP entities not
                        represented by the URI of the Contact header field to indicate
                        support of features and capabilities, where media feature tags cannot
                        be used to indicate such support.
                </t>
                <t>
                        A value, or a list of values, that provides additional information
                        about the supported feature or capability can be associated with a
                        feature-capability indicator.
                </t>
                        </section>

                        <section title="Registration Trees" anchor="sec.fc.reg.tree" toc="default">
                <section title="General" anchor="sec.fc.reg.tree.gen" toc="default">
                        <t>
                        The following subsections define registration trees, distinguished
                        by&nbsp;the use of faceted names (e.g., names of the form
"tree.feature&nbhy;name"). The registration trees are defined in the IANA 
                        "Proxy-Feature Feature-Capability Indicator Trees" registry.
                        </t>
                        <t>
                        The trees defined herein are similar to the global tree and SIP tree
                        defined for media feature tags, in RFCs 2506 <xref target="RFC2506" 
                        pageno="false" format="default"/> and 3840 <xref target="RFC3840"/>. Other registration 
                        trees are outside the scope of this specification.
                        </t>
                        <t>
                        In contrast to RFCs 2506 and 3840, this specification only
                        defines a global tree and a SIP tree, as they are the only trees
                        defined in those RFCs that have been used for defining SIP-specific
                        media feature tags.
                        </t>
                        <t>
                        When a feature-capability indicator is registered in any registration tree, no
                        leading "+" is used in the registration.
                        </t>
                </section>
                <section title="Global Tree" anchor="sec.fc.reg.tree.glob" toc="default">
                <t>
                        The global feature-capability indicator tree is similar to the media feature tag 
                        global tree defined in RFC 2506 <xref target="RFC2506" pageno="false" 
                        format="default"/>.

                </t>
                <t>
                        A feature-capability indicator in the global tree will be distinguished by the leading 
                        facet "g.". An organization can propose either a designation indicative 
                        of the feature (e.g., "g.blinktags") or a faceted designation including
                        the organization name (e.g., "g.organization.blinktags").
                </t>
                </section>
                <section title="SIP Tree" anchor="sec.fc.reg.tree.sip" toc="default">
                <t>
                        The SIP feature-capability indicator tree is similar to the media feature tag
                        SIP tree defined in RFC 3840.
                </t>
                <t>
                        A feature-capability indicator in the SIP tree will be distinguished by the leading 
                        facet "sip.".
                </t>
                </section>
                        </section>
                
                        <section anchor="sec.fc.reqs" title="Feature-Capability Indicator Specification Requirements">
                <section anchor="sec.fc.reqs.gen" title="General">
                <t>
                        A feature-capability indicator specification MUST address the issues defined 
                        in the following subsections or document why an issue is not applicable 
                        for the specific feature-capability indicator. A reference to the specification MUST
                        be provided when the feature-capability indicator is registered with IANA 
                        (see <xref target="sec.temp" pageno="false" format="default"/>).
                </t>
                <t>
                        It is bad practice for feature-capability indicator specifications to repeat procedures 
                        (e.g., general procedures on the usage of the Feature-Caps header field 
                        and feature-capability indicators) defined in this specification, unless needed for 
                        clarification or emphasis purposes. A feature-capability indicator specification MUST NOT 
                        modify the Feature-Caps header field rules and
semantics defined in <xref target="sec.fchf"/>.
                </t>
                <t>
                        A feature-capability indicator specification MUST NOT weaken any behavior designated 
                        with "SHOULD" or "MUST" in this specification.  However, a specification MAY strengthen 
                        "SHOULD", "MAY", or "RECOMMENDED" requirements to "MUST" strength if features and 
                        capabilities associated with the feature-capability indicator require&nbsp;it.
                </t>
                </section>
                <section anchor="sec.fc.reqs.ove" title="Overall Description">                        
                        <t>
                        The feature-capability indicator specification MUST contain an
                        overall description of the feature-capability indicator: how it is
                        used to indicate support of a feature, a description of the feature
                        associated with the feature-capability indicator, a description of 
                        any additional information (conveyed using one or more feature-capability 
                        indicator values) that can be conveyed together with the feature-capability
                        indicator, and a description of how the associated feature MAY be
                        exercised/invoked.
                        </t>
                </section>
                <section anchor="sec.fc.reqs.value" title="Feature-Capability Indicator Values">
                <t>
                        A feature-capability indicator can have an associated value, or a
                        list of values. The feature-capability indicator specification MUST 
                        define the syntax and semantics of any value defined for the feature-capability indicator, including possible restrictions related to the 
                        usage of a specific value. The feature-capability indicator specification 
                        MUST define the value(s) in accordance with the ABNF
defined in <xref target="sec.syn.fc.abnf"/>. The feature-capability indicator specification MUST define
                        whether the feature-capability indicator has a default value.
                </t>
                <t>
                        If no values are defined for the feature-capability indicator, it MUST
                        be indicated in the feature-capability indicator specification.
                </t>
                <t>
                        A feature-capability indicator value is only applicable for the
                        feature-capability indicator for which it has been defined. For
                        other feature-capability indicators, the value has to be defined
                        explicitly, even if the semantics are identical.
                </t>
                <t>
                        It is strongly RECOMMENDED to not re-use a value that already
                        has been defined for another feature-capability indicator, unless the
                        semantics of the values are the same.
                </t>
                </section>
                <section anchor="sec.fc.reqs.rest" title="Usage Restrictions">
                <t>
                        If there are restrictions on how SIP entities can
                        insert a feature-capability indicator, the
                        feature-capability indicator specification 
                        MUST document such restrictions.
                </t>

                <t>                        
                        There might be restrictions related to whether or not
                        entities

                        <list style="symbols">
                        <t>                        
                        are allowed to insert a feature-capability indicator in
                        registration-related messages, standalone transaction
                        messages, or dialog-related messages,
                        </t>

                        <t>are allowed to insert a feature-capability
                        indicator in requests or responses,
                        </t>

                        <t>also need to support other features and
                        capabilities in order to insert a feature-capability
                        indicator, and
                        </t>

                        <t>are allowed to indicate support of a feature
                        in conjunction with another feature.
                        </t>
                  </list>
                </t>
                </section>

                <section anchor="sec.fc.reqs.ic" title="Interoperability Considerations">
                <t>
                        The feature-capability indicator specification MUST document
                        any specific interoperability considerations that apply to the
                        feature-capability indicator.
                </t>
                <t>
                        Interoperability considerations can, e.g., include procedures related
                        to cases where an expected feature-capability indicator is not present
                        or where it contains an unexpected value.
                </t>
                </section>
                <section anchor="sec.fc.reqs.sc" title="Security Considerations">
                <t>
                        The feature-capability indicator specification MUST document
                        any specific security considerations that apply to the
                        feature-capability indicator.
                </t>
                </section>
                <section anchor="sec.fc.reqs.ex" title="Examples">
                <t>
                        It is recommended that the feature-capability indicator specification provide
                           demonstrative message flow diagrams, paired with complete messages
                           and message descriptions.
                </t>
                <t>
                        Note that example message flows are by definition informative and do not
                           replace normative text.
                </t>
                </section>
                <section anchor="sec.fc.reqs.oi" title="Other Information">
                <t>
                        If there is additional information about the feature-capability indicator,
                        it is recommended to describe such information. It can include, for example, 
                        names of related feature-capability indicators.
                </t>
                </section>
                        </section>
                </section>
                
                <section title="Syntax" anchor="sec.syn" toc="default">
                        <section title="General" anchor="sec.syn.gen" toc="default">
                <t>
                        This section defines the ABNF for the Feature-Caps header field and for
                        the feature-capability indicators. The ABNF defined in this specification 
                        is conformant to RFC 5234 <xref target="RFC5234" pageno="false" format="default"/>.
                </t>
                        </section>

                        <section title="Syntax: Feature-Caps Header Field" anchor="sec.syn.fchf" toc="default">
                <section title="ABNF" toc="default" anchor="sec.syn.fchf.abnf">
                        <t>
                        The ABNF for the Feature-Caps header fields is:
                        </t>                        

                        <figure><artwork xml:space="preserve" name="" type="" align="left" alt="" width="" height=""><![CDATA[ 
Feature-Caps = "Feature-Caps" HCOLON fc-value
                *(COMMA fc-value)   
fc-value     = "*" *(SEMI feature-cap) 
                        ]]></artwork></figure>

                        <t>
                        NOTE: The "*" value is present in order to follow the guidelines for syntax 
                        in RFC 4485 <xref target="RFC4485" pageno="false" format="default"/> and to maintain a 
                        consistent format with RFCs 3840 <xref
target="RFC3840"/> and 3841 <xref target="RFC3841" pageno="false" 
                        format="default"/>.
                        </t>
                </section>
                        </section>
                        
                        <section title="Syntax: Feature-Capability Indicator" anchor="sec.syn.fc" toc="default">
                <section title="General" anchor="sec.syn.fc.gen" toc="default">
                        <t>
                        In a feature-capability indicator name (ABNF:
                        fcap-name), dots can be used to implement a
                        feature-capability indicator tree hierarchy (e.g., tree.feature.subfeature). The description of usage of such a
                        tree hierarchy must be described when registered.
                        </t>
                </section>
                <section title="ABNF" toc="default" anchor="sec.syn.fc.abnf">
                        <t>
                        The ABNF for the feature-capability indicator is:
                        </t>

                        <figure><artwork xml:space="preserve" name="" type="" align="left" alt="" width="" height=""><![CDATA[ 
feature-cap       =  "+" fcap-name [EQUAL LDQUOT (fcap-value-list
                         / fcap-string-value ) RDQUOT]
fcap-name         =  ftag-name
fcap-value-list   =  tag-value-list
fcap-string-value =  string-value
;; ftag-name, tag-value-list, string-value defined in RFC 3840
                        ]]></artwork></figure>
                <t>
                NOTE: In comparison with media feature tags, the "+" sign
                in front of the feature-capability indicator name is mandatory.
                </t>

                </section>
                        </section>                        
            </section>        
                
                <section title="IANA Considerations" anchor="sec.iana" toc="default">
                        <section title="Registration of the Feature-Caps Header Field" anchor="sec.iana.fchf" toc="default">
                <t>
                        This specification registers a new SIP header field, Feature-Caps, according 
                        to the process defined in RFC 3261 <xref target="RFC3261" pageno="false" format="default"/>.
                </t>
                <t>
                        The following is the registration for Feature-Caps in the "Header Fields" registry:
                </t>
                <t>
                        RFC Number: RFC &rfc.number;
                </t>
                <t>
                        Header Field Name: Feature-Caps
                </t>
                        </section>

                        <section title="Registration of the Feature-Caps Header Field Parameter" anchor="sec.iana.siphf" toc="default">
                <t>
                        This specification adds the Feature-Caps header field to the IANA "Header Field Parameters and
                        Parameter Values" registry, according to the process
described in RFC 3968 <xref target="RFC3968" pageno="false" 
                        format="default"/>.
                </t>                

                <figure><artwork xml:space="preserve" name="" type="" align="left" alt="" width="" height=""><![CDATA[ 
                                    Predefined
Header Field      Parameter Name    Values        Reference
--------------------------------------------------------------------

Feature-Caps      +<fcap-name> *    No            [RFC6809]

       * <fcap-name> denotes parameter names conforming to the
         syntax <fcap-name> defined in RFC 6809.  Valid 
         feature-capability indicators are registered in the
         Proxy-Feature Feature-Capability Indicator Trees registry.
                ]]></artwork></figure>

                        </section>        

                        <section title="Proxy-Feature Feature-Capability Indicator Trees" anchor="sec.iana.tree" toc="default">
                <section title="Introduction" anchor="sec.iana.tree.int" toc="default">
                        <t>
                        This specification creates a new sub-registry to the IANA "Session Initiation 
                        Protocol (SIP) Parameters" registry, according to the
process defined in RFC 5226. 
                        The name of the sub-registry is "Proxy-Feature Feature-Capability Indicator Trees".
                        </t>
                        <t>
                        Feature-capability indicators are categorized by the "leading facet" of their name. The 
                        leading facet is a prefix of the name consisting of all characters up to 
                        and including the first ".". Feature-capability indicator names that contain no "." 
                        characters are considered to have an empty ("") leading facet.
                        </t>
                        <t>
                        The "Proxy-Feature Feature-Capability Indicator Trees" registry
                        contains sub-registries for subsets (called 'trees') of feature-capability indicators 
                        sharing the same leading facet. Each feature-capability indicator is registered within 
                        the tree that matches its leading facet. If no tree matches its leading facet, then the
                        feature-capability indicator cannot be registered.
                        </t>
                        <t>
                        New feature-capability indicator sub-registries (trees) can be registered. The 
                        registration must meet the "Standards Action" policies defined in RFC 5226 
                        <xref target="RFC5226" pageno="false" format="default"/>. A new name, 
                        unique leading facet, and registration policies (as
                        defined in RFC 5226) for feature-capability indicators within this tree need to be provided.
                        </t>
                        <t>
                        This document defines the first two feature-capability indicator trees ("g." and "sip."). 
                        It does not define a tree for the empty leading facet.                
                        </t>
                </section>
                <section title="Global Feature-Capability Indicator Registration Tree" anchor="sec.iana.tree.g" toc="default">
                        <t>
                        This specification creates a new feature-capability
                        indicator tree in the IANA "Proxy-Feature
                        Feature-Capability Indicator Trees" registry. The name of the tree is "Global Feature-Capability Indicator Registration 
                        Tree", and its leading facet is "g.". It is used for the registration of 
                        feature-capability indicators.
                        </t>
                        <t>
                        When a feature-capability indicator is registered in the global tree,
                            it needs to meet the "Specification Required" policies defined in RFC&nbsp;5226.
                            A designated area expert will review the proposed feature-capability indicator
                        and consult with members of related mailing lists. 
                        The information required in the registration is defined
in <xref target="sec.fc.reqs"/> of this document.
                        </t>
                        <t>
                        Note that all feature-capability indicators registered in the global tree will have names
                        with a leading facet "g.". No leading "+" is used in the registrations in 
                        any of the feature-capability indicator registration trees.
                        </t>
                        <t>
                        The format of the global tree is as described below:
                        </t>                        

                        <figure><artwork xml:space="preserve" name="" type="" align="left" alt="" width="" height=""><![CDATA[ 
Name   Description   Reference
------------------------------

Name - contains the Feature-Capability Indicator Name, provided in
the registration feature-capability indication registration template.

Description - provided in the registration feature-capability
indication registration template.

Reference - contains the Feature-Capability Indicator specification
reference provided in the registration feature-capability indication
registration template.
                        ]]></artwork></figure>

                        <t>
                        No initial values are registered in the global tree.
                        </t>
                </section>
                <section title="SIP Feature-Capability Indicator Registration Tree" anchor="sec.iana.tree.sip" toc="default">
                        <t>
                        This specification creates a new feature-capability
                        indicator tree in the IANA "Proxy-Feature
                        Feature-Capability Indicator Trees" registry. The name of the tree is "SIP Feature-Capability Indicator Registration Tree", 
                        and its leading facet is "sip.". It is used for the registration of feature-capability indicators.
                        </t>
                        <t>
                        When a feature-capability indicator is registered in the SIP tree, it
                        needs to meet the "IETF Review" policies defined in RFC 5226. The 
                        information required in the registration is defined in
<xref target="sec.fc.reqs"/> of this document.
                        </t>
                        <t>
                        Note that all feature-capability indicators registered in the SIP tree will have names
                        with a leading facet "sip.".  No leading "+" is used in the
                        registrations in any of the feature-capability indicator registration trees.
                        </t>
                        <t>
                        The format of the SIP tree is as described below:
                        </t>

                        <figure><artwork xml:space="preserve" name="" type="" align="left" alt="" width="" height=""><![CDATA[ 
Name   Description   Reference
------------------------------

Name - contains the Feature-Capability Indicator Name, provided in
the registration feature-capability indication registration template.

Description - provided in the registration feature-capability
indication registration template.

Reference - contains the Feature-Capability Indicator specification
reference provided in the registration feature-capability indication
registration template.
                        ]]></artwork></figure>

                        <t>
                        No initial values are registered in the SIP tree.
                        </t>
                </section>
                        </section>
                </section>
                
                <section title="Feature-Capability Indicator Registration Template" anchor="sec.temp" toc="default">

                        <figure><artwork xml:space="preserve" name="" type="" align="left" alt="" width="" height=""><![CDATA[ 
Registration requests for the global tree are submitted by email to
iana@iana.org.

Registration requests for the SIP tree requires submitting an
Internet-Draft to the IESG.

| Instructions are preceded by '|'.  All fields are mandatory.

Feature-capability indicator name:

Description:

| The description should be no longer than 4 lines. More 
| detailed information can be provided in the feature
| capability indicator specification.

Feature-capability indicator specification reference:                        

| The referenced specification must contain the information 
| listed in Section 5.3 of RFC 6809.

Contact:

| Name(s) & email address(es) of person(s) to
| contact for further information.

                        ]]></artwork></figure>

            </section>

            <section title="Security Considerations" anchor="sec.seccon" toc="default">
                        <t>                
                The security issues for feature-capability indicators are similar to
                the ones defined in RFC 3840 for media feature tags. Media
                feature tags can reveal information about end users and end-user
                equipment, which can be used for industrial espionage. The knowledge
                about end-user equipment capabilities can also be used to influence
                application behavior. As feature-capability indicators are not intended
                to convey capability information of end-user devices, such end-user
                security aspects of RFC 3840 do not apply to feature-capability indicators.
                        </t>
                        <t>
                In addition, the security issue discussed in RFC 3840
                regarding an attacker using the SIP caller preferences
                extension <xref target="RFC3841" pageno="false" 
                format="default"/> in order to affect routing decisions
                does not apply, as the mechanism is not defined to be used with
                feature-capability indicators.
                        </t>
                        <t>
                Feature-capability indicators can, however, provide capability and
                characteristics information about the SIP entity, some of which might
                be sensitive. Malicious elements viewing the indicators may be able
                to discern application deployment details or identify elements with 
                exploitable feature implementation weaknesses. The Feature-Caps 
                header field does not convey address information about SIP entities.  
                However, individual feature-capability indicators might provide address 
                information as feature-capability indicator values.                 
                Therefore, if the feature-capability indicators provide information that 
                requires data integrity or origin authentication, mechanisms for providing 
                those MUST be provided. If confidentiality is required, then the specification 
                MUST call for the use of Transport Layer Security (TLS) <xref target="RFC5246" 
                pageno="false" format="default"/> at all hops. Since there are no satisfactory 
                middle-to-end or middle-to-middle SIP confidentiality mechanisms, TLS is as 
                good as it gets, and specifications SHOULD NOT define feature-capability 
                indicators that need confidentiality that is better than the hop-by-hop 
                confidentiality provided by TLS.
                        </t>
                </section>
                
                <section title="Acknowledgements" anchor="sec.acks" toc="default">
                        <t>
          The authors wish to thank everyone in the SIP community that 
          provided input and feedback on the work of this specification.
                        </t>
                </section>
                
        </middle>
        
        <back>
              <?rfc rfcedstyle="no"?>
                <references title="Normative References">
                        <?rfc include="reference.RFC.2119"?>
                        <?rfc include="reference.RFC.3261"?>
                        <?rfc include="reference.RFC.5234"?>
                </references>
                <references title="Informative References">
                        <?rfc include="reference.RFC.2506"?>
                        <?rfc include="reference.RFC.3840"?>
                        <?rfc include="reference.RFC.3841"?>
                        <?rfc include="reference.RFC.3968"?>
                        <?rfc include="reference.RFC.4485"?>
                        <?rfc include="reference.RFC.5226"?>
                        <?rfc include="reference.RFC.5246"?>
                        <?rfc include="reference.RFC.5626"?>
                </references>
           <?rfc rfcedstyle="yes"?>
        </back>
</rfc>
